{"entries":[{"timestamp":1746614229603,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables></variables><block type=\"device_forever\" x=\"375\" y=\"44\"></block><block type=\"pxt-on-start\" x=\"52\" y=\"64\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Id\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value></block></statement></block><block type=\"device_button_event\" x=\"199\" y=\"272\"><field name=\"NAME\">Button.AB</field><statement name=\"HANDLER\"><block type=\"radio_datagram_send_value\"><value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">A+B</field></shadow></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_button_event\" x=\"218\" y=\"422\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value></block></statement></block><block type=\"radio_on_value_drag\" x=\"563\" y=\"450\"><value name=\"HANDLER_DRAG_PARAM_name\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><value name=\"HANDLER_DRAG_PARAM_value\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">value</field></block></value><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hello!</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Hello</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">=</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">value</field></block></value></block></value></block></value></block></statement></block><block type=\"radio_on_string_drag\" x=\"553\" y=\"655\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hello!</field></shadow><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value></block></statement"],[1,"www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\""],[0,"></b"]],"start1":12,"start2":12,"length1":2772,"length2":103},{"diffs":[[0,"</block>"],[1,"\n"],[0,"</xml>"]],"start1":112,"start2":112,"length1":14,"length2":15}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"input.onButtonPressed(Button.A, function () {\n    radio.sendString(\"A\")\n})\ninput.onButtonPressed(Button.AB, function () {\n    radio.sendValue(\"A+B\", 1)\n})\nradio.onReceivedString(function (receivedString) {\n    basic.showString(receivedString)\n})\nradio.onReceivedValue(function (name, value) {\n    basic.showString(\"\" + name + (\"=\" + value))\n})\nradio.setGroup(1)\nbasic.forever(function () {\n\t\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":395,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"   \""],[-1,"preferredEditor\": \"blocksprj\""],[1,"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":241,"start2":241,"length1":36,"length2":31}]}]},{"timestamp":1746614507864,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"pe=\""],[-1,"function_definition\" x=\"693\" y=\"161\"><mutation name=\"acknowledge\" functionid=\"K~(n#r)/)=Bxa5|_+Mx$\"><arg name=\"message\" id=\"^h3Z%(*:/hST=;RG7#(+\" type=\"string\"></arg></mutation><field name=\"function_name\">acknowledge</field><value name=\"^h3Z%(*:/hST=;RG7#(+\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value"],[1,"device_button_event\" x=\"199\" y=\"272\"><field name=\"NAME\">Button.AB</field"],[0,"><st"]],"start1":426,"start2":426,"length1":400,"length2":80},{"diffs":[[0,"me=\""],[-1,"STACK"],[1,"HANDLER"],[0,"\"><b"]],"start1":516,"start2":516,"length1":13,"length2":15},{"diffs":[[0,"end_"],[-1,"string\"><value name=\"msg\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0"],[1,"value\"><value name=\"name"],[0,"\"><s"]],"start1":558,"start2":558,"length1":163,"length2":32},{"diffs":[[0,"XT\">"],[-1,"acknowledge."],[1,"A+B"],[0,"</fi"]],"start1":623,"start2":623,"length1":20,"length2":11},{"diffs":[[0,"me=\""],[-1,"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">message</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">value</field></block></value></block></value></block"],[1,"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow"],[0,"></v"]],"start1":664,"start2":664,"length1":411,"length2":77},{"diffs":[[0,"n_event\" x=\""],[-1,"199"],[1,"218"],[0,"\" y=\""],[1,"4"],[0,"2"],[-1,"7"],[0,"2\"><field na"]],"start1":799,"start2":799,"length1":34,"length2":34},{"diffs":[[0,"=\"NAME\">Button.A"],[-1,"B"],[0,"</field></block>"]],"start1":835,"start2":835,"length1":33,"length2":32},{"diffs":[[0,"ld><"],[-1,"/block><block type=\"argument_reporter_number\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"1120\" y=\"296\"><field name=\"VALUE\">value</field></block"],[1,"statement name=\"HANDLER\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value"],[0,"><"],[1,"/"],[0,"block"],[-1," type=\"device_button_event\" x=\"218\" y=\"422\"><field name=\"NAME\">Button.A</field"],[1,"></statement"],[0,"></b"]],"start1":856,"start2":856,"length1":248,"length2":176}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,") {\n"],[-1,"\t\n})\nfunction acknowledge (message: string) {\n    radio.sendString(\"acknowledge.\" + (\"message\" + value)"],[1,"    radio.sendString(\"A\""],[0,")\n}"],[1,")"],[0,"\ninp"]],"start1":42,"start2":42,"length1":114,"length2":36},{"diffs":[[0,"nction () {\n"],[-1,"\t"],[1,"    radio.sendValue(\"A+B\", 1)"],[0,"\n})\nradio.on"]],"start1":110,"start2":110,"length1":25,"length2":53}]}]},{"timestamp":1746615086522,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0," x=\""],[-1,"119"],[1,"693"],[0,"\" y=\""],[-1,"250"],[1,"161"],[0,"\"><m"]],"start1":450,"start2":450,"length1":19,"length2":19},{"diffs":[[0,"=\"TEXT\">"],[1,"acknowledge.</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World"],[0,"</field>"]],"start1":1068,"start2":1068,"length1":16,"length2":116},{"diffs":[[0,"XT\">"],[-1,"/acknowledge/</field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD1"],[1,"message</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">value</field></block></value></block></value></block></value></block></statement></block><block type=\"device_button_event\" x=\"199\" y=\"272\"><field name=\"NAME\">Button.AB</field></block><block type=\"argument_reporter_number\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"1120\" y=\"296\"><field name=\"VALUE\">value</field></block><block type=\"device_button_event\" x=\"218\" y=\"422\"><field name=\"NAME\">Button.A</field></block><block type=\"radio_on_value_drag\" x=\"563\" y=\"450\"><value name=\"HANDLER_DRAG_PARAM_name\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><value name=\"HANDLER_DRAG_PARAM_value\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">value</field></block></value><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text"],[0,"\"><s"]],"start1":1302,"start2":1302,"length1":105,"length2":1072},{"diffs":[[0,"=\"TEXT\">"],[-1,"/"],[1,"Hello!"],[0,"</field>"]],"start1":2403,"start2":2403,"length1":17,"length2":22},{"diffs":[[0,"field></shadow><"],[-1,"/value"],[1,"block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Hello</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field"],[0,"></block></value"]],"start1":2419,"start2":2419,"length1":38,"length2":236},{"diffs":[[0,"XT\">"],[-1,"/acknowledge/"],[1,"="],[0,"</fi"]],"start1":2845,"start2":2845,"length1":21,"length2":9},{"diffs":[[0,"gument_reporter_"],[-1,"string\""],[1,"number\"><field name=\"VALUE\">value</field></block></value></block></value></block></value></block></statement></block><block type=\"radio_on_string_drag\" x=\"553\" y=\"655\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation"],[0,"><field name=\"VA"]],"start1":2970,"start2":2970,"length1":39,"length2":330},{"diffs":[[0,"ld name=\"VALUE\">"],[-1,"message"],[1,"receivedString"],[0,"</field></block>"]],"start1":3289,"start2":3289,"length1":39,"length2":46},{"diffs":[[0,"ck></value><"],[-1,"/block></value"],[1,"statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hello!</field></shadow><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field"],[0,"></block></v"]],"start1":3332,"start2":3332,"length1":38,"length2":289}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"input.onButtonPressed(Button.A, function () {\n\t\n})\n"],[0,"function acknowl"]],"start1":0,"start2":0,"length1":16,"length2":67},{"diffs":[[0,"ng(\""],[-1,"\" + control.deviceName() + \"/\" + (\"/acknowledge/\" + messag"],[1,"acknowledge.\" + (\"message\" + value))\n}\ninput.onButtonPressed(Button.AB, function () {\n\t\n})\nradio.onReceivedString(function (receivedString) {\n    basic.showString(receivedString)\n})\nradio.onReceivedValue(function (name, value) {\n    basic.showString(\"\" + name + (\"=\" + valu"],[0,"e))\n}"],[1,")"],[0,"\nrad"]],"start1":110,"start2":110,"length1":71,"length2":287}]}]},{"timestamp":1746615270147,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"Name() +"],[1," \"/\" +"],[0," (\"/ackn"]],"start1":81,"start2":81,"length1":16,"length2":22}]}]},{"timestamp":1746615894534,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"pe=\""],[-1,"control_device_name\""],[1,"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">/acknowledge/</field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">/</field></shadow></value"],[0,"></b"]],"start1":1102,"start2":1102,"length1":28,"length2":271},{"diffs":[[0,"ck><"],[-1,"block type=\"text_join\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"394\" y=\"390\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">/acknowledge/</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">/</field></shadow></value></block><"],[0,"/xml"]],"start1":1844,"start2":1844,"length1":393,"length2":8}]}]},{"timestamp":1746615894552,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"es><"],[-1,"variable id=\"Nb6?2/`$0P_,9w4PC!he\">controller_name</variable><"],[0,"/var"]],"start1":63,"start2":63,"length1":70,"length2":8},{"diffs":[[0,"x=\"3"],[-1,"23"],[1,"75"],[0,"\" y=\""],[-1,"-20"],[1,"44"],[0,"\"></"]],"start1":107,"start2":107,"length1":18,"length2":17},{"diffs":[[0," x=\""],[-1,"3"],[1,"5"],[0,"2\" y=\""],[-1,"1"],[0,"6"],[1,"4"],[0,"\"><s"]],"start1":156,"start2":156,"length1":17,"length2":17},{"diffs":[[0,"ax=\"255\""],[1," label=\"Id\""],[0," precisi"]],"start1":297,"start2":297,"length1":16,"length2":27},{"diffs":[[0,"SLIDER\">"],[-1,"25"],[1,"1"],[0,"</field>"]],"start1":355,"start2":355,"length1":18,"length2":17},{"diffs":[[0,"ue><"],[-1,"next><block type=\"variables_set\"><field name=\"VAR\" id=\"Nb6?2/`$0P_,9w4PC!he\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value></block></next></block></statement></block><block type=\"function_definition\" x=\"-50\" y=\"190\"><mutation name=\"do_start\" functionid=\"66K=p(z*HB#K({nNkOVt\"></mutation><field name=\"function_name\">do_start</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></statement></block><block type=\"function_definition\" x=\"285\" y=\"213"],[1,"/block></statement></block><block type=\"function_definition\" x=\"119\" y=\"250"],[0,"\"><m"]],"start1":386,"start2":386,"length1":629,"length2":83},{"diffs":[[0,"id=\""],[-1,"gwoRgc}*@Ip0LbxiOQBA"],[1,"K~(n#r)/)=Bxa5|_+Mx$"],[0,"\"><a"]],"start1":504,"start2":504,"length1":28,"length2":28},{"diffs":[[0,"ge\" id=\""],[-1,"rs83taflkyqbyrj8kzshe"],[1,"^h3Z%(*:/hST=;RG7#(+"],[0,"\" type=\""]],"start1":546,"start2":546,"length1":37,"length2":36},{"diffs":[[0,"me=\""],[-1,"rs83taflkyqbyrj8kzshe"],[1,"^h3Z%(*:/hST=;RG7#(+"],[0,"\"><b"]],"start1":663,"start2":663,"length1":29,"length2":28},{"diffs":[[0,"lue name=\"msg\"><"],[1,"shadow type=\"text\"><field name=\"TEXT\">A</field></shadow><"],[0,"block type=\"text"]],"start1":891,"start2":891,"length1":32,"length2":89},{"diffs":[[0,"XT\">"],[-1,"from"],[0,"</fi"]],"start1":1072,"start2":1072,"length1":12,"length2":8},{"diffs":[[0,"field></shadow><"],[1,"block type=\"control_device_name\"></block><"],[0,"/value><value na"]],"start1":1078,"start2":1078,"length1":32,"length2":74},{"diffs":[[0,"eld name=\"TEXT\">"],[1,"World"],[0,"</field></shadow"]],"start1":1185,"start2":1185,"length1":32,"length2":37},{"diffs":[[0,"eld name=\"TEXT\">"],[1,"/acknowledge/"],[0,"</field></shadow"]],"start1":1320,"start2":1320,"length1":32,"length2":45},{"diffs":[[0,"ow><"],[-1,"block type=\"control_device_name\"></block><"],[0,"/val"]],"start1":1363,"start2":1363,"length1":50,"length2":8},{"diffs":[[0,"eld name=\"TEXT\">"],[1,"World"],[0,"</field></shadow"]],"start1":1416,"start2":1416,"length1":32,"length2":37},{"diffs":[[0,"pe=\""],[-1,"function_definition\" x=\"-43\" y=\"351\"><mutation name=\"do_stop\" functionid=\"+|6ht.%IsHS49Rmenh2$\"></mutation><field name=\"function_name\">do_stop</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></statement></block><block type=\"function_definition\" x=\"398\" y=\"443\"><mutation name=\"register_controller\" functionid=\"~[NvpoN!-SX`]k`)hDn@\"></mutation><field name=\"function_name\">register_controller</field></block><block type=\"function_definition\" x=\"-51\" y=\"515\"><mutation name=\"do_safety\" functionid=\"YnekdJzU_iWrdjqnDc*5\"></mutation><field name=\"function_name\">do_safety</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"-63\" y=\"649\"><mutation name=\"broadcast_controller_info\" functionid=\"@Aa4$kMBTUU%s9.{Acy!\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">is under control of </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Nb6?2/`$0P_,9w4PC!he\">controller_name</field></block></value></block></value></block></value></block></statement></block><block type=\"argument_reporter_string"],[1,"text_join\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"394\" y=\"390\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">/acknowledge/</field></shadow></value><value name=\"ADD1\"><shadow type=\"text"],[0,"\" di"]],"start1":1613,"start2":1613,"length1":1737,"length2":288},{"diffs":[[0,"ed-reasons=\""],[-1,"ORPHANED_BLOCK,"],[0,"MANUALLY_DIS"]],"start1":1905,"start2":1905,"length1":39,"length2":24},{"diffs":[[0,"LED\""],[-1," x=\"600\" y=\"780\"><field name=\"VALUE\">message</field"],[1,"><field name=\"TEXT\">/</field></shadow></value"],[0,"></b"]],"start1":1931,"start2":1931,"length1":59,"length2":53}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"function do_stop() {\n    basic.showIcon(IconNames.No)\n}\n\nfunction broadcast_controller_info() {\n    radio.sendString(\"\" + control.deviceName() + (\"is under control of \" + controller_name))\n}\n\nfunction do_start() {\n    basic.showIcon(IconNames.Yes)\n}\n\n"],[0,"func"]],"start1":0,"start2":0,"length1":255,"length2":4},{"diffs":[[0,"nowledge"],[1," "],[0,"(message"]],"start1":12,"start2":12,"length1":16,"length2":17},{"diffs":[[0,"ring"],[-1,"(\"from\" + "],[0,"(\"\" "]],"start1":57,"start2":57,"length1":18,"length2":8},{"diffs":[[0,") + "],[-1,"message))\n}\n\nfunction do_safety() {\n    basic.showIcon(IconNames.House)\n}\n\nfunction register_controller() {\n    \n}\n\nlet controller_name = \"\"\nradio.setGroup(25)\ncontroller_name = \"?\""],[1,"(\"/acknowledge/\" + message))\n}\nradio.setGroup(1)"],[0,"\nbas"]],"start1":86,"start2":86,"length1":189,"length2":56},{"diffs":[[0,"ion "],[-1,"on_forever"],[0,"() {\n"],[-1,"    "],[1,"\t"],[0,"\n})\n"]],"start1":158,"start2":158,"length1":27,"length2":14}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,".md\""],[-1,",\n        \"main.py\""],[0,"\n   "]],"start1":228,"start2":228,"length1":27,"length2":8},{"diffs":[[0,"\": \""],[-1,"py"],[1,"blocks"],[0,"prj\""]],"start1":260,"start2":260,"length1":10,"length2":14}]},{"type":"added","filename":"main.py","value":"def do_stop():\n    basic.show_icon(IconNames.NO)\ndef broadcast_controller_info():\n    radio.send_string(\"\" + control.device_name() + (\"is under control of \" + controller_name))\ndef do_start():\n    basic.show_icon(IconNames.YES)\ndef acknowledge(message: str):\n    radio.send_string(\"from\" + (\"\" + control.device_name() + message))\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\ndef register_controller():\n    pass\ncontroller_name = \"\"\nradio.set_group(25)\ncontroller_name = \"?\"\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n"}]},{"timestamp":1746616491549,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"9+FeIV6LUohl6,Ls.r!p"],[1,"Nb6?2/`$0P_,9w4PC!he"],[0,"\">contro"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"le><"],[-1,"variable id=\"9B)UI;?AH]X,=MoaZSXn\">CONTROLLER_UNDEFINED</variable><"],[0,"/var"]],"start1":125,"start2":125,"length1":75,"length2":8},{"diffs":[[0," x=\""],[-1,"291"],[1,"323"],[0,"\" y=\"-"],[-1,"36"],[1,"20"],[0,"\"></"]],"start1":168,"start2":168,"length1":19,"length2":19},{"diffs":[[0," x=\""],[-1,"0"],[1,"32"],[0,"\" y=\""],[-1,"0"],[1,"16"],[0,"\"><s"]],"start1":219,"start2":219,"length1":15,"length2":17},{"diffs":[[0,"id=\""],[-1,"9B)UI;?AH]X,=MoaZSXn\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9+FeIV6LUohl6,Ls.r!p"],[1,"Nb6?2/`$0P_,9w4PC!he"],[0,"\">co"]],"start1":494,"start2":494,"length1":280,"length2":28},{"diffs":[[0,"block type=\""],[-1,"variables_ge"],[1,"tex"],[0,"t\"><field na"]],"start1":627,"start2":627,"length1":36,"length2":27},{"diffs":[[0,"me=\""],[-1,"VAR\" id=\"9B)UI;?AH]X,=MoaZSXn\">CONTROLLER_UNDEFINED"],[1,"TEXT\">?"],[0,"</fi"]],"start1":654,"start2":654,"length1":59,"length2":15},{"diffs":[[0,"block></"],[-1,"next></block></"],[0,"statemen"]],"start1":706,"start2":706,"length1":31,"length2":16},{"diffs":[[0,"x=\"-"],[-1,"82"],[1,"50"],[0,"\" y=\"1"],[-1,"74"],[1,"90"],[0,"\"><m"]],"start1":766,"start2":766,"length1":18,"length2":18},{"diffs":[[0,"id=\""],[-1,".MM%[37hK{=~%N~~d3Xn"],[1,"66K=p(z*HB#K({nNkOVt"],[0,"\"></"]],"start1":816,"start2":816,"length1":28,"length2":28},{"diffs":[[0,"x=\"2"],[1,"8"],[0,"5"],[-1,"3"],[0,"\" y=\""],[-1,"197"],[1,"213"],[0,"\"><m"]],"start1":1050,"start2":1050,"length1":18,"length2":18},{"diffs":[[0,"id=\""],[-1,"s!{p7S1?7~3r%kYJ?Eb["],[1,"gwoRgc}*@Ip0LbxiOQBA"],[0,"\"><a"]],"start1":1103,"start2":1103,"length1":28,"length2":28},{"diffs":[[0,"ge\" id=\""],[-1,"7tpejyb16wksfzehuvi4b"],[1,"rs83taflkyqbyrj8kzshe"],[0,"\" type=\""]],"start1":1145,"start2":1145,"length1":37,"length2":37},{"diffs":[[0,"me=\""],[-1,"7tpejyb16wksfzehuvi4b"],[1,"rs83taflkyqbyrj8kzshe"],[0,"\"><b"]],"start1":1263,"start2":1263,"length1":29,"length2":29},{"diffs":[[0,"x=\"-"],[-1,"75"],[1,"43"],[0,"\" y=\"3"],[-1,"3"],[0,"5"],[1,"1"],[0,"\"><m"]],"start1":2163,"start2":2163,"length1":18,"length2":18},{"diffs":[[0,"id=\""],[-1,"*|y?.3P9pIxDd*2hh8})"],[1,"+|6ht.%IsHS49Rmenh2$"],[0,"\"></"]],"start1":2212,"start2":2212,"length1":28,"length2":28},{"diffs":[[0,"x=\"3"],[-1,"66"],[1,"98"],[0,"\" y=\"4"],[-1,"27"],[1,"43"],[0,"\"><m"]],"start1":2444,"start2":2444,"length1":18,"length2":18},{"diffs":[[0,"id=\""],[-1,"K+@KNVKo|v%EL|?]jw1}\"><arg name=\"name\" id=\"au0xf3k60gbe18yd37ug\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><value name=\"au0xf3k60gbe18yd37ug\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9+FeIV6LUohl6,Ls.r!p\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9B)UI;?AH]X,=MoaZSXn\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"9+FeIV6LUohl6,Ls.r!p\">"],[1,"~[NvpoN!-SX`]k`)hDn@\"></mutation><field name=\"function_name\">register_"],[0,"cont"]],"start1":2505,"start2":2505,"length1":1042,"length2":78},{"diffs":[[0,"ister_controller"],[-1,"_name"],[0,"</field><value n"]],"start1":2573,"start2":2573,"length1":37,"length2":32},{"diffs":[[0,"ld><"],[-1,"value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement><"],[0,"/blo"]],"start1":2594,"start2":2594,"length1":218,"length2":8},{"diffs":[[0,"x=\"-"],[-1,"83"],[1,"51"],[0,"\" y=\""],[-1,"499"],[1,"515"],[0,"\"><m"]],"start1":2639,"start2":2639,"length1":18,"length2":18},{"diffs":[[0,"id=\""],[-1,"=JF_,r8#D*R.D3?.EW#Z"],[1,"YnekdJzU_iWrdjqnDc*5"],[0,"\"></"]],"start1":2690,"start2":2690,"length1":28,"length2":28},{"diffs":[[0,"x=\"-"],[-1,"95"],[1,"63"],[0,"\" y=\"6"],[-1,"33"],[1,"49"],[0,"\"><m"]],"start1":2927,"start2":2927,"length1":18,"length2":18},{"diffs":[[0,"id=\""],[-1,"ivU#1(7U_tgQ0^tENO,@"],[1,"@Aa4$kMBTUU%s9.{Acy!"],[0,"\"></"]],"start1":2994,"start2":2994,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"9+FeIV6LUohl6,Ls.r!p"],[1,"Nb6?2/`$0P_,9w4PC!he"],[0,"\">co"]],"start1":3709,"start2":3709,"length1":28,"length2":28},{"diffs":[[0,"/block><"],[1,"block type=\"argument_reporter_string\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"600\" y=\"780\"><field name=\"VALUE\">message</field></block><"],[0,"/xml>"]],"start1":3827,"start2":3827,"length1":13,"length2":163}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,") {\n"],[-1,"    //  implement your own code here\n"],[0,"    "]],"start1":17,"start2":17,"length1":45,"length2":8},{"diffs":[[0,") {\n"],[-1,"    //  do not change this part :)\n"],[0,"    "]],"start1":92,"start2":92,"length1":43,"length2":8},{"diffs":[[0,"ng(\""],[-1,"CONTROLLER INFO: "],[0,"\" + "]],"start1":114,"start2":114,"length1":25,"length2":8},{"diffs":[[0,"eName() + (\""],[-1," CONTROLLED BY"],[1,"is under control of"],[0," \" + control"]],"start1":135,"start2":135,"length1":38,"length2":43},{"diffs":[[0,") {\n"],[-1,"    //  implement your own code here\n"],[0,"    "]],"start1":210,"start2":210,"length1":45,"length2":8},{"diffs":[[0,"ion "],[-1,"send_messa"],[1,"acknowled"],[0,"ge(m"]],"start1":256,"start2":256,"length1":18,"length2":17},{"diffs":[[0,"ng(\""],[-1,"MESSAGE: TO "],[1,"from\" + (\""],[0,"\" + "]],"start1":309,"start2":309,"length1":20,"length2":18},{"diffs":[[0,") + "],[-1,"(\" CONTROLLED BY \" + controller_nam"],[1,"messag"],[0,"e))\n"]],"start1":346,"start2":346,"length1":43,"length2":14},{"diffs":[[0,"ler("],[-1,"name: string) {\n    \n    if (controller_name == CONTROLLER_UNDEFINED) {\n        controller_name = name\n    } else {\n        \n    }\n    \n}\n\nlet controller_name = \"\"\nlet CONTROLLER_UNDEFINED = \"\"\nradio.setGroup(25)\nCONTROLLER_UNDEFINED = \"?\"\ncontroller_name = CONTROLLER_UNDEFINED"],[1,") {\n    \n}\n\nlet controller_name = \"\"\nradio.setGroup(25)\ncontroller_name = \"?\""],[0,"\nbas"]],"start1":450,"start2":450,"length1":286,"length2":85}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"():\n"],[-1,"    # implement your own code here\n"],[0,"    "]],"start1":11,"start2":11,"length1":43,"length2":8},{"diffs":[[0,"mes.NO)\n"],[-1,"\n"],[0,"def broa"]],"start1":41,"start2":41,"length1":17,"length2":16},{"diffs":[[0,"():\n"],[-1,"    # do not change this part :)\n"],[0,"    "]],"start1":78,"start2":78,"length1":41,"length2":8},{"diffs":[[0,"ng(\""],[-1,"CONTROLLER INFO: "],[0,"\" + "]],"start1":101,"start2":101,"length1":25,"length2":8},{"diffs":[[0,"+ (\""],[-1," CONTROLLED BY"],[1,"is under control of"],[0," \" +"]],"start1":131,"start2":131,"length1":22,"length2":27},{"diffs":[[0,"_name))\n"],[-1,"\n"],[0,"def do_s"]],"start1":169,"start2":169,"length1":17,"length2":16},{"diffs":[[0,"():\n"],[-1,"    # implement your own code here\n"],[0,"    "]],"start1":189,"start2":189,"length1":43,"length2":8},{"diffs":[[0,"ES)\n"],[-1,"\n"],[0,"def "],[-1,"send_messa"],[1,"acknowled"],[0,"ge(m"]],"start1":224,"start2":224,"length1":23,"length2":21},{"diffs":[[0,"ing("],[-1,"'{\"message\" TO \" + controller_name + (\" FROM \" + "],[1,"\"from\" + (\"\" + control.device_name() + message"],[0,"))\n"],[-1,"\n"],[0,"def "]],"start1":277,"start2":277,"length1":61,"length2":57},{"diffs":[[0,".HOUSE)\n"],[-1,"\n"],[0,"def regi"]],"start1":376,"start2":376,"length1":17,"length2":16},{"diffs":[[0,"ler("],[-1,"name: str):\n    global controller_name\n    if controller_name == CONTROLLER_UNDEFINED:\n        controller_name = name\n    else:\n        pass\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nradio.set_group(25)\nCONTROLLER_UNDEFINED = \"?\"\ncontroller_name = CONTROLLER_UNDEFINED"],[1,"):\n    pass\ncontroller_name = \"\"\nradio.set_group(25)\ncontroller_name = \"?\""],[0,"\n\nde"]],"start1":404,"start2":404,"length1":281,"length2":82}]}]},{"timestamp":1746617180714,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"\"message"],[-1,":"],[0,"\" TO \" +"]],"start1":402,"start2":402,"length1":17,"length2":16}]}]},{"timestamp":1746617181395,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"sage"],[-1,"\":{\"from\":\"\", \"to\":\""],[1,":\" TO \" "],[0,"+ co"]],"start1":406,"start2":406,"length1":28,"length2":16},{"diffs":[[0,"name"],[-1,"+\" "],[1," + (\" FROM \" +"],[0," ))\n"]],"start1":431,"start2":431,"length1":11,"length2":22}]}]},{"timestamp":1746617237388,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"t_group("],[1,"2"],[0,"5)\nCONTR"]],"start1":730,"start2":730,"length1":16,"length2":17}]}]},{"timestamp":1746617940444,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"t_group("],[1,"5"],[0,")\nCONTRO"]],"start1":730,"start2":730,"length1":16,"length2":17}]}]},{"timestamp":1746617944164,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"6{s..{UkV%grxW.@~gx|"],[1,"9+FeIV6LUohl6,Ls.r!p"],[0,"\">contro"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"le id=\"9"],[-1,"q%Y`G$R=42+$tJgWxD^"],[1,"B)UI;?AH]X,=MoaZSXn"],[0,"\">CONTRO"]],"start1":135,"start2":135,"length1":35,"length2":35},{"diffs":[[0,"bles><block "],[1,"type=\"device_forever\" x=\"291\" y=\"-36\"></block><block "],[0,"type=\"pxt-on"]],"start1":202,"start2":202,"length1":24,"length2":77},{"diffs":[[0,"SLIDER\">"],[-1,"0"],[1,"25"],[0,"</field>"]],"start1":472,"start2":472,"length1":17,"length2":18},{"diffs":[[0,"R\" id=\"9"],[-1,"q%Y`G$R=42+$tJgWxD^"],[1,"B)UI;?AH]X,=MoaZSXn"],[0,"\">CONTRO"]],"start1":556,"start2":556,"length1":35,"length2":35},{"diffs":[[0,"AR\" id=\""],[-1,"6{s..{UkV%grxW.@~gx|"],[1,"9+FeIV6LUohl6,Ls.r!p"],[0,"\">contro"]],"start1":807,"start2":807,"length1":36,"length2":36},{"diffs":[[0,"R\" id=\"9"],[-1,"q%Y`G$R=42+$tJgWxD^"],[1,"B)UI;?AH]X,=MoaZSXn"],[0,"\">CONTRO"]],"start1":986,"start2":986,"length1":35,"length2":35},{"diffs":[[0,"pe=\""],[-1,"device_forever\" x=\"509\" y=\"0\""],[1,"function_definition\" x=\"-82\" y=\"174\"><mutation name=\"do_start\" functionid=\".MM%[37hK{=~%N~~d3Xn\"></mutation><field name=\"function_name\">do_start</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></statement"],[0,"></b"]],"start1":1126,"start2":1126,"length1":37,"length2":270},{"diffs":[[0," x=\""],[-1,"714"],[1,"253"],[0,"\" y=\""],[-1,"0"],[1,"197"],[0,"\"><m"]],"start1":1434,"start2":1434,"length1":17,"length2":19},{"diffs":[[0,"n name=\""],[-1,"send_messa"],[1,"acknowled"],[0,"ge\" func"]],"start1":1459,"start2":1459,"length1":26,"length2":25},{"diffs":[[0,"id=\""],[-1,"Ko8^ve9$q,1AWUY!{dC*"],[1,"s!{p7S1?7~3r%kYJ?Eb["],[0,"\"><a"]],"start1":1488,"start2":1488,"length1":28,"length2":28},{"diffs":[[0,"ge\" id=\""],[-1,"bylq23unkocc7mt4k6c9"],[1,"7tpejyb16wksfzehuvi4b"],[0,"\" type=\""]],"start1":1530,"start2":1530,"length1":36,"length2":37},{"diffs":[[0,"me\">"],[-1,"send_messa"],[1,"acknowled"],[0,"ge</"]],"start1":1616,"start2":1616,"length1":18,"length2":17},{"diffs":[[0,"me=\""],[-1,"bylq23unkocc7mt4k6c9"],[1,"7tpejyb16wksfzehuvi4b"],[0,"\"><b"]],"start1":1648,"start2":1648,"length1":28,"length2":29},{"diffs":[[0,"g\"><"],[-1,"shadow type=\"text\"><field name=\"TEXT\">{\"message\":{\"from\":\"\", \"to\":\"+ controller_name</field></shadow></value></block></statement></block><block type=\"function_definition\" x=\"1341\" y=\"0"],[1,"block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">from</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2"],[0,"\"><"],[1,"/"],[0,"mutation"],[-1," name=\"do_start\" functionid=\"l;|y(RxdP[UsH@,N!]di\"></mutation><field name=\"function_name\">do_start</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment"],[1,"><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></value></block></value"],[0,"></b"]],"start1":1889,"start2":1889,"length1":476,"length2":600},{"diffs":[[0,"ion\" x=\""],[-1,"0"],[1,"-75"],[0,"\" y=\"3"],[-1,"17"],[1,"35"],[0,"\"><mutat"]],"start1":2543,"start2":2543,"length1":25,"length2":27},{"diffs":[[0,"id=\""],[-1,"v0ZisHhMFG/n4r-=iVCd"],[1,"*|y?.3P9pIxDd*2hh8})"],[0,"\"></"]],"start1":2597,"start2":2597,"length1":28,"length2":28},{"diffs":[[0,"ld><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><"],[0,"/blo"]],"start1":2764,"start2":2764,"length1":85,"length2":8},{"diffs":[[0," x=\""],[-1,"254"],[1,"366"],[0,"\" y=\""],[-1,"31"],[1,"42"],[0,"7\"><"]],"start1":2828,"start2":2828,"length1":18,"length2":18},{"diffs":[[0,"id=\""],[-1,"$[[[R?0/44w4CjEWrOx="],[1,"K+@KNVKo|v%EL|?]jw1}"],[0,"\"><a"]],"start1":2890,"start2":2890,"length1":28,"length2":28},{"diffs":[[0,"me\" id=\""],[-1,"woteo4ossmtzveldqhrnr"],[1,"au0xf3k60gbe18yd37ug"],[0,"\" type=\""]],"start1":2929,"start2":2929,"length1":37,"length2":36},{"diffs":[[0,"me=\""],[-1,"woteo4ossmtzveldqhrnr"],[1,"au0xf3k60gbe18yd37ug"],[0,"\"><b"]],"start1":3054,"start2":3054,"length1":29,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"6{s..{UkV%grxW.@~gx|"],[1,"9+FeIV6LUohl6,Ls.r!p"],[0,"\">contro"]],"start1":3554,"start2":3554,"length1":36,"length2":36},{"diffs":[[0,"d=\"9"],[-1,"q%Y`G$R=42+$tJgWxD^"],[1,"B)UI;?AH]X,=MoaZSXn"],[0,"\">CO"]],"start1":3749,"start2":3749,"length1":27,"length2":27},{"diffs":[[0,"AR\" id=\""],[-1,"6{s..{UkV%grxW.@~gx|"],[1,"9+FeIV6LUohl6,Ls.r!p"],[0,"\">contro"]],"start1":3898,"start2":3898,"length1":36,"length2":36},{"diffs":[[0," x=\""],[-1,"887"],[1,"-83"],[0,"\" y=\""],[-1,"317"],[1,"499"],[0,"\"><m"]],"start1":4202,"start2":4202,"length1":19,"length2":19},{"diffs":[[0,"id=\""],[-1,"QE~)wqIK%ec#|?YV[,Fg"],[1,"=JF_,r8#D*R.D3?.EW#Z"],[0,"\"></"]],"start1":4254,"start2":4254,"length1":28,"length2":28},{"diffs":[[0," x=\""],[-1,"1140"],[1,"-95"],[0,"\" y=\""],[-1,"317"],[1,"633"],[0,"\"><m"]],"start1":4490,"start2":4490,"length1":20,"length2":19},{"diffs":[[0,"id=\""],[-1,"L2(nJh$rX7|8G1OEm*cn"],[1,"ivU#1(7U_tgQ0^tENO,@"],[0,"\"></"]],"start1":4558,"start2":4558,"length1":28,"length2":28},{"diffs":[[0,"g\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><"],[0,"valu"]],"start1":4718,"start2":4718,"length1":83,"length2":8},{"diffs":[[0," items=\""],[-1,"3"],[1,"2"],[0,"\"></muta"]],"start1":4772,"start2":4772,"length1":17,"length2":17},{"diffs":[[0,"eld "],[-1,"name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field "],[0,"name"]],"start1":4836,"start2":4836,"length1":108,"length2":8},{"diffs":[[0,"ame=\"ADD"],[-1,"2"],[1,"1"],[0,"\"><shado"]],"start1":4927,"start2":4927,"length1":17,"length2":17},{"diffs":[[0,"XT\">"],[-1," CONTROLLED BY"],[1,"is under control of"],[0," </f"]],"start1":5103,"start2":5103,"length1":22,"length2":27},{"diffs":[[0,"id=\""],[-1,"6{s..{UkV%grxW.@~gx|"],[1,"9+FeIV6LUohl6,Ls.r!p"],[0,"\">co"]],"start1":5273,"start2":5273,"length1":28,"length2":28}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ng(\""],[-1,"{\\\"message\\\":{\\\"from\\\":\\\"\\\", \\\"to\\\":\\\""],[1,"MESSAGE: TO \" + control.deviceName() + (\" CONTROLLED BY \" "],[0,"+ co"]],"start1":431,"start2":431,"length1":46,"length2":66},{"diffs":[[0,"ler_name"],[-1,"\""],[1,")"],[0,")\n}\n\nfun"]],"start1":502,"start2":502,"length1":17,"length2":17},{"diffs":[[0,"oup("],[-1,"0"],[1,"25"],[0,")\nCO"]],"start1":812,"start2":812,"length1":9,"length2":10}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"mes.NO)\n"],[1,"\n"],[0,"def broa"]],"start1":76,"start2":76,"length1":16,"length2":17},{"diffs":[[0,"_name))\n"],[1,"\n"],[0,"def do_s"]],"start1":250,"start2":250,"length1":16,"length2":17},{"diffs":[[0,"es.YES)\n"],[1,"\n"],[0,"def send"]],"start1":337,"start2":337,"length1":16,"length2":17},{"diffs":[[0,"ing("],[-1,"\"{\\"],[1,"'{"],[0,"\"message"],[-1,"\\"],[0,"\":{"],[-1,"\\"],[0,"\"from"],[-1,"\\"],[0,"\":"],[-1,"\\\"\\"],[1,"\""],[0,"\", "],[-1,"\\"],[0,"\"to"],[-1,"\\"],[0,"\":"],[-1,"\\"],[0,"\"+ c"]],"start1":396,"start2":396,"length1":46,"length2":37},{"diffs":[[0,"name"],[-1,"\")"],[1,"+\"  ))\n"],[0,"\ndef"]],"start1":443,"start2":443,"length1":10,"length2":15},{"diffs":[[0,".HOUSE)\n"],[1,"\n"],[0,"def regi"]],"start1":501,"start2":501,"length1":16,"length2":17},{"diffs":[[0,"ED = \"\"\n"],[1,""],[0,"radio.se"]],"start1":714,"start2":714,"length1":16,"length2":16},{"diffs":[[0,"oup("],[-1,"0"],[0,")\nCO"]],"start1":734,"start2":734,"length1":9,"length2":8}]}]},{"timestamp":1746618036465,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"dBSGNTaGYm^:DV%_%ixQ"],[1,"6{s..{UkV%grxW.@~gx|"],[0,"\">contro"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"/6J`nxDe!l~iMPid5C[t"],[1,"9q%Y`G$R=42+$tJgWxD^"],[0,"\">CONTRO"]],"start1":134,"start2":134,"length1":36,"length2":36},{"diffs":[[0,"pe=\""],[-1,"function_definition"],[1,"pxt-on-start"],[0,"\" x=\""],[-1,"1"],[0,"0\" y=\""],[-1,"1"],[0,"0\"><"],[-1,"mutation"],[1,"statement"],[0," name=\""],[-1,"do_stop\" functionid=\"FY+aDK$AT+2KX8HfI4NQ\"></mutation><field name=\"function_name\">do_stop</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"10\" y=\"10\"><mutation name=\"do_start\" functionid=\":^LPf9co7#aQvJfYSiPw\"></mutation><field name=\"function_name\">do_start</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement"],[1,"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9q%Y`G$R=42+$tJgWxD^\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6{s..{UkV%grxW.@~gx|\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9q%Y`G$R=42+$tJgWxD^\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"509\" y=\"0\""],[0,"></b"]],"start1":216,"start2":216,"length1":701,"length2":893},{"diffs":[[0,"inition\" x=\""],[-1,"10"],[1,"714"],[0,"\" y=\""],[-1,"1"],[0,"0\"><mutation"]],"start1":1139,"start2":1139,"length1":32,"length2":32},{"diffs":[[0,"id=\""],[-1,"RYLzoFMR1quD-8]b%eN7"],[1,"Ko8^ve9$q,1AWUY!{dC*"],[0,"\"><a"]],"start1":1200,"start2":1200,"length1":28,"length2":28},{"diffs":[[0,"ge\" id=\""],[-1,"pasu5rg1tnjzqborxnn4"],[1,"bylq23unkocc7mt4k6c9"],[0,"\" type=\""]],"start1":1242,"start2":1242,"length1":36,"length2":36},{"diffs":[[0,"me=\""],[-1,"pasu5rg1tnjzqborxnn4"],[1,"bylq23unkocc7mt4k6c9"],[0,"\"><b"]],"start1":1360,"start2":1360,"length1":28,"length2":28},{"diffs":[[0,"pe=\""],[-1,"device_forever\" x=\"10\" y=\"10\"></block><block type=\"pxt-on-start"],[1,"function_definition"],[0,"\" x=\"1"],[-1,"0"],[1,"341"],[0,"\" y=\""],[-1,"1"],[0,"0\"><"],[-1,"statement"],[1,"mutation"],[0," name=\""],[-1,"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/6J`nxDe!l~iMPid5C[t\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"dBSGNTaGYm^:DV%_%ixQ\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/6J`nxDe!l~iMPid5C[t\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></nex"],[1,"do_start\" functionid=\"l;|y(RxdP[UsH@,N!]di\"></mutation><field name=\"function_name\">do_start</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"317\"><mutation name=\"do_stop\" functionid=\"v0ZisHhMFG/n4r-=iVCd\"></mutation><field name=\"function_name\">do_stop</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</commen"],[0,"t></"]],"start1":1750,"start2":1750,"length1":874,"length2":681},{"diffs":[[0,"id=\""],[-1,"n(c8/4iK$_G2v?ie=FLB"],[1,"$[[[R?0/44w4CjEWrOx="],[0,"\"><a"]],"start1":2552,"start2":2552,"length1":28,"length2":28},{"diffs":[[0,"me\" id=\""],[-1,"ljx5csk79njrexol9x28"],[1,"woteo4ossmtzveldqhrnr"],[0,"\" type=\""]],"start1":2591,"start2":2591,"length1":36,"length2":37},{"diffs":[[0,"me=\""],[-1,"ljx5csk79njrexol9x28"],[1,"woteo4ossmtzveldqhrnr"],[0,"\"><b"]],"start1":2717,"start2":2717,"length1":28,"length2":29},{"diffs":[[0,"AR\" id=\""],[-1,"dBSGNTaGYm^:DV%_%ixQ"],[1,"6{s..{UkV%grxW.@~gx|"],[0,"\">contro"]],"start1":3218,"start2":3218,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"/6J`nxDe!l~iMPid5C[t"],[1,"9q%Y`G$R=42+$tJgWxD^"],[0,"\">CO"]],"start1":3412,"start2":3412,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"dBSGNTaGYm^:DV%_%ixQ"],[1,"6{s..{UkV%grxW.@~gx|"],[0,"\">contro"]],"start1":3562,"start2":3562,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"g@AI5Eqs+|0=7T{8x#^/"],[1,"QE~)wqIK%ec#|?YV[,Fg"],[0,"\"></"]],"start1":3918,"start2":3918,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"WWXw**U;(/y7A$XM{1i!"],[1,"L2(nJh$rX7|8G1OEm*cn"],[0,"\"></"]],"start1":4223,"start2":4223,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"dBSGNTaGYm^:DV%_%ixQ"],[1,"6{s..{UkV%grxW.@~gx|"],[0,"\">co"]],"start1":5108,"start2":5108,"length1":28,"length2":28}]}]},{"timestamp":1746708005433,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"blocks"],[1,"py"],[0,"prj\"\n}\n"]],"start1":275,"start2":275,"length1":21,"length2":17}]}]},{"timestamp":1746708005950,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"kPH/+0tPkyO6_nRZUgQM"],[1,"dBSGNTaGYm^:DV%_%ixQ"],[0,"\">contro"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"B~mUz[]{7^Tk=i=vWF$b"],[1,"/6J`nxDe!l~iMPid5C[t"],[0,"\">CONTRO"]],"start1":134,"start2":134,"length1":36,"length2":36},{"diffs":[[0,"le><"],[-1,"variable id=\"=Un@[01gB9jLNaHEE1*Q\">hear_beat_seconds</variable></variables><block type=\"device_forever\" x=\"529\" y=\"20\"></block><block type=\"pxt-on-start"],[1,"/variables><block type=\"function_definition"],[0,"\" x=\""],[-1,"5"],[0,"1"],[1,"0"],[0,"\" y=\""],[-1,"55\"><statement"],[1,"10\"><mutation"],[0," name=\""],[-1,"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B~mUz[]{7^Tk=i=vWF$b\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"kPH/+0tPkyO6_nRZUgQM\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B~mUz[]{7^Tk=i=vWF$b\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=Un@[01gB9jLNaHEE1*Q\">hear_beat_seconds</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block></next></block></next></block></nex"],[1,"do_stop\" functionid=\"FY+aDK$AT+2KX8HfI4NQ\"></mutation><field name=\"function_name\">do_stop</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"10\" y=\"10\"><mutation name=\"do_start\" functionid=\":^LPf9co7#aQvJfYSiPw\"></mutation><field name=\"function_name\">do_start</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</commen"],[0,"t></"]],"start1":192,"start2":192,"length1":1173,"length2":704},{"diffs":[[0," x=\""],[-1,"734"],[1,"10"],[0,"\" y=\""],[-1,"2"],[1,"1"],[0,"0\"><"]],"start1":955,"start2":955,"length1":17,"length2":16},{"diffs":[[0,"me=\""],[-1,"get_log_string\" functionid=\"SfjT{Y/t0JMrIw8*z#mi\"><arg name=\"level2\" id=\"3m32roghsq4151u0kfkg\" type=\"string\"></arg"],[1,"send_message\" functionid=\"RYLzoFMR1quD-8]b%eN7\""],[0,"><ar"]],"start1":982,"start2":982,"length1":122,"length2":55},{"diffs":[[0,"sage"],[-1,"2"],[0,"\" id=\""],[-1,"uls6w3hjwhlbke8tzjv09"],[1,"pasu5rg1tnjzqborxnn4"],[0,"\" ty"]],"start1":1048,"start2":1048,"length1":36,"length2":34},{"diffs":[[0,"me\">"],[-1,"get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"3m32roghsq4151u0kfkg\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"uls6w3hjwhlbke8tzjv09"],[1,"send_message</field><value name=\"pasu5rg1tnjzqborxnn4"],[0,"\"><b"]],"start1":1135,"start2":1135,"length1":389,"length2":61},{"diffs":[[0,"=\"VALUE\">message"],[-1,"2"],[0,"</field></block>"]],"start1":1288,"start2":1288,"length1":33,"length2":32},{"diffs":[[0,"pe=\""],[-1,"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation"],[1,"radio_datagram_send_string\""],[0,"><va"]],"start1":1361,"start2":1361,"length1":106,"length2":35},{"diffs":[[0,"me=\""],[-1,"RETURN_VALUE"],[1,"msg"],[0,"\"><s"]],"start1":1402,"start2":1402,"length1":20,"length2":11},{"diffs":[[0,"hadow type=\""],[-1,"math_number"],[1,"text"],[0,"\"><field nam"]],"start1":1413,"start2":1413,"length1":35,"length2":28},{"diffs":[[0,"me=\""],[-1,"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation"],[1,"TEXT\">{\"message\":{\"from\":\"\", \"to\":\"+ controller_name</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"10\" y=\"10\"></block><block type=\"pxt-on-start\" x=\"10\" y=\"10\"><statement name=\"HANDLER\"><block type=\"radio_set_group\""],[0,"><va"]],"start1":1440,"start2":1440,"length1":523,"length2":260},{"diffs":[[0,"p\"><value name=\""],[-1,"ADD0"],[1,"ID"],[0,"\"><shadow type=\""]],"start1":1694,"start2":1694,"length1":36,"length2":34},{"diffs":[[0,"pe=\""],[-1,"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\""],[1,"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation"],[0,"><fi"]],"start1":1724,"start2":1724,"length1":143,"length2":80},{"diffs":[[0,"on><field name=\""],[-1,"TEXT"],[1,"SLIDER"],[0,"\">"],[1,"0"],[0,"</field></shadow"]],"start1":1798,"start2":1798,"length1":38,"length2":41},{"diffs":[[0,"ow><"],[-1,"block type=\"control_running_time\"></block></value></block><"],[0,"/value><"],[-1,"/"],[1,"next><"],[0,"block"],[-1,"></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value"],[1," type=\"variables_set\"><field name=\"VAR\" id=\"/6J`nxDe!l~iMPid5C[t\">CONTROLLER_UNDEFINED</field"],[0,"><va"]],"start1":1837,"start2":1837,"length1":259,"length2":120},{"diffs":[[0,"me=\""],[-1,"ADD6"],[1,"VALUE"],[0,"\"><s"]],"start1":1963,"start2":1963,"length1":12,"length2":13},{"diffs":[[0,"\"><shadow type=\""],[-1,"text"],[1,"math_number"],[0,"\"><field name=\"T"]],"start1":1972,"start2":1972,"length1":36,"length2":43},{"diffs":[[0,"r\"><field name=\""],[-1,"TEXT"],[1,"NUM"],[0,"\">"],[1,"0"],[0,"</field></shadow"]],"start1":1998,"start2":1998,"length1":38,"length2":38},{"diffs":[[0,"pe=\""],[-1,"argument_reporter_string"],[1,"text"],[0,"\"><f"]],"start1":2046,"start2":2046,"length1":32,"length2":12},{"diffs":[[0,"me=\""],[-1,"VALUE\">level2"],[1,"TEXT\">?"],[0,"</fi"]],"start1":2065,"start2":2065,"length1":21,"length2":15},{"diffs":[[0,"ue><"],[-1,"value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value"],[1,"next><block type=\"variables_set\"><field name=\"VAR\" id=\"dBSGNTaGYm^:DV%_%ixQ\">controller_name</field"],[0,"><va"]],"start1":2097,"start2":2097,"length1":90,"length2":107},{"diffs":[[0,"me=\""],[-1,"ADD8"],[1,"VALUE"],[0,"\"><s"]],"start1":2210,"start2":2210,"length1":12,"length2":13},{"diffs":[[0,"\"><shadow type=\""],[-1,"text"],[1,"math_number"],[0,"\"><field name=\"T"]],"start1":2219,"start2":2219,"length1":36,"length2":43},{"diffs":[[0,"r\"><field name=\""],[-1,"TEXT"],[1,"NUM"],[0,"\">"],[1,"0"],[0,"</field></shadow"]],"start1":2245,"start2":2245,"length1":38,"length2":38},{"diffs":[[0,"pe=\""],[1,"v"],[0,"ar"],[-1,"gument_reporter_string\"><field name=\"VALUE\">message2"],[1,"iables_get\"><field name=\"VAR\" id=\"/6J`nxDe!l~iMPid5C[t\">CONTROLLER_UNDEFINED"],[0,"</fi"]],"start1":2293,"start2":2293,"length1":62,"length2":87},{"diffs":[[0,"value></block></"],[-1,"value"],[1,"next></block></next"],[0,"></block></state"]],"start1":2394,"start2":2394,"length1":37,"length2":51},{"diffs":[[0," x=\""],[-1,"1515"],[1,"254"],[0,"\" y=\""],[-1,"20"],[1,"317"],[0,"\"><m"]],"start1":2491,"start2":2491,"length1":19,"length2":19},{"diffs":[[0,"me=\""],[-1,"do_start\" functionid=\"+CeokNQlsf#+40)Ukn;q\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"true\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1506\" y=\"328\"><mutation name=\"broadcast_controller_info\" functionid=\"Fx2PHKfQV;K6j2(I*YiW\""],[1,"register_controller\" functionid=\"n(c8/4iK$_G2v?ie=FLB\"><arg name=\"name\" id=\"ljx5csk79njrexol9x28\" type=\"string\"></arg"],[0,"></m"]],"start1":2520,"start2":2520,"length1":584,"length2":125},{"diffs":[[0,"me\">"],[-1,"broadcast"],[1,"register"],[0,"_con"]],"start1":2677,"start2":2677,"length1":17,"length2":16},{"diffs":[[0,"ller"],[-1,"_info"],[0,"</fi"]],"start1":2696,"start2":2696,"length1":13,"length2":8},{"diffs":[[0,"ld><"],[-1,"statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_jo"],[1,"value name=\"ljx5csk79njrexol9x28\"><block type=\"argument_reporter_str"],[0,"in"],[1,"g"],[0,"\"><m"]],"start1":2705,"start2":2705,"length1":187,"length2":79},{"diffs":[[0,"ion "],[-1,"items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: "],[1,"duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name"],[0,"</fi"]],"start1":2788,"start2":2788,"length1":104,"length2":66},{"diffs":[[0,"\">name</field></"],[-1,"shadow"],[1,"block"],[0,"></value><value "]],"start1":2844,"start2":2844,"length1":38,"length2":37},{"diffs":[[0,"ue><"],[-1,"value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value"],[1,"statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation"],[0,"><va"]],"start1":2871,"start2":2871,"length1":131,"length2":86},{"diffs":[[0,"me=\""],[-1,"ADD2"],[1,"IF0"],[0,"\"><s"]],"start1":2963,"start2":2963,"length1":12,"length2":11},{"diffs":[[0,"\"><shadow type=\""],[-1,"text"],[1,"logic_boolean"],[0,"\"><field name=\"T"]],"start1":2970,"start2":2970,"length1":36,"length2":45},{"diffs":[[0,"me=\""],[-1,"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kPH/+0tPkyO6_nRZUgQM\">controller_name</field></block></value></block></value></block></value></block></statement></block><block type=\"control_in_background\" x=\"114\" y=\"404\"><comment pinned=\"true\" h=\"80\" w=\"160\">Heart beat loop</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-122.66669379340277\",\"~commentOffsetY\":\"-119.99998643663196\"}}</data><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" label=\"Micros\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=Un@[01gB9jLNaHEE1*Q\">hear_beat_seconds</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1000000</field></shadow></value></block></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"5L2M+)QrCk:y7%8l7VgM\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"-154\" y=\"461\"><mutation name=\"do_stop\" functionid=\"bE{V)QONX,`}r^v*1rcT\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"true\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"-487\" y=\"638\"><mutation name=\"send_heart_beat\" functionid=\"5L2M+)QrCk:y7%8l7VgM\"></mutation><field name=\"function_name\">send_heart_beat</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><shadow type=\"text\"><field name=\"TEXT\">{\"message\":{\"from\":\"\", \"to\":\"+ controller_name</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Hello</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"28\" y=\"679\"><mutation name=\"send_message\" functionid=\"dW}fDv6#h-G#A3IJO[r9\"><arg name=\"message\" id=\"u7zz64vyatulxap5gmfnq\" type=\"string\"></arg></mutation><field name=\"function_name\">send_message</field><value name=\"u7zz64vyatulxap5gmfnq\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><shadow type=\"text\"><field name=\"TEXT\">{\"message\":{\"from\":\"\", \"to\":\"+ controller_name</field></shadow></value></block></statement></block><block type=\"function_definition\" x=\"1280\" y=\"679\"><mutation name=\"do_safety\" functionid=\"=l_:E*GA@Szyu+z}R11/\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"true\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"714\" y=\"748\"><mutation name=\"register_controller\" functionid=\":cX(buB{CMn@N.lOvSaS\"><arg name=\"name\" id=\"lmvvqtu2dwj4hpetnkcu8\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"true\" h=\"80\" w=\"160\">Register the controller if no one is registered yet\n</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"lmvvqtu2dwj4hpetnkcu8\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kPH/+0tPkyO6_nRZUgQM\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B~mUz[]{7^Tk=i=vWF$b\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"kPH/+0tPkyO6_nRZUgQM\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement"],[1,"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"dBSGNTaGYm^:DV%_%ixQ\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/6J`nxDe!l~iMPid5C[t\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"dBSGNTaGYm^:DV%_%ixQ\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"887\" y=\"317\"><mutation name=\"do_safety\" functionid=\"g@AI5Eqs+|0=7T{8x#^/\"></mutation><field name=\"function_name\">do_safety</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"1140\" y=\"317\"><mutation name=\"broadcast_controller_info\" functionid=\"WWXw**U;(/y7A$XM{1i!\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"dBSGNTaGYm^:DV%_%ixQ\">controller_name</field></block></value></block></value></block></value"],[0,"></b"]],"start1":3010,"start2":3010,"length1":5292,"length2":2197}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"// Add your code in to handle the STOP request from controller\n"],[0,"func"]],"start1":0,"start2":0,"length1":67,"length2":4},{"diffs":[[0," do_stop"],[-1," "],[0,"() {\n   "]],"start1":8,"start2":8,"length1":17,"length2":16},{"diffs":[[0,"_stop() {\n    //"],[1," "],[0," implement your "]],"start1":11,"start2":11,"length1":32,"length2":33},{"diffs":[[0,"Names.No)\n}\n"],[1,"\n"],[0,"function bro"]],"start1":81,"start2":81,"length1":24,"length2":25},{"diffs":[[0,"ler_info"],[-1," "],[0,"() {\n   "]],"start1":120,"start2":120,"length1":17,"length2":16},{"diffs":[[0,"{\n    //"],[1," "],[0," do not "]],"start1":131,"start2":131,"length1":16,"length2":17},{"diffs":[[0,")\n}\n"],[-1,"// Add your code in to handle the START request from controller"],[0,"\nfun"]],"start1":271,"start2":271,"length1":71,"length2":8},{"diffs":[[0,"do_start"],[-1," "],[0,"() {\n   "]],"start1":285,"start2":285,"length1":17,"length2":16},{"diffs":[[0,"{\n    //"],[1," "],[0," impleme"]],"start1":296,"start2":296,"length1":16,"length2":17},{"diffs":[[0,"ames.Yes)\n}\n"],[1,"\n"],[0,"function sen"]],"start1":359,"start2":359,"length1":24,"length2":25},{"diffs":[[0,"_message"],[-1," "],[0,"(message"]],"start1":385,"start2":385,"length1":17,"length2":16},{"diffs":[[0,")\n}\n"],[-1,"function send_heart_beat () {\n    radio.sendString(\"Hello\" + \"World\")\n}\n// Add your code in to handle the SAFETY  request from controller"],[0,"\nfun"]],"start1":491,"start2":491,"length1":145,"length2":8},{"diffs":[[0,"o_safety"],[-1," "],[0,"() {\n   "]],"start1":506,"start2":506,"length1":17,"length2":16},{"diffs":[[0,")\n}\n"],[-1,"// Register the controller if no one is registered yet\n// "],[0,"\nfun"]],"start1":553,"start2":553,"length1":66,"length2":8},{"diffs":[[0,"ntroller"],[-1," "],[0,"(name: s"]],"start1":578,"start2":578,"length1":17,"length2":16},{"diffs":[[0,": string) {\n"],[1,"    \n"],[0,"    if (cont"]],"start1":591,"start2":591,"length1":24,"length2":29},{"diffs":[[0,"    "],[-1,"\t\n"],[0,"    "],[-1,"}\n}\n// Format log message with microbit name and time stamp in prefix\nfunction get_log_string (level2: string, message2: string) {\n    return \"[\" + control.deviceName() + \"@\" + (\"\" + control.millis()) + \"ms]\" + \" \" + level2 + \":\" + message2"],[1,"\n    }\n    "],[0,"\n}\n"],[1,"\n"],[0,"let "]],"start1":703,"start2":703,"length1":257,"length2":27},{"diffs":[[0,"NED\n"],[-1,"let hear_beat_seconds = 10\nbasic.forever(function () {\n\t\n})\n// Heart beat loop\ncontrol.inBackground(function () {\n    while (true) {\n        control.waitMicros(hear_beat_seconds * 1000000)\n        send_heart_beat()"],[1,"basic.forever(function on_forever() {"],[0,"\n    "],[-1,"}"],[0,"\n})\n"]],"start1":861,"start2":861,"length1":228,"length2":50}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"ass\n"],[-1,"\ndef get_log_string(level2: str, message2: str):\n    return \"[\" + control.device_name() + \"@\" + (\"\" + str(control.millis())) + \"ms]\" + \" \" + level2 + \":\" + message2\n\n"],[0,"cont"]],"start1":671,"start2":671,"length1":174,"length2":8},{"diffs":[[0,"EFINED\n\n"],[-1,"\n\n\n"],[0,"def on_f"]],"start1":800,"start2":800,"length1":19,"length2":16}]}]},{"timestamp":1746708602129,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ld><"],[-1,"comment pinned=\"true\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><"],[0,"stat"]],"start1":7289,"start2":7289,"length1":127,"length2":8},{"diffs":[[0,"=\"text_join\""],[-1," inline=\"false\""],[0,"><mutation i"]],"start1":7488,"start2":7488,"length1":39,"length2":24},{"diffs":[[0," items=\""],[-1,"5"],[1,"2"],[0,"\"></muta"]],"start1":7510,"start2":7510,"length1":17,"length2":17},{"diffs":[[0,"XT\">"],[-1,"{\"hearbeat\":{\"from\":"],[1,"Hello"],[0,"</fi"]],"start1":7586,"start2":7586,"length1":28,"length2":13},{"diffs":[[0,"ow><"],[-1,"block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow><"],[0,"/val"]],"start1":7697,"start2":7697,"length1":358,"length2":8}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,")\n}\n"],[-1,"// Send heartbeat over radio\n"],[0,"func"]],"start1":616,"start2":616,"length1":37,"length2":8},{"diffs":[[0,"ng(\""],[-1,"{\\\"hearbeat\\\":{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"local_ms\\\":\" + control.millis() + \"}}"],[1,"Hello\" + \"World"],[0,"\")\n}"]],"start1":668,"start2":668,"length1":103,"length2":23}]}]},{"timestamp":1746708778148,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"bles><block "],[1,"type=\"device_forever\" x=\"529\" y=\"20\"></block><block "],[0,"type=\"pxt-on"]],"start1":266,"start2":266,"length1":24,"length2":76},{"diffs":[[0," x=\""],[-1,"-354"],[1,"51"],[0,"\" y=\""],[-1,"-144"],[1,"55"],[0,"\"><s"]],"start1":349,"start2":349,"length1":21,"length2":17},{"diffs":[[0,"ock "],[-1,"type=\"device_forever\" x=\"529\" y=\"20\"></block><block "],[0,"type"]],"start1":1394,"start2":1394,"length1":60,"length2":8},{"diffs":[[0,"comment pinned=\""],[-1,"fals"],[1,"tru"],[0,"e\" h=\"80\" w=\"160"]],"start1":6765,"start2":6765,"length1":36,"length2":35},{"diffs":[[0,"a\":{"],[-1,"\"~commentOffsetX\":\"-76.00002712673611\",\"~commentOffsetY\":\"-113.33338758680554\""],[0,"}}</"]],"start1":6904,"start2":6904,"length1":86,"length2":8},{"diffs":[[0,"comment pinned=\""],[-1,"fals"],[1,"tru"],[0,"e\" h=\"80\" w=\"160"]],"start1":7293,"start2":7293,"length1":36,"length2":35},{"diffs":[[0," x=\""],[-1,"-75"],[1,"28"],[0,"\" y=\"6"],[1,"7"],[0,"9"],[-1,"1"],[0,"\"><m"]],"start1":8284,"start2":8284,"length1":19,"length2":18},{"diffs":[[0,"e=\"send_"],[-1,"status"],[1,"message"],[0,"\" functi"]],"start1":8313,"start2":8313,"length1":22,"length2":23},{"diffs":[[0,"g name=\""],[-1,"status"],[1,"message"],[0,"\" id=\"u7"]],"start1":8367,"start2":8367,"length1":22,"length2":23},{"diffs":[[0,"e\">send_"],[-1,"status"],[1,"message"],[0,"</field>"]],"start1":8467,"start2":8467,"length1":22,"length2":23},{"diffs":[[0,"UE\">"],[-1,"status"],[1,"message"],[0,"</fi"]],"start1":8625,"start2":8625,"length1":14,"length2":15},{"diffs":[[0,"XT\">"],[-1,"-</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block"],[1,"{\"message\":{\"from\":\"\", \"to\":\"+ controller_name</field></shadow"],[0,"></v"]],"start1":8778,"start2":8778,"length1":644,"length2":70},{"diffs":[[0,"ck><"],[-1,"block type=\"function_definition\" x=\"133\" y=\"932\"><mutation name=\"emit_message\" functionid=\"U`C]Dx`$Zqgg22|gH*i.\"><arg name=\"message\" id=\"T40l^qH(4Dew8Doe)ijz\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"T40l^qH(4Dew8Doe)ijz\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value></block><"],[0,"/xml"]],"start1":10845,"start2":10845,"length1":424,"length2":8}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,")\n}\n"],[-1,"function send_status (status: string) {\n    radio.sendString(\"{\\\"hearbeat\\\":{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"local_ms\\\":\" + control.millis() + \"}}\")\n}\n"],[0,"func"]],"start1":152,"start2":152,"length1":170,"length2":8},{"diffs":[[0,"r_info () {\n"],[1,""],[0,"    // do no"]],"start1":184,"start2":184,"length1":24,"length2":24},{"diffs":[[0,".Yes)\n}\n"],[1,"function send_message (message: string) {\n    radio.sendString(\"{\\\"message\\\":{\\\"from\\\":\\\"\\\", \\\"to\\\":\\\"+ controller_name\")\n}\n"],[0,"// Send "]],"start1":488,"start2":488,"length1":16,"length2":140},{"diffs":[[0,"  \t\n"],[1,""],[0,"    }\n}\n"],[-1,"function emit_message (message: string) {\n\t\n}\n"],[0,"// F"]],"start1":1131,"start2":1131,"length1":62,"length2":16}]}]},{"timestamp":1746709375730,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"PUi@uTy@t8A#zzwd`E$c\">controller_name</variable><variable id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</variable><variable id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"6i_F,)D;]Tj9;Q~k.G^j\">MESSAGE_DESTINATION_BTSERIAL</variable><variable id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</variable></variables><block type=\"pxt-on-start\" x=\"56\" y=\"50\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"734\" y=\"121\"></block><block type=\"function_definition\" x=\"939\" y=\"121\"><mutation name=\"get_log_string\" functionid=\"B8t-~BW6qT+;Oq3Z$-*h\"><arg name=\"level2\" id=\"cw8d566xuremu29c12ang\" type=\"string\"></arg><arg name=\"message2\" id=\"aq199htfmbc79nl7qek4\" type=\"string\"></arg></mutation><field name=\"function_name\">get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"cw8d566xuremu29c12ang\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"aq199htfmbc79nl7qek4\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message2</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level2</field></block></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1720\" y=\"121\"><mutation name=\"do_start\" functionid=\"Fg%sGD/zIh5-,K`DNwd?\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"variables_set\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"168\" y=\"434\"><field name=\"VAR\" id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">led</field></block></value></block><block type=\"function_definition\" x=\"-124\" y=\"463\"><mutation name=\"do_stop\" functionid=\"KKJ`/0T+|jH$5VYyZuN6\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1711\" y=\"429\"><mutation name=\"broadcast_controller_info\" functionid=\"3:D(=tg%)(Ldg6WXe-2V\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field></block></value></block></value></block></value></block></statement></block><block type=\"control_in_background\" x=\"319\" y=\"505\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\":wTmwHfZ{jH6F^hfiT=H\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"-434\" y=\"772\"><mutation name=\"send_heart_beat\" functionid=\":wTmwHfZ{jH6F^hfiT=H\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"130\" y=\"792\"><mutation name=\"send_status\" functionid=\"doxwy.m8Hs033#r(4L6s\"><arg name=\"status\" id=\"p7bqfztz5kb6mjvdcfrokl\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"p7bqfztz5kb6mjvdcfrokl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1485\" y=\"780\"><mutation name=\"do_safety\" functionid=\":Q_o2T:d$N^G8#GRrmkI\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"919\" y=\"849\"><mutation name=\"register_controller\" functionid=\"Jj:(+:;$l067Wldnozs0\"><arg name=\"name\" id=\"cflyxzzn7qv4t4p9o147\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"cflyxzzn7qv4t4p9o147\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"-318\" y=\"1385\"><mutation name=\"emit_message\" functionid=\"*b:FvwcuI%YO9DZn?WS`\"><arg name=\"message\" id=\"d3jtrjojnsk46ui26mde2\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"d3jtrjojnsk46ui26mde2\"><shadow type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></shadow><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field></block></value><value name=\"B\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field></block></value><value name=\"B\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hello!</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement"],[1,"kPH/+0tPkyO6_nRZUgQM\">controller_name</variable><variable id=\"B~mUz[]{7^Tk=i=vWF$b\">CONTROLLER_UNDEFINED</variable><variable id=\"=Un@[01gB9jLNaHEE1*Q\">hear_beat_seconds</variable></variables><block type=\"pxt-on-start\" x=\"-354\" y=\"-144\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B~mUz[]{7^Tk=i=vWF$b\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"kPH/+0tPkyO6_nRZUgQM\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B~mUz[]{7^Tk=i=vWF$b\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=Un@[01gB9jLNaHEE1*Q\">hear_beat_seconds</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"529\" y=\"20\"></block><block type=\"function_definition\" x=\"734\" y=\"20\"><mutation name=\"get_log_string\" functionid=\"SfjT{Y/t0JMrIw8*z#mi\"><arg name=\"level2\" id=\"3m32roghsq4151u0kfkg\" type=\"string\"></arg><arg name=\"message2\" id=\"uls6w3hjwhlbke8tzjv09\" type=\"string\"></arg></mutation><field name=\"function_name\">get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"3m32roghsq4151u0kfkg\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"uls6w3hjwhlbke8tzjv09\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message2</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level2</field></block></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1515\" y=\"20\"><mutation name=\"do_start\" functionid=\"+CeokNQlsf#+40)Ukn;q\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"true\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1506\" y=\"328\"><mutation name=\"broadcast_controller_info\" functionid=\"Fx2PHKfQV;K6j2(I*YiW\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kPH/+0tPkyO6_nRZUgQM\">controller_name</field></block></value></block></value></block></value></block></statement></block><block type=\"control_in_background\" x=\"114\" y=\"404\"><comment pinned=\"true\" h=\"80\" w=\"160\">Heart beat loop</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-122.66669379340277\",\"~commentOffsetY\":\"-119.99998643663196\"}}</data><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" label=\"Micros\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=Un@[01gB9jLNaHEE1*Q\">hear_beat_seconds</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1000000</field></shadow></value></block></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"5L2M+)QrCk:y7%8l7VgM\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"-154\" y=\"461\"><mutation name=\"do_stop\" functionid=\"bE{V)QONX,`}r^v*1rcT\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-76.00002712673611\",\"~commentOffsetY\":\"-113.33338758680554\"}}</data><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"-487\" y=\"638\"><mutation name=\"send_heart_beat\" functionid=\"5L2M+)QrCk:y7%8l7VgM\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><shadow type=\"text\"><field name=\"TEXT\">{\"message\":{\"from\":\"\", \"to\":\"+ controller_name</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"-75\" y=\"691\"><mutation name=\"send_status\" functionid=\"dW}fDv6#h-G#A3IJO[r9\"><arg name=\"status\" id=\"u7zz64vyatulxap5gmfnq\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"u7zz64vyatulxap5gmfnq\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><shadow type=\"text\"><field name=\"TEXT\">-</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\">World</field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1280\" y=\"679\"><mutation name=\"do_safety\" functionid=\"=l_:E*GA@Szyu+z}R11/\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"true\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"714\" y=\"748\"><mutation name=\"register_controller\" functionid=\":cX(buB{CMn@N.lOvSaS\"><arg name=\"name\" id=\"lmvvqtu2dwj4hpetnkcu8\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"true\" h=\"80\" w=\"160\">Register the controller if no one is registered yet\n</comment><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"lmvvqtu2dwj4hpetnkcu8\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"kPH/+0tPkyO6_nRZUgQM\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B~mUz[]{7^Tk=i=vWF$b\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"kPH/+0tPkyO6_nRZUgQM\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"133\" y=\"932\"><mutation name=\"emit_message\" functionid=\"U`C]Dx`$Zqgg22|gH*i.\"><arg name=\"message\" id=\"T40l^qH(4Dew8Doe)ijz\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"T40l^qH(4Dew8Doe)ijz\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value"],[0,"></b"]],"start1":76,"start2":76,"length1":14600,"length2":11838}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\\\"local_ms\\\":\" +"],[-1," (\"\" +"],[0," control.millis("]],"start1":274,"start2":274,"length1":38,"length2":32},{"diffs":[[0,"rol.millis()"],[-1,")"],[0," + \"}}\")\n}\nf"]],"start1":295,"start2":295,"length1":25,"length2":24},{"diffs":[[0,"ms\\\":\" +"],[-1," (\"\" +"],[0," control"]],"start1":803,"start2":803,"length1":22,"length2":16},{"diffs":[[0,"is()"],[-1,")"],[0," + \"}}\""],[-1," + \"\" + \"\""],[0,")\n}\n"]],"start1":824,"start2":824,"length1":26,"length2":15},{"diffs":[[0,"red yet\n"],[1,"// \n"],[0,"function"]],"start1":1014,"start2":1014,"length1":16,"length2":20},{"diffs":[[0,") {\n"],[-1,"    if (message_destination == MESSAGE_DESTINATION_RADIO) {\n        radio.sendString(message)\n    } else if (message_destination == MESSAGE_DESTINATION_LEDS) {\n        basic.showString(message)\n    } else {\n        basic.showString(\"WARNING: Invalid message_destination\")\n    }\n}\n// Format log message with microbit name and time stamp in prefix\nfunction get_log_string (level2: string, message2: string) {\n    return \"[\" + control.deviceName() + \"@\" + (\"\" + control.millis()) + \"ms]\" + \" \" + level2 + \":\" + message2\n}\nlet message_destination = \"\"\nlet controller_name = \"\"\nlet MESSAGE_DESTINATION_LEDS = \"\"\nlet MESSAGE_DESTINATION_RADIO = \"\"\nlet CONTROLLER_UNDEFINED = \"\"\nradio.setGroup(0)\nCONTROLLER_UNDEFINED = \"?\"\nMESSAGE_DESTINATION_RADIO = \"radio\"\nMESSAGE_DESTINATION_LEDS = \"led\"\n// Name of controller. This will be updated by code : do not touch\ncontroller_name = CONTROLLER_UNDEFINED\nmessage_destination = MESSAGE_DESTINATION_RADIO"],[1,"\t\n}\n// Format log message with microbit name and time stamp in prefix\nfunction get_log_string (level2: string, message2: string) {\n    return \"[\" + control.deviceName() + \"@\" + (\"\" + control.millis()) + \"ms]\" + \" \" + level2 + \":\" + message2\n}\nlet controller_name = \"\"\nlet CONTROLLER_UNDEFINED = \"\"\nradio.setGroup(0)\nCONTROLLER_UNDEFINED = \"?\"\ncontroller_name = CONTROLLER_UNDEFINED\nlet hear_beat_seconds = 10"],[0,"\nbas"]],"start1":1219,"start2":1219,"length1":947,"length2":416},{"diffs":[[0,"tMicros("],[1,"hear_beat_seconds * "],[0,"1000000)"]],"start1":1757,"start2":1757,"length1":16,"length2":36}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[-1,"# Add your code in to handle the STOP request from controller\n"],[0,"def "]],"start1":0,"start2":0,"length1":66,"length2":4},{"diffs":[[0,"NO)\n"],[-1,"def send_status(status: str):\n    radio.send_string(\"{\\\"hearbeat\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \"}}\")\n"],[0,"def "]],"start1":80,"start2":80,"length1":165,"length2":8},{"diffs":[[0,"e))\n"],[-1,"# Add your code in to handle the START request from controller\n"],[0,"def "]],"start1":253,"start2":253,"length1":71,"length2":8},{"diffs":[[0,"ES)\n"],[-1,"# Send heartbeat over radio\ndef send_heart_beat("],[1,"def send_message(message: str"],[0,"):\n "]],"start1":339,"start2":339,"length1":56,"length2":37},{"diffs":[[0,"\"{\\\""],[-1,"hearbeat"],[1,"message"],[0,"\\\":{"]],"start1":397,"start2":397,"length1":16,"length2":15},{"diffs":[[0,"m\\\":"],[-1,"\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \"}}\" + \"\" + \"\")\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n# Register the controller if no one is registered yet"],[1,"\\\"\\\", \\\"to\\\":\\\"+ controller_name\")\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)"],[0,"\ndef"]],"start1":417,"start2":417,"length1":270,"length2":96},{"diffs":[[0,"ass\n"],[-1,"def emit_message(message: str):\n    pass\n# Format log message with microbit name and time stamp in prefix"],[0,"\ndef"]],"start1":671,"start2":671,"length1":113,"length2":8},{"diffs":[[0,"essage2\n"],[1,"\n"],[0,"controll"]],"start1":832,"start2":832,"length1":16,"length2":17},{"diffs":[[0,"\"?\"\n"],[-1,"\nMESSAGE_DESTINATION_RADIO = \"radio\"\nMESSAGE_DESTINATION_BTSERIAL = \"bluetooth\"\nMESSAGE_DESTINATION_LEDS = \"led\"\n# Name of controller. This will be updated by code : do not touch\ncontroller_name = CONTROLLER_UNDEFINED\nmessage_destination = MESSAGE_DESTINATION_RADIO\n\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n\n# Heart beat loop\n\ndef on_in_background():\n    while True:\n        control.wait_micros(1000000)\n        send_heart_beat()\ncontrol.in_background(on_in_background"],[1,"controller_name = CONTROLLER_UNDEFINED\n\n\n\n\ndef on_forever():\n    pass\nbasic.forever(on_forever"],[0,")\n"]],"start1":930,"start2":930,"length1":488,"length2":100}]}]},{"timestamp":1746709974058,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</variable><variable id=\"w47R?kTPXd-CMCY3H}s8\">CONTROLLER_UNDEFINED</variable><variable id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</variable><variable id=\"(HJhM2dR9IjFJN?s;:|D\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"T00v^)SvUo7MwI~kj.FE\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"S[SyM9.?/E1PLmc*H[at\">MESSAGE_DESTINATION_SERIAL</variable></variables><block type=\"control_in_background\" x=\"569\" y=\"-34\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"1hkCP{OQf]]$CIqK0GO7\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_forever\" x=\"838\" y=\"-34\"></block><block type=\"function_definition\" x=\"1043\" y=\"-34\"><mutation name=\"get_log_string\" functionid=\"-u5@g_kCaMwGK=pDuVm_\"><arg name=\"level2\" id=\"u89deckc8jdj67f6d2jp\" type=\"string\"></arg><arg name=\"message22\" id=\"yjy1sbh2umu8y9f8nhs1\" type=\"string\"></arg></mutation><field name=\"function_name\">get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"u89deckc8jdj67f6d2jp\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"yjy1sbh2umu8y9f8nhs1\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message22</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level2</field></block></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message22</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1570\" y=\"-34\"><mutation name=\"do_start\" functionid=\"[C`g;LnD{Pfv3//upD00\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"pxt-on-start\" x=\"40\" y=\"50\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(HJhM2dR9IjFJN?s;:|D\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"T00v^)SvUo7MwI~kj.FE\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S[SyM9.?/E1PLmc*H[at\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(HJhM2dR9IjFJN?s;:|D\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w47R?kTPXd-CMCY3H}s8\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w47R?kTPXd-CMCY3H}s8\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1840\" y=\"-34\"><mutation name=\"init_serial_if_required\" functionid=\"mJWA^acU4^x6jy%z|8Y`\"></mutation><field name=\"function_name\">init_serial_if_required</field><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S[SyM9.?/E1PLmc*H[at\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO0\"><block type=\"serial_redirect_to_usb\"></block></statement></block></statement></block><block type=\"function_definition\" x=\"2205\" y=\"-34\"><mutation name=\"do_stop\" functionid=\"])v5H[zhhy5%8I!_^L8X\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"-398\" y=\"617\"><mutation name=\"broadcast_controller_info\" functionid=\"vZXW*9L.vwx8jtaz}uV0\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</field></block></value></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1317\" y=\"621\"><mutation name=\"send_status\" functionid=\".B=[_a+hP`i8pF}_HK9p\"><arg name=\"status\" id=\"2r2bgzjs3eyedrjh12p9\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"2r2bgzjs3eyedrjh12p9\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"zelrvJ+unI2a|=%oBV;k\"><arg name=\"message\" id=\"1bllwvl8wvbz838eubnw\" type=\"string\"></arg></mutation><value name=\"1bllwvl8wvbz838eubnw\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><next><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></next></block></statement></block><block type=\"function_definition\" x=\"2095\" y=\"625\"><mutation name=\"do_safety\" functionid=\"U0BD)d[,e=VKO@.qD+un\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"630\" y=\"724\"><mutation name=\"send_heart_beat\" functionid=\"1hkCP{OQf]]$CIqK0GO7\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"zelrvJ+unI2a|=%oBV;k\"><arg name=\"message\" id=\"1bllwvl8wvbz838eubnw\" type=\"string\"></arg></mutation><value name=\"1bllwvl8wvbz838eubnw\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"-712\" y=\"893\"><mutation name=\"emit_message\" functionid=\"zelrvJ+unI2a|=%oBV;k\"><arg name=\"message\" id=\"1bllwvl8wvbz838eubnw\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"1bllwvl8wvbz838eubnw\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(HJhM2dR9IjFJN?s;:|D\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"T00v^)SvUo7MwI~kj.FE\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S[SyM9.?/E1PLmc*H[at\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"136\" y=\"1057\"><mutation name=\"register_controller\" functionid=\"j/2$.jFt*Ro[M}coan37\"><arg name=\"name\" id=\"tdzepn52hy8b8zo3uxqjj\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"tdzepn52hy8b8zo3uxqjj\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w47R?kTPXd-CMCY3H}s8\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block"],[1,"PUi@uTy@t8A#zzwd`E$c\">controller_name</variable><variable id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</variable><variable id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"6i_F,)D;]Tj9;Q~k.G^j\">MESSAGE_DESTINATION_BTSERIAL</variable><variable id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</variable></variables><block type=\"pxt-on-start\" x=\"56\" y=\"50\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"734\" y=\"121\"></block><block type=\"function_definition\" x=\"939\" y=\"121\"><mutation name=\"get_log_string\" functionid=\"B8t-~BW6qT+;Oq3Z$-*h\"><arg name=\"level2\" id=\"cw8d566xuremu29c12ang\" type=\"string\"></arg><arg name=\"message2\" id=\"aq199htfmbc79nl7qek4\" type=\"string\"></arg></mutation><field name=\"function_name\">get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"cw8d566xuremu29c12ang\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"aq199htfmbc79nl7qek4\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message2</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level2</field></block></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1720\" y=\"121\"><mutation name=\"do_start\" functionid=\"Fg%sGD/zIh5-,K`DNwd?\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"variables_set\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"168\" y=\"434\"><field name=\"VAR\" id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">led</field></block></value></block><block type=\"function_definition\" x=\"-124\" y=\"463\"><mutation name=\"do_stop\" functionid=\"KKJ`/0T+|jH$5VYyZuN6\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1711\" y=\"429\"><mutation name=\"broadcast_controller_info\" functionid=\"3:D(=tg%)(Ldg6WXe-2V\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field></block></value></block></value></block></value></block></statement></block><block type=\"control_in_background\" x=\"319\" y=\"505\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\":wTmwHfZ{jH6F^hfiT=H\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"-434\" y=\"772\"><mutation name=\"send_heart_beat\" functionid=\":wTmwHfZ{jH6F^hfiT=H\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"130\" y=\"792\"><mutation name=\"send_status\" functionid=\"doxwy.m8Hs033#r(4L6s\"><arg name=\"status\" id=\"p7bqfztz5kb6mjvdcfrokl\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"p7bqfztz5kb6mjvdcfrokl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1485\" y=\"780\"><mutation name=\"do_safety\" functionid=\":Q_o2T:d$N^G8#GRrmkI\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"919\" y=\"849\"><mutation name=\"register_controller\" functionid=\"Jj:(+:;$l067Wldnozs0\"><arg name=\"name\" id=\"cflyxzzn7qv4t4p9o147\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"cflyxzzn7qv4t4p9o147\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"-318\" y=\"1385\"><mutation name=\"emit_message\" functionid=\"*b:FvwcuI%YO9DZn?WS`\"><arg name=\"message\" id=\"d3jtrjojnsk46ui26mde2\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"d3jtrjojnsk46ui26mde2\"><shadow type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></shadow><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"1\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field></block></value><value name=\"B\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field></block></value><value name=\"B\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hello!</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow"],[0,"></v"]],"start1":76,"start2":76,"length1":16832,"length2":14552}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,") {\n"],[-1,"    emit_message(\"abc\")\n"],[0,"    "]],"start1":192,"start2":192,"length1":32,"length2":8},{"diffs":[[0,") {\n    "],[-1,"emit_message"],[1,"radio.sendString"],[0,"(\"{\\\"hea"]],"start1":720,"start2":720,"length1":28,"length2":32},{"diffs":[[0,")\n}\n"],[-1,"function init_serial_if_required () {\n    if (message_destination == MESSAGE_DESTINATION_SERIAL) {\n        serial.redirectToUSB()\n    }\n}\n"],[0,"// R"]],"start1":987,"start2":987,"length1":146,"length2":8},{"diffs":[[0,"ge)\n"],[-1,"    } else if (message_destination == MESSAGE_DESTINATION_SERIAL) {\n        serial.writeString(message)\n"],[0,"    "]],"start1":1433,"start2":1433,"length1":112,"length2":8},{"diffs":[[0,"message2"],[-1,"2"],[0,": string"]],"start1":1630,"start2":1630,"length1":17,"length2":16},{"diffs":[[0,"age2"],[-1,"2"],[0,"\n}\n"],[-1,"let controller_name = \"\"\nlet CONTROLLER_UNDEFINED = \"\"\n"],[0,"let "]],"start1":1755,"start2":1755,"length1":67,"length2":11},{"diffs":[[0,"let "],[-1,"MESSAGE_DESTINATION_SERIAL"],[1,"controller_name"],[0," = \""]],"start1":1791,"start2":1791,"length1":34,"length2":23},{"diffs":[[0," \"\"\n"],[-1,"radio.setGroup(0)\nMESSAGE_DESTINATION_RADIO = \"radio\"\nMESSAGE_DESTINATION_L"],[1,"let CONTROLLER_UNDEFINED = \"\"\nradio.setGroup(0)\nCONTROLLER_UNDEFIN"],[0,"ED"],[-1,"S"],[0," = \""],[-1,"led"],[1,"?"],[0,"\"\nME"]],"start1":1881,"start2":1881,"length1":93,"length2":81},{"diffs":[[0,"ION_"],[-1,"SERIAL = \"serial\"\n// Do not change message destination after start.\nmessage_destination = MESSAGE_DESTINATION_RADIO\nCONTROLLER_UNDEFINED = \"undefin"],[1,"RADIO = \"radio\"\nMESSAGE_DESTINATION_LEDS = \"l"],[0,"ed\"\n"]],"start1":1976,"start2":1976,"length1":155,"length2":53},{"diffs":[[0,"DEFINED\n"],[1,"message_destination = MESSAGE_DESTINATION_RADIO\n"],[0,"basic.fo"]],"start1":2127,"start2":2127,"length1":16,"length2":64}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"r):\n"],[-1,"    emit_message(\"abc\")\n"],[0,"    "]],"start1":172,"start2":172,"length1":32,"length2":8},{"diffs":[[0,"\\\"local_ms\\\":\" +"],[-1," (\"\" +"],[0," str(control.mil"]],"start1":256,"start2":256,"length1":38,"length2":32},{"diffs":[[0,"ol.millis())"],[-1,")"],[0," + \"}}\")\ndef"]],"start1":282,"start2":282,"length1":25,"length2":24},{"diffs":[[0,"es.YES)\n"],[-1,"\n"],[0,"# Send h"]],"start1":617,"start2":617,"length1":17,"length2":16},{"diffs":[[0,"():\n    "],[-1,"emit_message"],[1,"radio.send_string"],[0,"(\"{\\\"hea"]],"start1":672,"start2":672,"length1":28,"length2":33},{"diffs":[[0,"ms\\\":\" +"],[-1," (\"\" +"],[0," str(con"]],"start1":764,"start2":764,"length1":22,"length2":16},{"diffs":[[0,"ol.millis())"],[-1,")"],[0," + \"}}\" + \"\""]],"start1":782,"start2":782,"length1":25,"length2":24},{"diffs":[[0,"SE)\n"],[-1,"def init_serial_if_required():\n    if True:\n        pass\n"],[0,"# Re"]],"start1":928,"start2":928,"length1":65,"length2":8},{"diffs":[[0,"    "],[-1,"if message_destination == MESSAGE_DESTINATION_RADIO:\n        radio.send_string(message)\n    elif message_destination == MESSAGE_DESTINATION_LEDS:\n        basic.show_string(message)\n    elif message_destination == MESSAGE_DESTINATION_SERIAL:\n        serial.write_string(message)\n    else:\n        basic.show_string(\"WARNING: Invalid message_destination\")"],[1,"pass"],[0,"\n# F"]],"start1":1183,"start2":1183,"length1":361,"length2":12},{"diffs":[[0,"message2"],[-1,"2"],[0,": str):\n"]],"start1":1289,"start2":1289,"length1":17,"length2":16},{"diffs":[[0,"message2"],[-1,"2"],[0,"\ncontrol"]],"start1":1412,"start2":1412,"length1":17,"length2":16},{"diffs":[[0," \"\"\n"],[-1,"message_destination = \"\"\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO"],[1,"radio.set_group(0)\nCONTROLLER_UNDEFINED"],[0," = \""],[1,"?"],[0,"\"\n"],[-1,"radio.set_group(0)"],[0,"\nMES"]],"start1":1464,"start2":1464,"length1":144,"length2":54},{"diffs":[[0,"ION_"],[-1,"LEDS = \"led\"\nMESSAGE_DESTINATION_SERIAL = \"serial\"\n# Do not change message destination after start.\nmessage_destination = MESSAGE_DESTINATION_RADIO\nCONTROLLER_UNDEFINED = \"undefin"],[1,"BTSERIAL = \"bluetooth\"\nMESSAGE_DESTINATION_LEDS = \"l"],[0,"ed\"\n"]],"start1":1567,"start2":1567,"length1":187,"length2":60},{"diffs":[[0,"DEFINED\n"],[1,"message_destination = MESSAGE_DESTINATION_RADIO\n\n"],[0,"\ndef on_"]],"start1":1724,"start2":1724,"length1":16,"length2":65}]}]},{"timestamp":1746710503251,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"fZtp{H[U-I.8EHn|2#:)\">controller_name</variable><variable id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</variable><variable id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</variable><variable id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"GW4b6:p]C=B~8Ty.;LCj\">RADIO_GROUP_MAX</variable><variable id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</variable><variable id=\"/2(DKR7L;R}D2Yn3.~$v\">RADIO_GROUP_MIN</variable></variables><comment x=\"-218.57372716603916\" y=\"-122.40129555090792\" w=\"480\" h=\"120\">\nYou can add custom code after the common settings.\n</comment><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"[h2|2@W.][[C66~aK)`k\"></mutation></block></next></block></statement></block></statement></block><block type=\"pxt-on-start\" x=\"54\" y=\"53\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"GW4b6:p]C=B~8Ty.;LCj\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/2(DKR7L;R}D2Yn3.~$v\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"887\" y=\"20\"></block><block type=\"function_definition\" x=\"1092\" y=\"20\"><mutation name=\"get_log_string\" functionid=\"|Z(ksvEX(NW7Og/yRI?v\"><arg name=\"level2\" id=\"wfgoc3u99ozpf42jun1z\" type=\"string\"></arg><arg name=\"message22\" id=\"y9prf0kb6ilpu99zm3jd\" type=\"string\"></arg></mutation><field name=\"function_name\">get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"wfgoc3u99ozpf42jun1z\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"y9prf0kb6ilpu99zm3jd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message22</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level2</field></block></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message22</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1619\" y=\"20\"><mutation name=\"do_start\" functionid=\"Ex?Ogst3c2AC8;w,AE*J\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1889\" y=\"20\"><mutation name=\"do_stop\" functionid=\"gN1c!=;rb7r/J5/Ny7.H\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"device_button_event\" x=\"-235\" y=\"152\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment></block><block type=\"device_button_event\" x=\"-228\" y=\"279\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment></block><block type=\"function_definition\" x=\"20\" y=\"679\"><mutation name=\"send_status\" functionid=\"6v|,Kw|hbG=HOI%F$^?/\"><arg name=\"status\" id=\"qmioxdaktjo50wgnku49f\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"qmioxdaktjo50wgnku49f\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><value name=\"gfxcfbb0cm12dlfi6l6x\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"603\" y=\"679\"><mutation name=\"do_safety\" functionid=\"gP:ycIi)R.]K0yv^_i/9\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"881\" y=\"679\"><mutation name=\"send_heart_beat\" functionid=\"[h2|2@W.][[C66~aK)`k\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><value name=\"gfxcfbb0cm12dlfi6l6x\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1214\" y=\"679\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"gfxcfbb0cm12dlfi6l6x\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1983\" y=\"679\"><mutation name=\"register_controller\" functionid=\"h)d@J7m5}aU)h$Kk]5N~\"><arg name=\"name\" id=\"umkwurcgaceb9liuqkshh\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"umkwurcgaceb9liuqkshh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)"],[1,"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</variable><variable id=\"w47R?kTPXd-CMCY3H}s8\">CONTROLLER_UNDEFINED</variable><variable id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</variable><variable id=\"(HJhM2dR9IjFJN?s;:|D\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"T00v^)SvUo7MwI~kj.FE\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"S[SyM9.?/E1PLmc*H[at\">MESSAGE_DESTINATION_SERIAL</variable></variables><block type=\"control_in_background\" x=\"569\" y=\"-34\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"1hkCP{OQf]]$CIqK0GO7\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_forever\" x=\"838\" y=\"-34\"></block><block type=\"function_definition\" x=\"1043\" y=\"-34\"><mutation name=\"get_log_string\" functionid=\"-u5@g_kCaMwGK=pDuVm_\"><arg name=\"level2\" id=\"u89deckc8jdj67f6d2jp\" type=\"string\"></arg><arg name=\"message22\" id=\"yjy1sbh2umu8y9f8nhs1\" type=\"string\"></arg></mutation><field name=\"function_name\">get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"u89deckc8jdj67f6d2jp\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"yjy1sbh2umu8y9f8nhs1\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message22</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level2</field></block></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message22</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1570\" y=\"-34\"><mutation name=\"do_start\" functionid=\"[C`g;LnD{Pfv3//upD00\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"pxt-on-start\" x=\"40\" y=\"50\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(HJhM2dR9IjFJN?s;:|D\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"T00v^)SvUo7MwI~kj.FE\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S[SyM9.?/E1PLmc*H[at\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(HJhM2dR9IjFJN?s;:|D\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w47R?kTPXd-CMCY3H}s8\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w47R?kTPXd-CMCY3H}s8\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1840\" y=\"-34\"><mutation name=\"init_serial_if_required\" functionid=\"mJWA^acU4^x6jy%z|8Y`\"></mutation><field name=\"function_name\">init_serial_if_required</field><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S[SyM9.?/E1PLmc*H[at\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO0\"><block type=\"serial_redirect_to_usb\"></block></statement></block></statement></block><block type=\"function_definition\" x=\"2205\" y=\"-34\"><mutation name=\"do_stop\" functionid=\"])v5H[zhhy5%8I!_^L8X\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"-398\" y=\"617\"><mutation name=\"broadcast_controller_info\" functionid=\"vZXW*9L.vwx8jtaz}uV0\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</field></block></value></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1317\" y=\"621\"><mutation name=\"send_status\" functionid=\".B=[_a+hP`i8pF}_HK9p\"><arg name=\"status\" id=\"2r2bgzjs3eyedrjh12p9\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"2r2bgzjs3eyedrjh12p9\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"zelrvJ+unI2a|=%oBV;k\"><arg name=\"message\" id=\"1bllwvl8wvbz838eubnw\" type=\"string\"></arg></mutation><value name=\"1bllwvl8wvbz838eubnw\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value><next><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></next></block></statement></block><block type=\"function_definition\" x=\"2095\" y=\"625\"><mutation name=\"do_safety\" functionid=\"U0BD)d[,e=VKO@.qD+un\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"630\" y=\"724\"><mutation name=\"send_heart_beat\" functionid=\"1hkCP{OQf]]$CIqK0GO7\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"zelrvJ+unI2a|=%oBV;k\"><arg name=\"message\" id=\"1bllwvl8wvbz838eubnw\" type=\"string\"></arg></mutation><value name=\"1bllwvl8wvbz838eubnw\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"-712\" y=\"893\"><mutation name=\"emit_message\" functionid=\"zelrvJ+unI2a|=%oBV;k\"><arg name=\"message\" id=\"1bllwvl8wvbz838eubnw\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"1bllwvl8wvbz838eubnw\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(HJhM2dR9IjFJN?s;:|D\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"T00v^)SvUo7MwI~kj.FE\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nAF:w%tP.ODwr1mD*=mM\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S[SyM9.?/E1PLmc*H[at\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"136\" y=\"1057\"><mutation name=\"register_controller\" functionid=\"j/2$.jFt*Ro[M}coan37\"><arg name=\"name\" id=\"tdzepn52hy8b8zo3uxqjj\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"tdzepn52hy8b8zo3uxqjj\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"nG_g1Iyl)%%KZr%E{ZRZ\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w47R?kTPXd-CMCY3H}s8\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"nG_g1Iyl)%%KZr%E{ZRZ"],[0,"\">co"]],"start1":76,"start2":76,"length1":15931,"length2":16646}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"/**\n * You can add custom code after the common settings.\n */\n"],[0,"// A"]],"start1":0,"start2":0,"length1":66,"length2":4},{"diffs":[[0,"from controller\n"],[1,""],[0,"function do_stop"]],"start1":47,"start2":47,"length1":32,"length2":32},{"diffs":[[0,"  emit_message(\""],[1,"abc\")\n    radio.sendString(\""],[0,"{\\\"hearbeat\\\":{\\"]],"start1":198,"start2":198,"length1":32,"length2":60},{"diffs":[[0,"\"}}\")\n}\n"],[1,"function broadcast_controller_info () {\n    // do not change this part :)\n    radio.sendString(\"CONTROLLER INFO: \" + control.deviceName() + (\" CONTROLLED BY \" + controller_name))\n}\n"],[0,"// Add y"]],"start1":341,"start2":341,"length1":16,"length2":197},{"diffs":[[0,")\n}\n"],[-1,"// Button A increments the radio group (0-16)\ninput.onButtonPressed(Button.A, function () {\n\t\n})\n"],[0,"// A"]],"start1":879,"start2":879,"length1":105,"length2":8},{"diffs":[[0,")\n}\n"],[-1,"// Button B decrements the radio group (0-16)\ninput.onButtonPressed(Button.B, function () {\n\t"],[1,"function init_serial_if_required () {\n    if (message_destination == MESSAGE_DESTINATION_SERIAL) {\n        serial.redirectToUSB()\n    }"],[0,"\n}"],[-1,")"],[0,"\n// "]],"start1":1007,"start2":1007,"length1":104,"length2":145},{"diffs":[[0," \"\"\n"],[-1,"let RADIO_GROUP_MIN = 0\nlet RADIO_GROUP_MAX = 16\nlet radio_group = RADIO_GROUP_MIN\n// The radio group is controlled by button A and B.\n"],[0,"radi"]],"start1":2211,"start2":2211,"length1":143,"length2":8},{"diffs":[[0,"oup("],[-1,"radio_group"],[1,"0"],[0,")\nME"]],"start1":2226,"start2":2226,"length1":19,"length2":9}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"  emit_message(\""],[1,"abc\")\n    radio.send_string(\""],[0,"{\\\"hearbeat\\\":{\\"]],"start1":178,"start2":178,"length1":32,"length2":61},{"diffs":[[0,"+ \"}}\")\n"],[1,"def broadcast_controller_info():\n    # do not change this part :)\n    radio.send_string(\"CONTROLLER INFO: \" + control.device_name() + (\" CONTROLLED BY \" + controller_name))\n"],[0,"# Add yo"]],"start1":326,"start2":326,"length1":16,"length2":189},{"diffs":[[0,"es.YES)\n"],[1,"\n"],[0,"# Send h"]],"start1":648,"start2":648,"length1":16,"length2":17},{"diffs":[[0,")\n# "],[-1,"Button A increments the radio group (0-16)\n\ndef on_button_pressed_a():\n    pass\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n# Button B decrements the radio group (0-16)\n\ndef on_button_pressed_b():\n    pass\ninput.on_button_pressed(Button.B, on_button_pressed_b)\n"],[1,"Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\ndef init_serial_if_required():\n    if True:\n        pass"],[0,"\n# R"]],"start1":845,"start2":845,"length1":400,"length2":181},{"diffs":[[0,"e22\n"],[-1,"# You can add custom code after the common settings.\n\nRADIO_GROUP_MIN =0\nRADIO_GROUP_MAX = 16\nradio_group=RADIO_GROUP_MIN"],[1,"controller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nmessage_destination = \"\""],[0,"\nMES"]],"start1":1859,"start2":1859,"length1":129,"length2":79},{"diffs":[[0," \"\"\n"],[-1,"# The radio group is controlled by button A and B.\n"],[0,"radi"]],"start1":2024,"start2":2024,"length1":59,"length2":8}]}]},{"timestamp":1746711101783,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"{NcW92o(vw1foWQnlukK\">radio_group</variable><variable id=\"!N0Kflij~iIZuix7bz}2\">RADIO_GROUP_MAX</variable><variable id=\"J7X}(.wEp$T:!~j4PVr[\">RADIO_GROUP_MIN</variable><variable id=\"p-yd9LNm0h5t/J.Eb8r)\">controller_name</variable><variable id=\"7x,lM8C=!Xb6xd+4Km}*\">CONTROLLER_UNDEFINED</variable><variable id=\"H!Vv,.=*o^yn,L{Ej#5H\">message_destination</variable><variable id=\")%9EX^nX-nekaAe,CTJY\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"dfxc1!1N%d@tz9LiWz];\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"l3zkMJ+S%7x|]JTY*zHn\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"T3F;I[F#RC7}M,+b%GYK\">bot_collected</variable><variable id=\"aB6f^uxwV9Rs.2jR4@]x\">bot_distance</variable><variable id=\"}$V`c1%zs(N}ACIxhD~X\">bot_status</variable></variables><comment x=\"506.63382083595917\" y=\"1316\" w=\"480\" h=\"120\">\nYou can add custom code after the common settings.\n</comment><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"I{`7RXGF#z]i-A5VL**.\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"variables_change\"><field name=\"VAR\" id=\"{NcW92o(vw1foWQnlukK\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{NcW92o(vw1foWQnlukK\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!N0Kflij~iIZuix7bz}2\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"{NcW92o(vw1foWQnlukK\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"J7X}(.wEp$T:!~j4PVr[\">RADIO_GROUP_MIN</field></block></value></block></statement></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"57\" y=\"70\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"T3F;I[F#RC7}M,+b%GYK\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"aB6f^uxwV9Rs.2jR4@]x\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!N0Kflij~iIZuix7bz}2\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"{NcW92o(vw1foWQnlukK\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"J7X}(.wEp$T:!~j4PVr[\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{NcW92o(vw1foWQnlukK\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")%9EX^nX-nekaAe,CTJY\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"dfxc1!1N%d@tz9LiWz];\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"l3zkMJ+S%7x|]JTY*zHn\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"H!Vv,.=*o^yn,L{Ej#5H\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")%9EX^nX-nekaAe,CTJY\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7x,lM8C=!Xb6xd+4Km}*\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p-yd9LNm0h5t/J.Eb8r)\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7x,lM8C=!Xb6xd+4Km}*\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}$V`c1%zs(N}ACIxhD~X\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1448\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"variables_change\"><field name=\"VAR\" id=\"{NcW92o(vw1foWQnlukK\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{NcW92o(vw1foWQnlukK\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"J7X}(.wEp$T:!~j4PVr[\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"{NcW92o(vw1foWQnlukK\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!N0Kflij~iIZuix7bz}2\">RADIO_GROUP_MAX</field></block></value></block></statement></block></next></block></statement></block><block type=\"device_forever\" x=\"2009\" y=\"20\"></block><block type=\"function_definition\" x=\"2214\" y=\"20\"><mutation name=\"send_log\" functionid=\"U!|;q=?OtH20@zL$uem/\"><arg name=\"level\" id=\"2c2ishjivhkway7m1kq6c\" type=\"string\"></arg><arg name=\"message\" id=\"m00fliw77tpp2ctk6so4y\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"2c2ishjivhkway7m1kq6c\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"m00fliw77tpp2ctk6so4y\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"K+nCH-m-egm.EcZuALp+\"><arg name=\"message2\" id=\"2jgxdc7qlubi0ct8uqbdb\" type=\"string\"></arg></mutation><value name=\"2jgxdc7qlubi0ct8uqbdb\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"10\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"log\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"721\"><mutation name=\"do_start\" functionid=\"S,$B=**!kbrOLwlN*yq)\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"290\" y=\"721\"><mutation name=\"do_stop\" functionid=\"uksXB[T8N4T%NqX1~zQT\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"552\" y=\"721\"><mutation name=\"do_safety\" functionid=\"Gg6IeR-Me9+)=KI!;1MT\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"830\" y=\"721\"><mutation name=\"emit_message\" functionid=\"K+nCH-m-egm.EcZuALp+\"><arg name=\"message2\" id=\"2jgxdc7qlubi0ct8uqbdb\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"2jgxdc7qlubi0ct8uqbdb\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message2</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H!Vv,.=*o^yn,L{Ej#5H\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")%9EX^nX-nekaAe,CTJY\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H!Vv,.=*o^yn,L{Ej#5H\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"dfxc1!1N%d@tz9LiWz];\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"H!Vv,.=*o^yn,L{Ej#5H\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l3zkMJ+S%7x|]JTY*zHn\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1599\" y=\"721\"><mutation name=\"send_status\" functionid=\".*VXTX=6CuPqGE,u0Ed-\"><arg name=\"status\" id=\"7tmfen8fhslrdtmv5onh\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"7tmfen8fhslrdtmv5onh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"K+nCH-m-egm.EcZuALp+\"><arg name=\"message2\" id=\"2jgxdc7qlubi0ct8uqbdb\" type=\"string\"></arg></mutation><value name=\"2jgxdc7qlubi0ct8uqbdb\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"status\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2086\" y=\"721\"><mutation name=\"register_controller\" functionid=\"_I+]G.63Y(Mn{C6EH*ba\"><arg name=\"name\" id=\"yhv764jlbbjydrbh2p8nw\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"yhv764jlbbjydrbh2p8nw\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p-yd9LNm0h5t/J.Eb8r)\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7x,lM8C=!Xb6xd+4Km}*\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"p-yd9LNm0h5t/J.Eb8r)\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"514\" y=\"809\"><mutation name=\"get_emiter_string\" functionid=\"~}cr$sm0D*~#3i6x9O}Z\"></mutation><field name=\"function_name\">get_emiter_string</field></block><block type=\"function_definition\" x=\"20\" y=\"1316\"><mutation name=\"send_heart_beat\" functionid=\"I{`7RXGF#z]i-A5VL**.\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"K+nCH-m-egm.EcZuALp+\"><arg name=\"message2\" id=\"2jgxdc7qlubi0ct8uqbdb\" type=\"string\"></arg></mutation><value name=\"2jgxdc7qlubi0ct8uqbdb\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value"],[1,"fZtp{H[U-I.8EHn|2#:)\">controller_name</variable><variable id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</variable><variable id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</variable><variable id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"GW4b6:p]C=B~8Ty.;LCj\">RADIO_GROUP_MAX</variable><variable id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</variable><variable id=\"/2(DKR7L;R}D2Yn3.~$v\">RADIO_GROUP_MIN</variable></variables><comment x=\"-218.57372716603916\" y=\"-122.40129555090792\" w=\"480\" h=\"120\">\nYou can add custom code after the common settings.\n</comment><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"[h2|2@W.][[C66~aK)`k\"></mutation></block></next></block></statement></block></statement></block><block type=\"pxt-on-start\" x=\"54\" y=\"53\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"GW4b6:p]C=B~8Ty.;LCj\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/2(DKR7L;R}D2Yn3.~$v\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"887\" y=\"20\"></block><block type=\"function_definition\" x=\"1092\" y=\"20\"><mutation name=\"get_log_string\" functionid=\"|Z(ksvEX(NW7Og/yRI?v\"><arg name=\"level2\" id=\"wfgoc3u99ozpf42jun1z\" type=\"string\"></arg><arg name=\"message22\" id=\"y9prf0kb6ilpu99zm3jd\" type=\"string\"></arg></mutation><field name=\"function_name\">get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"wfgoc3u99ozpf42jun1z\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"y9prf0kb6ilpu99zm3jd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message22</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level2</field></block></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message22</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1619\" y=\"20\"><mutation name=\"do_start\" functionid=\"Ex?Ogst3c2AC8;w,AE*J\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1889\" y=\"20\"><mutation name=\"do_stop\" functionid=\"gN1c!=;rb7r/J5/Ny7.H\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"device_button_event\" x=\"-235\" y=\"152\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment></block><block type=\"device_button_event\" x=\"-228\" y=\"279\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment></block><block type=\"function_definition\" x=\"20\" y=\"679\"><mutation name=\"send_status\" functionid=\"6v|,Kw|hbG=HOI%F$^?/\"><arg name=\"status\" id=\"qmioxdaktjo50wgnku49f\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"qmioxdaktjo50wgnku49f\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><value name=\"gfxcfbb0cm12dlfi6l6x\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"603\" y=\"679\"><mutation name=\"do_safety\" functionid=\"gP:ycIi)R.]K0yv^_i/9\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"881\" y=\"679\"><mutation name=\"send_heart_beat\" functionid=\"[h2|2@W.][[C66~aK)`k\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><value name=\"gfxcfbb0cm12dlfi6l6x\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1214\" y=\"679\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"gfxcfbb0cm12dlfi6l6x\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1983\" y=\"679\"><mutation name=\"register_controller\" functionid=\"h)d@J7m5}aU)h$Kk]5N~\"><arg name=\"name\" id=\"umkwurcgaceb9liuqkshh\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"umkwurcgaceb9liuqkshh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement"],[0,"></b"]],"start1":76,"start2":76,"length1":19198,"length2":16145}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"age(\"{\\\""],[-1,"status"],[1,"hearbeat"],[0,"\\\":{\\\"fr"]],"start1":271,"start2":271,"length1":22,"length2":24},{"diffs":[[0,") {\n"],[-1,"    radio_group += 1\n    if (radio_group > RADIO_GROUP_MAX) {\n        radio_group = RADIO_GROUP_MIN\n    }"],[1,"\t"],[0,"\n})\n"]],"start1":824,"start2":824,"length1":113,"length2":9},{"diffs":[[0,"\n// "],[-1,"Format log message with microbit name and time stamp in prefix\nfunction send_log (level: string, message: string) {\n    emit_message(\"{\\\"log\\\":{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"local_ms\\\":\" + (\"\" + control.millis()) + \", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message + \"\\\"}\" + \"}\")\n}\n// Button B decrements the radio group (0-16)\ninput.onButtonPressed(Button.B, function () {\n    radio_group += -1\n    if (radio_group < RADIO_GROUP_MIN) {\n        radio_group = RADIO_GROUP_MAX\n    }"],[1,"Button B decrements the radio group (0-16)\ninput.onButtonPressed(Button.B, function () {\n\t"],[0,"\n})\n"]],"start1":960,"start2":960,"length1":508,"length2":98},{"diffs":[[0,"(message"],[-1,"2"],[0,": string"]],"start1":1290,"start2":1290,"length1":17,"length2":16},{"diffs":[[0,"ndString(message"],[-1,"2"],[0,")\n    } else if "]],"start1":1386,"start2":1386,"length1":33,"length2":32},{"diffs":[[0,"owString(message"],[-1,"2"],[0,")\n    } else if "]],"start1":1486,"start2":1486,"length1":33,"length2":32},{"diffs":[[0,"sage"],[-1,"2"],[0,")\n  "]],"start1":1602,"start2":1602,"length1":9,"length2":8},{"diffs":[[0,"}\n}\n"],[-1,"function get_emiter_string () {\n\t"],[1,"// Format log message with microbit name and time stamp in prefix\nfunction get_log_string (level2: string, message22: string) {\n    return \"[\" + control.deviceName() + \"@\" + (\"\" + control.millis()) + \"ms]\" + \" \" + level2 + \":\" + message22"],[0,"\n}\nl"]],"start1":1690,"start2":1690,"length1":41,"length2":246},{"diffs":[[0,"let "],[-1,"radio_group = 0\nlet RADIO_GROUP_MAX = 0\nlet bot_collected = 0\nlet bot_distance = 0\n"],[0,"RADI"]],"start1":2148,"start2":2148,"length1":91,"length2":8},{"diffs":[[0,"AX = 16\n"],[1,"let "],[0,"radio_gr"]],"start1":2165,"start2":2165,"length1":16,"length2":20},{"diffs":[[0,"NED\n"],[-1,"let bot_status = \"undefined\"\n"],[0,"basi"]],"start1":2629,"start2":2629,"length1":37,"length2":8}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"age(\"{\\\""],[-1,"status"],[1,"hearbeat"],[0,"\\\":{\\\"fr"]],"start1":189,"start2":189,"length1":22,"length2":24},{"diffs":[[0,"\\\"local_ms\\\":\" +"],[1," (\"\" +"],[0," str(control.mil"]],"start1":251,"start2":251,"length1":32,"length2":38},{"diffs":[[0,"ol.millis())"],[1,")"],[0," + \"}}\")\n# A"]],"start1":283,"start2":283,"length1":24,"length2":25},{"diffs":[[0,"\\\"local_ms\\\":\" +"],[1," (\"\" +"],[0," str(control.mil"]],"start1":580,"start2":580,"length1":32,"length2":38},{"diffs":[[0,"ol.millis())"],[1,")"],[0," + \"}}\" + \"\""]],"start1":612,"start2":612,"length1":24,"length2":25},{"diffs":[[0,"    "],[-1,"global radio_group\n    radio_group += 1\n    if radio_group > RADIO_GROUP_MAX:\n        radio_group = RADIO_GROUP_MIN"],[1,"pass"],[0,"\ninp"]],"start1":717,"start2":717,"length1":123,"length2":12},{"diffs":[[0,")\n# "],[-1,"Format log message with microbit name and time stamp in prefix\ndef send_log(level: str, message: str):\n    emit_message(\"{\\\"log\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message + \"\\\"}\" + \"}\")\n# Button B decrements the radio group (0-16)\n\ndef on_button_pressed_b():\n    global radio_group\n    radio_group += -1\n    if radio_group < RADIO_GROUP_MIN:\n        radio_group = RADIO_GROUP_MAX"],[1,"Button B decrements the radio group (0-16)\n\ndef on_button_pressed_b():\n    pass"],[0,"\ninp"]],"start1":899,"start2":899,"length1":487,"length2":87},{"diffs":[[0,"(message"],[-1,"2"],[0,": str):\n"]],"start1":1274,"start2":1274,"length1":17,"length2":16},{"diffs":[[0,"d_string(message"],[-1,"2"],[0,")\n    elif messa"]],"start1":1364,"start2":1364,"length1":33,"length2":32},{"diffs":[[0,"w_string(message"],[-1,"2"],[0,")\n    elif messa"]],"start1":1457,"start2":1457,"length1":33,"length2":32},{"diffs":[[0,"sage"],[-1,"2"],[0,")\n  "]],"start1":1566,"start2":1566,"length1":9,"length2":8},{"diffs":[[0,")\n# "],[-1,"You can add custom code after the common settings.\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nmessage_destination = \"\"\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO = \"\"\nRADIO_GROUP_MIN = 0\nradio_group = 0\nRADIO_GROUP_MAX = 0\nRADIO_GROUP_MAX = 16\nradio_group = RADIO_GROUP_MIN"],[1,"Format log message with microbit name and time stamp in prefix\ndef get_log_string(level2: str, message22: str):\n    return \"[\" + control.device_name() + \"@\" + (\"\" + str(control.millis())) + \"ms]\" + \" \" + level2 + \":\" + message22\n# You can add custom code after the common settings.\n\nRADIO_GROUP_MIN =0\nRADIO_GROUP_MAX = 16\nradio_group=RADIO_GROUP_MIN\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO = \"\""],[0,"\n# T"]],"start1":1646,"start2":1646,"length1":330,"length2":451},{"diffs":[[0,"t_group("],[-1,"radio_group"],[1,"0"],[0,")\nMESSAG"]],"start1":2153,"start2":2153,"length1":27,"length2":17},{"diffs":[[0,"ED\n\n"],[-1,"bot_status=\"undefined\"\nbot_distance=0\nbot_collected=0\n\n"],[0,"def "]],"start1":2505,"start2":2505,"length1":63,"length2":8}]}]},{"timestamp":1746711700078,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">radio_"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"0cH0N+^@Dk%gTV_Bhn~O"],[1,"!N0Kflij~iIZuix7bz}2"],[0,"\">RADIO_"]],"start1":130,"start2":130,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"6CPRw*F?K:ryXd+bg9or"],[1,"J7X}(.wEp$T:!~j4PVr["],[0,"\">RADIO_"]],"start1":192,"start2":192,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"$Rezo7:?6$iAc$?N$J2y"],[1,"p-yd9LNm0h5t/J.Eb8r)"],[0,"\">contro"]],"start1":254,"start2":254,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"~C~GZM,M626a!=cEww{w"],[1,"7x,lM8C=!Xb6xd+4Km}*"],[0,"\">CONTRO"]],"start1":316,"start2":316,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"/2.IBJj,Qi_A0?JIh{!t"],[1,"H!Vv,.=*o^yn,L{Ej#5H"],[0,"\">messag"]],"start1":383,"start2":383,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"QToGIorTi8c0b7yiLUWs"],[1,")%9EX^nX-nekaAe,CTJY"],[0,"\">MESSAG"]],"start1":449,"start2":449,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"$|x,BV7L#hU*}I}}PGA{"],[1,"dfxc1!1N%d@tz9LiWz];"],[0,"\">MESSAG"]],"start1":521,"start2":521,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"N`+Cgu3svs[h;R=PI|fy"],[1,"l3zkMJ+S%7x|]JTY*zHn"],[0,"\">MESSAG"]],"start1":592,"start2":592,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"7VE;Lgml*pPv#!7a#/cK\">bot_distance</variable><variable id=\".8AcFAt|x;S.O%!9M;1A\">bot_collected"],[1,"T3F;I[F#RC7}M,+b%GYK\">bot_collected</variable><variable id=\"aB6f^uxwV9Rs.2jR4@]x\">bot_distance"],[0,"</va"]],"start1":669,"start2":669,"length1":102,"length2":102},{"diffs":[[0,"ble id=\""],[-1,"tS7B9GO5v-o:OMHg}A2;"],[1,"}$V`c1%zs(N}ACIxhD~X"],[0,"\">bot_st"]],"start1":784,"start2":784,"length1":36,"length2":36},{"diffs":[[0,"iables><"],[1,"comment x=\"506.63382083595917\" y=\"1316\" w=\"480\" h=\"120\">\nYou can add custom code after the common settings.\n</comment><"],[0,"block ty"]],"start1":840,"start2":840,"length1":16,"length2":135},{"diffs":[[0," x=\""],[-1,"5"],[0,"61"],[1,"8"],[0,"\" y=\""],[-1,"-5"],[1,"2"],[0,"0\"><"]],"start1":1001,"start2":1001,"length1":18,"length2":17},{"diffs":[[0,"tionid=\""],[-1,"oo3C{#s0C`]#*;q`8ZOv"],[1,"I{`7RXGF#z]i-A5VL**."],[0,"\"></muta"]],"start1":1514,"start2":1514,"length1":36,"length2":36},{"diffs":[[0,"x=\"8"],[-1,"30"],[1,"87"],[0,"\" y=\""],[-1,"-5"],[1,"2"],[0,"0\"><"]],"start1":1652,"start2":1652,"length1":17,"length2":16},{"diffs":[[0,"AR\" id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">radio_"]],"start1":1864,"start2":1864,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">radio_"]],"start1":2299,"start2":2299,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"0cH0N+^@Dk%gTV_Bhn~O"],[1,"!N0Kflij~iIZuix7bz}2"],[0,"\">RADIO_"]],"start1":2485,"start2":2485,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">radio_"]],"start1":2634,"start2":2634,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"6CPRw*F?K:ryXd+bg9or"],[1,"J7X}(.wEp$T:!~j4PVr["],[0,"\">RADIO_"]],"start1":2808,"start2":2808,"length1":36,"length2":36},{"diffs":[[0," x=\""],[-1,"0"],[1,"57"],[0,"\" y=\""],[1,"7"],[0,"0\"><"]],"start1":2966,"start2":2966,"length1":14,"length2":16},{"diffs":[[0,"id=\""],[-1,"7VE;Lgml*pPv#!7a#/cK\">bot_distance"],[1,"T3F;I[F#RC7}M,+b%GYK\">bot_collected"],[0,"</fi"]],"start1":3053,"start2":3053,"length1":42,"length2":43},{"diffs":[[0,"id=\""],[-1,".8AcFAt|x;S.O%!9M;1A\">bot_collected"],[1,"aB6f^uxwV9Rs.2jR4@]x\">bot_distance"],[0,"</fi"]],"start1":3243,"start2":3243,"length1":43,"length2":42},{"diffs":[[0,"AR\" id=\""],[-1,"0cH0N+^@Dk%gTV_Bhn~O"],[1,"!N0Kflij~iIZuix7bz}2"],[0,"\">RADIO_"]],"start1":3428,"start2":3428,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">radio_"]],"start1":3621,"start2":3621,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"6CPRw*F?K:ryXd+bg9or"],[1,"J7X}(.wEp$T:!~j4PVr["],[0,"\">RADIO_"]],"start1":3795,"start2":3795,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">radio_"]],"start1":4182,"start2":4182,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"QToGIorTi8c0b7yiLUWs"],[1,")%9EX^nX-nekaAe,CTJY"],[0,"\">MESSAG"]],"start1":4295,"start2":4295,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"$|x,BV7L#hU*}I}}PGA{"],[1,"dfxc1!1N%d@tz9LiWz];"],[0,"\">MESSAG"]],"start1":4556,"start2":4556,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"N`+Cgu3svs[h;R=PI|fy"],[1,"l3zkMJ+S%7x|]JTY*zHn"],[0,"\">MESSAG"]],"start1":4814,"start2":4814,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"/2.IBJj,Qi_A0?JIh{!t"],[1,"H!Vv,.=*o^yn,L{Ej#5H"],[0,"\">messag"]],"start1":5077,"start2":5077,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"QToGIorTi8c0b7yiLUWs"],[1,")%9EX^nX-nekaAe,CTJY"],[0,"\">MESSAG"]],"start1":5354,"start2":5354,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"~C~GZM,M626a!=cEww{w"],[1,"7x,lM8C=!Xb6xd+4Km}*"],[0,"\">CONTRO"]],"start1":5481,"start2":5481,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"$Rezo7:?6$iAc$?N$J2y"],[1,"p-yd9LNm0h5t/J.Eb8r)"],[0,"\">contro"]],"start1":5741,"start2":5741,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"~C~GZM,M626a!=cEww{w"],[1,"7x,lM8C=!Xb6xd+4Km}*"],[0,"\">CONTRO"]],"start1":6031,"start2":6031,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"tS7B9GO5v-o:OMHg}A2;"],[1,"}$V`c1%zs(N}ACIxhD~X"],[0,"\">bo"]],"start1":6157,"start2":6157,"length1":28,"length2":28},{"diffs":[[0,"x=\"1"],[-1,"391"],[1,"448"],[0,"\" y=\""],[-1,"-5"],[1,"2"],[0,"0\"><"]],"start1":6582,"start2":6582,"length1":18,"length2":17},{"diffs":[[0,"AR\" id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">radio_"]],"start1":6795,"start2":6795,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">radio_"]],"start1":7231,"start2":7231,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"6CPRw*F?K:ryXd+bg9or"],[1,"J7X}(.wEp$T:!~j4PVr["],[0,"\">RA"]],"start1":7421,"start2":7421,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"Ba]TOzJod0p06k_UXh?#"],[1,"{NcW92o(vw1foWQnlukK"],[0,"\">ra"]],"start1":7570,"start2":7570,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"0cH0N+^@Dk%gTV_Bhn~O"],[1,"!N0Kflij~iIZuix7bz}2"],[0,"\">RA"]],"start1":7744,"start2":7744,"length1":28,"length2":28},{"diffs":[[0," x=\""],[-1,"1952"],[1,"2009"],[0,"\" y=\""],[-1,"-5"],[1,"2"],[0,"0\"><"]],"start1":7900,"start2":7900,"length1":19,"length2":18},{"diffs":[[0,"x=\"2"],[-1,"157"],[1,"214"],[0,"\" y=\""],[-1,"-5"],[1,"2"],[0,"0\"><"]],"start1":7959,"start2":7959,"length1":18,"length2":17},{"diffs":[[0,"id=\""],[-1,"lS^V@4JQ}On8I8B+jItV"],[1,"U!|;q=?OtH20@zL$uem/"],[0,"\"><a"]],"start1":8009,"start2":8009,"length1":28,"length2":28},{"diffs":[[0,"el\" id=\""],[-1,"ucja5e0f1u5ma5st7u9um"],[1,"2c2ishjivhkway7m1kq6c"],[0,"\" type=\""]],"start1":8049,"start2":8049,"length1":37,"length2":37},{"diffs":[[0,"ge\" id=\""],[-1,"1qecea76ygg5m4yvcfdpvk"],[1,"m00fliw77tpp2ctk6so4y"],[0,"\" type=\""]],"start1":8116,"start2":8116,"length1":38,"length2":37},{"diffs":[[0,"me=\""],[-1,"ucja5e0f1u5ma5st7u9um"],[1,"2c2ishjivhkway7m1kq6c"],[0,"\"><b"]],"start1":8342,"start2":8342,"length1":29,"length2":29},{"diffs":[[0,"me=\""],[-1,"1qecea76ygg5m4yvcfdpvk"],[1,"m00fliw77tpp2ctk6so4y"],[0,"\"><b"]],"start1":8510,"start2":8510,"length1":30,"length2":29},{"diffs":[[0,"tionid=\""],[-1,"cc{yECb+1GL}/R-Ga}FR"],[1,"K+nCH-m-egm.EcZuALp+"],[0,"\"><arg n"]],"start1":8757,"start2":8757,"length1":36,"length2":36},{"diffs":[[0,"sage"],[1,"2"],[0,"\" id=\""],[-1,"eqlg5c8t9d6f94uj4ixnvg"],[1,"2jgxdc7qlubi0ct8uqbdb"],[0,"\" ty"]],"start1":8801,"start2":8801,"length1":36,"length2":36},{"diffs":[[0,"e name=\""],[-1,"eqlg5c8t9d6f94uj4ixnvg"],[1,"2jgxdc7qlubi0ct8uqbdb"],[0,"\"><shado"]],"start1":8871,"start2":8871,"length1":38,"length2":37},{"diffs":[[0,"ock "],[-1,"type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block "],[0,"type"]],"start1":9560,"start2":9560,"length1":138,"length2":8},{"diffs":[[0,"/value><"],[-1,"/block></value><"],[0,"value na"]],"start1":9617,"start2":9617,"length1":32,"length2":16},{"diffs":[[0," x=\""],[-1,"-37"],[1,"20"],[0,"\" y=\""],[-1,"65"],[1,"72"],[0,"1\"><"]],"start1":10388,"start2":10388,"length1":18,"length2":17},{"diffs":[[0,"id=\""],[-1,";S!*M7kah{^W(Ra9Z601"],[1,"S,$B=**!kbrOLwlN*yq)"],[0,"\"></"]],"start1":10438,"start2":10438,"length1":28,"length2":28},{"diffs":[[0,"x=\"2"],[-1,"33"],[1,"90"],[0,"\" y=\""],[-1,"65"],[1,"72"],[0,"1\"><"]],"start1":10858,"start2":10858,"length1":17,"length2":17},{"diffs":[[0,"id=\""],[-1,"kSGkBt1`%EOqL|;wI(Mv"],[1,"uksXB[T8N4T%NqX1~zQT"],[0,"\"></"]],"start1":10907,"start2":10907,"length1":28,"length2":28},{"diffs":[[0,"nt><"],[-1,"data>0</data><"],[0,"stat"]],"start1":11092,"start2":11092,"length1":22,"length2":8},{"diffs":[[0," x=\""],[-1,"495"],[1,"552"],[0,"\" y=\""],[-1,"65"],[1,"72"],[0,"1\"><"]],"start1":11323,"start2":11323,"length1":18,"length2":18},{"diffs":[[0,"id=\""],[-1,"uF|`V83RMvFW4JZ$TA?9"],[1,"Gg6IeR-Me9+)=KI!;1MT"],[0,"\"></"]],"start1":11375,"start2":11375,"length1":28,"length2":28},{"diffs":[[0,"on\" "],[-1,"collapsed=\"true\" x=\"773"],[1,"x=\"830"],[0,"\" y=\""],[-1,"65"],[1,"72"],[0,"1\"><"]],"start1":11719,"start2":11719,"length1":38,"length2":21},{"diffs":[[0,"tionid=\""],[-1,"cc{yECb+1GL}/R-Ga}FR"],[1,"K+nCH-m-egm.EcZuALp+"],[0,"\"><arg n"]],"start1":11773,"start2":11773,"length1":36,"length2":36},{"diffs":[[0,"sage"],[1,"2"],[0,"\" id=\""],[-1,"eqlg5c8t9d6f94uj4ixnvg"],[1,"2jgxdc7qlubi0ct8uqbdb"],[0,"\" ty"]],"start1":11817,"start2":11817,"length1":36,"length2":36},{"diffs":[[0,"ld><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-40\",\"~commentOffsetY\":\"-128\"}}</data><value name=\"eqlg5c8t9d6f94uj4ixnvg"],[1,"value name=\"2jgxdc7qlubi0ct8uqbdb"],[0,"\"><b"]],"start1":11927,"start2":11927,"length1":230,"length2":41},{"diffs":[[0,"=\"VALUE\">message"],[1,"2"],[0,"</field></block>"]],"start1":12060,"start2":12060,"length1":32,"length2":33},{"diffs":[[0,"AR\" id=\""],[-1,"/2.IBJj,Qi_A0?JIh{!t"],[1,"H!Vv,.=*o^yn,L{Ej#5H"],[0,"\">messag"]],"start1":12455,"start2":12455,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"QToGIorTi8c0b7yiLUWs"],[1,")%9EX^nX-nekaAe,CTJY"],[0,"\">ME"]],"start1":12653,"start2":12653,"length1":28,"length2":28},{"diffs":[[0,"=\"VALUE\">message"],[1,"2"],[0,"</field></block>"]],"start1":12875,"start2":12875,"length1":32,"length2":33},{"diffs":[[0,"AR\" id=\""],[-1,"/2.IBJj,Qi_A0?JIh{!t"],[1,"H!Vv,.=*o^yn,L{Ej#5H"],[0,"\">messag"]],"start1":13199,"start2":13199,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"$|x,BV7L#hU*}I}}PGA{"],[1,"dfxc1!1N%d@tz9LiWz];"],[0,"\">ME"]],"start1":13397,"start2":13397,"length1":28,"length2":28},{"diffs":[[0,"=\"VALUE\">message"],[1,"2"],[0,"</field></block>"]],"start1":13613,"start2":13613,"length1":32,"length2":33},{"diffs":[[0,"id=\""],[-1,"/2.IBJj,Qi_A0?JIh{!t"],[1,"H!Vv,.=*o^yn,L{Ej#5H"],[0,"\">me"]],"start1":13941,"start2":13941,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"N`+Cgu3svs[h;R=PI|fy"],[1,"l3zkMJ+S%7x|]JTY*zHn"],[0,"\">ME"]],"start1":14135,"start2":14135,"length1":28,"length2":28},{"diffs":[[0,"=\"VALUE\">message"],[1,"2"],[0,"</field></block>"]],"start1":14351,"start2":14351,"length1":32,"length2":33},{"diffs":[[0,"=\"15"],[-1,"42"],[1,"99"],[0,"\" y=\""],[-1,"65"],[1,"72"],[0,"1\"><"]],"start1":14672,"start2":14672,"length1":17,"length2":17},{"diffs":[[0,"id=\""],[-1,"]Jy(!D={{QBS1vpmC)0l"],[1,".*VXTX=6CuPqGE,u0Ed-"],[0,"\"><a"]],"start1":14725,"start2":14725,"length1":28,"length2":28},{"diffs":[[0,"us\" id=\""],[-1,"0s67zrw439b01iduqibl"],[1,"7tmfen8fhslrdtmv5onh"],[0,"\" type=\""]],"start1":14766,"start2":14766,"length1":36,"length2":36},{"diffs":[[0,"me=\""],[-1,"0s67zrw439b01iduqibl"],[1,"7tmfen8fhslrdtmv5onh"],[0,"\"><b"]],"start1":14883,"start2":14883,"length1":28,"length2":28},{"diffs":[[0,"tionid=\""],[-1,"cc{yECb+1GL}/R-Ga}FR"],[1,"K+nCH-m-egm.EcZuALp+"],[0,"\"><arg n"]],"start1":15128,"start2":15128,"length1":36,"length2":36},{"diffs":[[0,"sage"],[1,"2"],[0,"\" id=\""],[-1,"eqlg5c8t9d6f94uj4ixnvg"],[1,"2jgxdc7qlubi0ct8uqbdb"],[0,"\" ty"]],"start1":15172,"start2":15172,"length1":36,"length2":36},{"diffs":[[0,"e name=\""],[-1,"eqlg5c8t9d6f94uj4ixnvg"],[1,"2jgxdc7qlubi0ct8uqbdb"],[0,"\"><shado"]],"start1":15242,"start2":15242,"length1":38,"length2":37},{"diffs":[[0,"ock "],[-1,"type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block "],[0,"type"]],"start1":15933,"start2":15933,"length1":138,"length2":8},{"diffs":[[0,"/value><"],[-1,"/block></value><"],[0,"value na"]],"start1":15990,"start2":15990,"length1":32,"length2":16},{"diffs":[[0,"=\"20"],[-1,"29"],[1,"86"],[0,"\" y=\""],[-1,"65"],[1,"72"],[0,"1\"><"]],"start1":16161,"start2":16161,"length1":17,"length2":17},{"diffs":[[0,"id=\""],[-1,"KmDnlvY-Yh[5[I+kat/q"],[1,"_I+]G.63Y(Mn{C6EH*ba"],[0,"\"><a"]],"start1":16222,"start2":16222,"length1":28,"length2":28},{"diffs":[[0,"me\" id=\""],[-1,"t8uj9glt2271h54pt98c"],[1,"yhv764jlbbjydrbh2p8nw"],[0,"\" type=\""]],"start1":16261,"start2":16261,"length1":36,"length2":37},{"diffs":[[0,"me=\""],[-1,"t8uj9glt2271h54pt98c"],[1,"yhv764jlbbjydrbh2p8nw"],[0,"\"><b"]],"start1":16487,"start2":16487,"length1":28,"length2":29},{"diffs":[[0,"AR\" id=\""],[-1,"$Rezo7:?6$iAc$?N$J2y"],[1,"p-yd9LNm0h5t/J.Eb8r)"],[0,"\">contro"]],"start1":16988,"start2":16988,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"~C~GZM,M626a!=cEww{w"],[1,"7x,lM8C=!Xb6xd+4Km}*"],[0,"\">CO"]],"start1":17182,"start2":17182,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"$Rezo7:?6$iAc$?N$J2y"],[1,"p-yd9LNm0h5t/J.Eb8r)"],[0,"\">co"]],"start1":17336,"start2":17336,"length1":28,"length2":28},{"diffs":[[0,"on\" "],[-1,"collapsed=\"true\" x=\"245"],[1,"x=\"514"],[0,"\" y=\"8"],[-1,"81"],[1,"09"],[0,"\"><m"]],"start1":17633,"start2":17633,"length1":39,"length2":22},{"diffs":[[0,"n name=\"get_emit"],[-1,"t"],[0,"er_string\" funct"]],"start1":17661,"start2":17661,"length1":33,"length2":32},{"diffs":[[0,"ionid=\"~"],[-1,"XuXLOJ[uiMU}Gg|v_G+"],[1,"}cr$sm0D*~#3i6x9O}Z"],[0,"\"></muta"]],"start1":17693,"start2":17693,"length1":35,"length2":35},{"diffs":[[0,"n_name\">get_emit"],[-1,"t"],[0,"er_string</field"]],"start1":17753,"start2":17753,"length1":33,"length2":32},{"diffs":[[0,"ld><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-190\",\"~commentOffsetY\":\"-20\"}}</data"],[1,"/block><block type=\"function_definition\" x=\"20\" y=\"1316\"><mutation name=\"send_heart_beat\" functionid=\"I{`7RXGF#z]i-A5VL**.\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment"],[0,"><st"]],"start1":17783,"start2":17783,"length1":187,"length2":267},{"diffs":[[0,"unction_"],[-1,"return"],[1,"call"],[0,"\"><mutat"]],"start1":18085,"start2":18085,"length1":22,"length2":20},{"diffs":[[0,"ion "],[-1,"xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\""],[1,"name=\"emit_message\" functionid=\"K+nCH-m-egm.EcZuALp+\"><arg name=\"message2\" id=\"2jgxdc7qlubi0ct8uqbdb\" type=\"string\"></arg"],[0,"></m"]],"start1":18105,"start2":18105,"length1":68,"length2":129},{"diffs":[[0,"me=\""],[-1,"RETURN_VALUE"],[1,"2jgxdc7qlubi0ct8uqbdb"],[0,"\"><s"]],"start1":18251,"start2":18251,"length1":20,"length2":29},{"diffs":[[0,"hadow type=\""],[-1,"math_number"],[1,"text"],[0,"\"><field nam"]],"start1":18280,"start2":18280,"length1":35,"length2":28},{"diffs":[[0,"t\"><field name=\""],[-1,"NUM\">0"],[1,"TEXT\">abc"],[0,"</field></shadow"]],"start1":18295,"start2":18295,"length1":38,"length2":41},{"diffs":[[0,"mutation items=\""],[-1,"5"],[1,"7"],[0,"\"></mutation><va"]],"start1":18377,"start2":18377,"length1":33,"length2":33},{"diffs":[[0,"TEXT\">{\""],[1,"hearbeat\":{\""],[0,"from\":</"]],"start1":18459,"start2":18459,"length1":16,"length2":28},{"diffs":[[0,"XT\">\", \""],[-1,"at"],[1,"local"],[0,"_ms\":</f"]],"start1":18689,"start2":18689,"length1":18,"length2":21},{"diffs":[[0,"pe=\""],[-1,"control_running_time\"></block></value"],[1,"text_join\"><mutation items=\"1\"></mutation"],[0,"><va"]],"start1":18816,"start2":18816,"length1":45,"length2":49},{"diffs":[[0,"<value name=\"ADD"],[-1,"4"],[1,"0"],[0,"\"><shadow type=\""]],"start1":18862,"start2":18862,"length1":33,"length2":33},{"diffs":[[0,"eld name=\"TEXT\">"],[-1,"}"],[0,"</field></shadow"]],"start1":18904,"start2":18904,"length1":33,"length2":32},{"diffs":[[0,"ow><"],[-1,"/value></block></value></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"-307\" y=\"1224\"><mutation name=\"send_heart_beat\" functionid=\"oo3C{#s0C`]#*;q`8ZOv\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"cc{yECb+1GL}/R-Ga}FR\"><arg name=\"message\" id=\"eqlg5c8t9d6f94uj4ixnvg\" type=\"string\"></arg></mutation><value name=\"eqlg5c8t9d6f94uj4ixnvg\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation"],[1,"block type=\"control_running_time\"></block></value></block></value"],[0,"><va"]],"start1":18934,"start2":18934,"length1":676,"length2":73},{"diffs":[[0,"<value name=\"ADD"],[-1,"0"],[1,"4"],[0,"\"><shadow type=\""]],"start1":19004,"start2":19004,"length1":33,"length2":33},{"diffs":[[0,"XT\">"],[-1,"{hearbeat\":"],[1,"}}"],[0,"</fi"]],"start1":19058,"start2":19058,"length1":19,"length2":10},{"diffs":[[0,"<value name=\"ADD"],[-1,"1"],[1,"5"],[0,"\"><shadow type=\""]],"start1":19089,"start2":19089,"length1":33,"length2":33},{"diffs":[[0,"ow><"],[-1,"block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"~XuXLOJ[uiMU}Gg|v_G+\"></mutation></block><"],[0,"/val"]],"start1":19161,"start2":19161,"length1":132,"length2":8},{"diffs":[[0,"<value name=\"ADD"],[-1,"2"],[1,"6"],[0,"\"><shadow type=\""]],"start1":19172,"start2":19172,"length1":33,"length2":33},{"diffs":[[0,"eld name=\"TEXT\">"],[-1,"}"],[0,"</field></shadow"]],"start1":19214,"start2":19214,"length1":33,"length2":32}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"/"],[1,"**\n * You can add custom code after the common settings.\n */\n/"],[0,"/"],[-1," "],[0," Add your code in to handle "]],"start1":0,"start2":0,"length1":31,"length2":92},{"diffs":[[0," do_stop"],[1," "],[0,"() {\n   "]],"start1":133,"start2":133,"length1":16,"length2":17},{"diffs":[[0,"stop () {\n    //"],[-1," "],[0," implement your "]],"start1":137,"start2":137,"length1":33,"length2":32},{"diffs":[[0,")\n}\n"],[-1,"\n//  internal function: emitter json string\nfunction get_emitter_string() {\n    return \"{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"at_ms\\\":\" + (\"\" + control.millis()) + \"}\"\n}\n\n"],[0,"func"]],"start1":214,"start2":214,"length1":185,"length2":8},{"diffs":[[0,"d_status"],[1," "],[0,"(status:"]],"start1":230,"start2":230,"length1":16,"length2":17},{"diffs":[[0,"l_ms\\\":\" + (\"\" +"],[-1," (\"\" +"],[0," control.millis("]],"start1":336,"start2":336,"length1":38,"length2":32},{"diffs":[[0,"ol.millis())"],[-1,")"],[0," + \"}}\")\n}\n\n"]],"start1":358,"start2":358,"length1":25,"length2":24},{"diffs":[[0,"\"}}\")\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," Add you"]],"start1":373,"start2":373,"length1":20,"length2":18},{"diffs":[[0,"do_start"],[1," "],[0,"() {\n   "]],"start1":454,"start2":454,"length1":16,"length2":17},{"diffs":[[0,"{\n    //"],[-1," "],[0," impleme"]],"start1":466,"start2":466,"length1":17,"length2":16},{"diffs":[[0,".Yes)\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," Send he"]],"start1":532,"start2":532,"length1":20,"length2":18},{"diffs":[[0,"hear"],[-1," "],[0,"tbeat "],[1,"over radio"],[0,"\nfun"]],"start1":548,"start2":548,"length1":15,"length2":24},{"diffs":[[0,"art_beat"],[1," "],[0,"() {\n   "]],"start1":585,"start2":585,"length1":16,"length2":17},{"diffs":[[0,"ssage(\"{"],[1,"\\\""],[0,"hearbeat"]],"start1":610,"start2":610,"length1":16,"length2":18},{"diffs":[[0,"t\\\":"],[-1,"\" + get_emitter_string"],[1,"{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"local_ms\\\":\" + (\"\" + control.millis"],[0,"()"],[1,")"],[0," + \"}"],[1,"}\" + \"\" + \""],[0,"\")\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," But"]],"start1":627,"start2":627,"length1":46,"length2":113},{"diffs":[[0,"ion "],[-1,"on_button_pressed_a() {\n    "],[1,"() {"],[0,"\n   "]],"start1":817,"start2":817,"length1":36,"length2":12},{"diffs":[[0,"  }\n"],[-1,"    \n    send_log(\"INFO\", \"radio_group=\" + (\"\" + radio_group))\n"],[0,"})\n//"],[-1," "],[0," Add"]],"start1":928,"start2":928,"length1":77,"length2":13},{"diffs":[[0,"o_safety"],[1," "],[0,"() {\n   "]],"start1":1011,"start2":1011,"length1":16,"length2":17},{"diffs":[[0,"ouse)\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," Format "]],"start1":1055,"start2":1055,"length1":20,"length2":18},{"diffs":[[0,"send_log"],[1," "],[0,"(level: "]],"start1":1138,"start2":1138,"length1":16,"length2":17},{"diffs":[[0," + (\"\" +"],[-1," (\"\" +"],[0," control"]],"start1":1265,"start2":1265,"length1":22,"length2":16},{"diffs":[[0,"illis())"],[-1,")"],[0," + \", \\\""]],"start1":1283,"start2":1283,"length1":17,"length2":16},{"diffs":[[0," \"}\")\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," Button "]],"start1":1360,"start2":1360,"length1":20,"length2":18},{"diffs":[[0,"ion "],[-1,"on_button_pressed_b() {\n    "],[1,"() {"],[0,"\n   "]],"start1":1451,"start2":1451,"length1":36,"length2":12},{"diffs":[[0,"X\n    }\n"],[-1,"    \n"],[0,"})\n//"],[-1," "],[0," Registe"]],"start1":1559,"start2":1559,"length1":27,"length2":21},{"diffs":[[0,"ntroller"],[1," "],[0,"(name: s"]],"start1":1645,"start2":1645,"length1":16,"length2":17},{"diffs":[[0,"ring) {\n"],[-1,"    \n"],[0,"    if ("]],"start1":1663,"start2":1663,"length1":21,"length2":16},{"diffs":[[0,"    "],[-1,"  "],[-1,"  "],[1,"\t"],[0,"\n    }\n"],[-1,"    \n}\n\n//  Emits the message to the defined destination."],[1,"}"],[0,"\nfun"]],"start1":1766,"start2":1766,"length1":76,"length2":17},{"diffs":[[0,"_message"],[1," "],[0,"(message"]],"start1":1793,"start2":1793,"length1":16,"length2":17},{"diffs":[[0,"  }\n"],[-1,"    \n}\n"],[1,"}\nfunction get_emiter_string () {\n\t\n}"],[0,"\nlet"]],"start1":2204,"start2":2204,"length1":15,"length2":45},{"diffs":[[0,"= 0\n"],[-1,"let bot_distance = 0\n"],[0,"let "]],"start1":2499,"start2":2499,"length1":29,"length2":8},{"diffs":[[0,"ted = 0\n"],[1,"let bot_distance = 0\n"],[0,"RADIO_GR"]],"start1":2517,"start2":2517,"length1":16,"length2":37},{"diffs":[[0,"P_MIN\n//"],[-1," "],[0," The rad"]],"start1":2591,"start2":2591,"length1":17,"length2":16},{"diffs":[[0,"rial\"\n//"],[-1," "],[0," Do not "]],"start1":2778,"start2":2778,"length1":17,"length2":16},{"diffs":[[0,"ined\"\n//"],[-1," "],[0," Name of"]],"start1":2911,"start2":2911,"length1":17,"length2":16},{"diffs":[[0,"ion "],[-1,"on_forever"],[0,"() {\n"],[-1,"    "],[1,"\t"],[0,"\n})\n//"],[-1," "],[0," Hea"]],"start1":3071,"start2":3071,"length1":34,"length2":20},{"diffs":[[0,"ion "],[-1,"on_in_background"],[0,"() {"]],"start1":3130,"start2":3130,"length1":24,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"py"],[1,"blocks"],[0,"prj\"\n}\n"]],"start1":275,"start2":275,"length1":17,"length2":21}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"NO)\n"],[-1,"# internal function: emitter json string\ndef get_emitter_string():\n    return \"{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"at_ms\\\":\" + str(control.millis()) + \"}\"\n"],[0,"def "]],"start1":142,"start2":142,"length1":172,"length2":8},{"diffs":[[0,"\\\"local_ms\\\":\" +"],[-1," (\"\" +"],[0," str(control.mil"]],"start1":249,"start2":249,"length1":38,"length2":32},{"diffs":[[0,"ol.millis())"],[-1,")"],[0," + \"}}\")\n# A"]],"start1":275,"start2":275,"length1":25,"length2":24},{"diffs":[[0,"hear"],[-1," "],[0,"tbeat "],[1,"over radio"],[0,"\ndef"]],"start1":452,"start2":452,"length1":15,"length2":24},{"diffs":[[0,"ssage(\"{"],[1,"\\\""],[0,"hearbeat"]],"start1":507,"start2":507,"length1":16,"length2":18},{"diffs":[[0,"t\\\":"],[-1,"\" + get_emitter_string() + \"}"],[1,"{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \"}}\" + \"\" + \""],[0,"\")\n"],[-1,"\n"],[0,"# Bu"]],"start1":524,"start2":524,"length1":41,"length2":108},{"diffs":[[0," (0-16)\n"],[1,"\n"],[0,"def on_b"]],"start1":665,"start2":665,"length1":16,"length2":17},{"diffs":[[0,"MIN\n"],[-1,"    send_log(\"INFO\", \"radio_group=\"+str(radio_group))\n"],[0,"inpu"]],"start1":817,"start2":817,"length1":62,"length2":8},{"diffs":[[0,":\" +"],[-1," (\"\" +"],[0," str"]],"start1":1183,"start2":1183,"length1":14,"length2":8},{"diffs":[[0,"illis())"],[-1,")"],[0," + \", \\\""]],"start1":1201,"start2":1201,"length1":17,"length2":16},{"diffs":[[0,"ass\n"],[-1,"# Emits the message to the defined destination.\n"],[0,"def "]],"start1":1749,"start2":1749,"length1":56,"length2":8},{"diffs":[[0,"ation\")\n"],[1,"# You can add custom code after the common settings.\n"],[0,"controll"]],"start1":2139,"start2":2139,"length1":16,"length2":69},{"diffs":[[0,"= 0\n"],[-1,"bot_distance = 0\nbot_collected = 0\n"],[0,"RADI"]],"start1":2417,"start2":2417,"length1":43,"length2":8},{"diffs":[[0,"DEFINED\n"],[1,"\n"],[0,"bot_stat"]],"start1":2888,"start2":2888,"length1":16,"length2":17},{"diffs":[[0,"t_status"],[-1," = "],[1,"="],[0,"\"undefin"]],"start1":2899,"start2":2899,"length1":19,"length2":17},{"diffs":[[0,"defined\""],[1,"\nbot_distance=0\nbot_collected=0"],[0,"\n\ndef on"]],"start1":2911,"start2":2911,"length1":16,"length2":47}]}]},{"timestamp":1746712292914,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"d=\"B"],[-1,"k*Bwmx|,t.8c-a%E(l1\">controller_name</variable><variable id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</variable><variable id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</variable><variable id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"yb+cKL5?O4Lz6^~Y_t/]\">bot_collected</variable><variable id=\"H(#n|6sfnOuH#X,yGPKY\">bot_distance</variable><variable id=\"nEwitsFGHU,4:Pp:rfrO\">RADIO_GROUP_MAX</variable><variable id=\"o230X:f^8f9z`tSpe4LD\">radio_group</variable><variable id=\"MMpP.uCncJy?9h(L:nM*\">RADIO_GROUP_MIN</variable><variable id=\"lF6XR,~*:/!3EMH-J-em\">bot_status</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yb+cKL5?O4Lz6^~Y_t/]\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"H(#n|6sfnOuH#X,yGPKY\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MAX = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MAX\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let radio_group = 0\" numlines=\"1\" declaredvars=\"radio_group\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MIN = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MIN\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function inc_radio_group(increment: any) {\" line1=\"    \" line2=\"    radio_group += increment\" line3=\"    if (radio_group &gt; RADIO_GROUP_MAX) {\" line4=\"        radio_group = RADIO_GROUP_MIN\" line5=\"    } else if (radio_group &lt; RADIO_GROUP_MIN) {\" line6=\"        radio_group = RADIO_GROUP_MAX\" line7=\"    }\" line8=\"    \" line9=\"    send_log(&quot;INFO&quot;, &quot;radio_group=&quot; + (&quot;&quot; + radio_group))\" line10=\"}\" numlines=\"11\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nEwitsFGHU,4:Pp:rfrO\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"o230X:f^8f9z`tSpe4LD\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MMpP.uCncJy?9h(L:nM*\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o230X:f^8f9z`tSpe4LD\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"lF6XR,~*:/!3EMH-J-em\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"jM3@.^PkbMY7MpkuBhRs\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(+1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_button_event\" x=\"1161\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(-1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_forever\" x=\"1435\" y=\"20\"></block><block type=\"function_definition\" x=\"1640\" y=\"20\"><mutation name=\"send_log\" functionid=\"H!):!t}u!{^4({#!bl^P\"><arg name=\"level\" id=\"cw0q57odxxe1sagc7p7t\" type=\"string\"></arg><arg name=\"message\" id=\"4jvlmtzz42kv0batocsi\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"cw0q57odxxe1sagc7p7t\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"4jvlmtzz42kv0batocsi\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"10\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"log\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2223\" y=\"20\"><mutation name=\"do_start\" functionid=\"e+0-w:pPXQdPM:+K?!|p\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"2493\" y=\"20\"><mutation name=\"do_stop\" functionid=\"9$WW+lG2WHL5+QE$w`OH\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1313\"><mutation name=\"do_safety\" functionid=\"Jbt7IPD*p(s`H3ko;~qL\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"298\" y=\"1313\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"z4g234m7hmcbr7l3sb8l\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message2</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1067\" y=\"1313\"><mutation name=\"send_status\" functionid=\"Ywosw8fD.+(JT#yqJ}_c\"><arg name=\"status\" id=\"mmd0k3t3tj16trqpiimt\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"mmd0k3t3tj16trqpiimt\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"status\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1650\" y=\"1313\"><mutation name=\"register_controller\" functionid=\"PwAXmEQR%~Rjk}}Rq$rp\"><arg name=\"name\" id=\"z0ifkj4tp4dyndt5o5il2f\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"z0ifkj4tp4dyndt5o5il2f\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"2283\" y=\"1313\"><mutation name=\"get_emitter_string\" functionid=\":lhSOf*:$gz4bv!a)|%@\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1908\"><mutation name=\"send_heart_beat\" functionid=\"jM3@.^PkbMY7MpkuBhRs\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\":lhSOf*:$gz4bv!a)|%@"],[1,"a]TOzJod0p06k_UXh?#\">radio_group</variable><variable id=\"0cH0N+^@Dk%gTV_Bhn~O\">RADIO_GROUP_MAX</variable><variable id=\"6CPRw*F?K:ryXd+bg9or\">RADIO_GROUP_MIN</variable><variable id=\"$Rezo7:?6$iAc$?N$J2y\">controller_name</variable><variable id=\"~C~GZM,M626a!=cEww{w\">CONTROLLER_UNDEFINED</variable><variable id=\"/2.IBJj,Qi_A0?JIh{!t\">message_destination</variable><variable id=\"QToGIorTi8c0b7yiLUWs\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"$|x,BV7L#hU*}I}}PGA{\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"N`+Cgu3svs[h;R=PI|fy\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"7VE;Lgml*pPv#!7a#/cK\">bot_distance</variable><variable id=\".8AcFAt|x;S.O%!9M;1A\">bot_collected</variable><variable id=\"tS7B9GO5v-o:OMHg}A2;\">bot_status</variable></variables><block type=\"control_in_background\" x=\"561\" y=\"-50\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"oo3C{#s0C`]#*;q`8ZOv\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"830\" y=\"-50\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"variables_change\"><field name=\"VAR\" id=\"Ba]TOzJod0p06k_UXh?#\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ba]TOzJod0p06k_UXh?#\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0cH0N+^@Dk%gTV_Bhn~O\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Ba]TOzJod0p06k_UXh?#\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6CPRw*F?K:ryXd+bg9or\">RADIO_GROUP_MIN</field></block></value></block></statement></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"7VE;Lgml*pPv#!7a#/cK\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".8AcFAt|x;S.O%!9M;1A\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"0cH0N+^@Dk%gTV_Bhn~O\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Ba]TOzJod0p06k_UXh?#\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6CPRw*F?K:ryXd+bg9or\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ba]TOzJod0p06k_UXh?#\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QToGIorTi8c0b7yiLUWs\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$|x,BV7L#hU*}I}}PGA{\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"N`+Cgu3svs[h;R=PI|fy\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/2.IBJj,Qi_A0?JIh{!t\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QToGIorTi8c0b7yiLUWs\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~C~GZM,M626a!=cEww{w\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$Rezo7:?6$iAc$?N$J2y\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~C~GZM,M626a!=cEww{w\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"tS7B9GO5v-o:OMHg}A2;\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1391\" y=\"-50\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"variables_change\"><field name=\"VAR\" id=\"Ba]TOzJod0p06k_UXh?#\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ba]TOzJod0p06k_UXh?#\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6CPRw*F?K:ryXd+bg9or\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Ba]TOzJod0p06k_UXh?#\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0cH0N+^@Dk%gTV_Bhn~O\">RADIO_GROUP_MAX</field></block></value></block></statement></block></next></block></statement></block><block type=\"device_forever\" x=\"1952\" y=\"-50\"></block><block type=\"function_definition\" x=\"2157\" y=\"-50\"><mutation name=\"send_log\" functionid=\"lS^V@4JQ}On8I8B+jItV\"><arg name=\"level\" id=\"ucja5e0f1u5ma5st7u9um\" type=\"string\"></arg><arg name=\"message\" id=\"1qecea76ygg5m4yvcfdpvk\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"ucja5e0f1u5ma5st7u9um\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"1qecea76ygg5m4yvcfdpvk\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"cc{yECb+1GL}/R-Ga}FR\"><arg name=\"message\" id=\"eqlg5c8t9d6f94uj4ixnvg\" type=\"string\"></arg></mutation><value name=\"eqlg5c8t9d6f94uj4ixnvg\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"10\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"log\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"-37\" y=\"651\"><mutation name=\"do_start\" functionid=\";S!*M7kah{^W(Ra9Z601\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"233\" y=\"651\"><mutation name=\"do_stop\" functionid=\"kSGkBt1`%EOqL|;wI(Mv\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><data>0</data><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"495\" y=\"651\"><mutation name=\"do_safety\" functionid=\"uF|`V83RMvFW4JZ$TA?9\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"773\" y=\"651\"><mutation name=\"emit_message\" functionid=\"cc{yECb+1GL}/R-Ga}FR\"><arg name=\"message\" id=\"eqlg5c8t9d6f94uj4ixnvg\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-40\",\"~commentOffsetY\":\"-128\"}}</data><value name=\"eqlg5c8t9d6f94uj4ixnvg\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/2.IBJj,Qi_A0?JIh{!t\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QToGIorTi8c0b7yiLUWs\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/2.IBJj,Qi_A0?JIh{!t\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$|x,BV7L#hU*}I}}PGA{\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/2.IBJj,Qi_A0?JIh{!t\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"N`+Cgu3svs[h;R=PI|fy\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1542\" y=\"651\"><mutation name=\"send_status\" functionid=\"]Jy(!D={{QBS1vpmC)0l\"><arg name=\"status\" id=\"0s67zrw439b01iduqibl\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"0s67zrw439b01iduqibl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"cc{yECb+1GL}/R-Ga}FR\"><arg name=\"message\" id=\"eqlg5c8t9d6f94uj4ixnvg\" type=\"string\"></arg></mutation><value name=\"eqlg5c8t9d6f94uj4ixnvg\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"status\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2029\" y=\"651\"><mutation name=\"register_controller\" functionid=\"KmDnlvY-Yh[5[I+kat/q\"><arg name=\"name\" id=\"t8uj9glt2271h54pt98c\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"t8uj9glt2271h54pt98c\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$Rezo7:?6$iAc$?N$J2y\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~C~GZM,M626a!=cEww{w\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"$Rezo7:?6$iAc$?N$J2y\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"245\" y=\"881\"><mutation name=\"get_emitter_string\" functionid=\"~XuXLOJ[uiMU}Gg|v_G+\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-190\",\"~commentOffsetY\":\"-20\"}}</data><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"-307\" y=\"1224\"><mutation name=\"send_heart_beat\" functionid=\"oo3C{#s0C`]#*;q`8ZOv\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"cc{yECb+1GL}/R-Ga}FR\"><arg name=\"message\" id=\"eqlg5c8t9d6f94uj4ixnvg\" type=\"string\"></arg></mutation><value name=\"eqlg5c8t9d6f94uj4ixnvg\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"~XuXLOJ[uiMU}Gg|v_G+"],[0,"\"></"]],"start1":77,"start2":77,"length1":19140,"length2":20058}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"t_ms\\\":\" + (\"\" +"],[-1," (\"\" +"],[0," control.millis("]],"start1":290,"start2":290,"length1":38,"length2":32},{"diffs":[[0,"ol.millis())"],[-1,")"],[0," + \"}\"\n}\n\nfu"]],"start1":312,"start2":312,"length1":25,"length2":24},{"diffs":[[0,"ar tbeat"],[1," "],[0,"\nfunctio"]],"start1":676,"start2":676,"length1":16,"length2":17},{"diffs":[[0,"    "],[-1,"inc_radio_group(+1"],[1,"\n    radio_group += 1\n    if (radio_group > RADIO_GROUP_MAX) {\n        radio_group = RADIO_GROUP_MIN\n    }\n    \n    send_log(\"INFO\", \"radio_group=\" + (\"\" + radio_group)"],[0,")\n})"]],"start1":892,"start2":892,"length1":26,"length2":176},{"diffs":[[0,") {\n    "],[-1,"inc_"],[1,"\n    "],[0,"radio_gr"]],"start1":1619,"start2":1619,"length1":20,"length2":21},{"diffs":[[0,"roup"],[-1,"(-1)"],[1," += -1\n    if (radio_group < RADIO_GROUP_MIN) {\n        radio_group = RADIO_GROUP_MAX\n    }\n    "],[0,"\n})\n"]],"start1":1639,"start2":1639,"length1":12,"length2":104},{"diffs":[[0," \"\"\n"],[-1,"let bot_collected = 0\nlet bot_distance = 0\n"],[0,"let "]],"start1":2637,"start2":2637,"length1":51,"length2":8},{"diffs":[[0,"_GROUP_M"],[-1,"AX"],[1,"IN"],[0," = 0\nlet"]],"start1":2650,"start2":2650,"length1":18,"length2":18},{"diffs":[[0,"UP_M"],[-1,"IN"],[1,"AX"],[0," = 0\n"],[-1,"function inc_radio_group(increment: any) {\n    \n    radio_group += increment\n    if (radio_group > RADIO_GROUP_MAX) {\n        radio_group = RADIO_GROUP_MIN\n    } else if (radio_group < RADIO_GROUP_MIN) {\n        radio_group = RADIO_GROUP_MAX\n    }\n    \n    send_log(\"INFO\", \"radio_group=\" + (\"\" + (\"\" + radio_group)))\n}\n"],[1,"let bot_distance = 0\nlet bot_collected = 0"],[0,"\nRAD"]],"start1":2698,"start2":2698,"length1":335,"length2":57}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"\", \\\"at_ms\\\":\" +"],[-1," (\"\" +"],[0," str(control.mil"]],"start1":265,"start2":265,"length1":38,"length2":32},{"diffs":[[0,"ol.millis())"],[-1,")"],[0," + \"}\"\ndef s"]],"start1":291,"start2":291,"length1":25,"length2":24},{"diffs":[[0,"ar tbeat"],[1," "],[0,"\ndef sen"]],"start1":625,"start2":625,"length1":16,"length2":17},{"diffs":[[0,"string() + \"}\")\n"],[1,"\n"],[0,"# Button A incre"]],"start1":704,"start2":704,"length1":32,"length2":33},{"diffs":[[0,"io group (0-16)\n"],[-1,"\n"],[0,"def on_button_pr"]],"start1":750,"start2":750,"length1":33,"length2":32},{"diffs":[[0,"    "],[-1,"inc_radio_group(+1"],[1,"global radio_group\n    radio_group += 1\n    if radio_group > RADIO_GROUP_MAX:\n        radio_group = RADIO_GROUP_MIN\n    send_log(\"INFO\", \"radio_group=\"+str(radio_group)"],[0,")\nin"]],"start1":793,"start2":793,"length1":26,"length2":176},{"diffs":[[0,"    "],[-1,"inc_radio_group(-1)"],[1,"global radio_group\n    radio_group += -1\n    if radio_group < RADIO_GROUP_MIN:\n        radio_group = RADIO_GROUP_MAX"],[0,"\ninp"]],"start1":1510,"start2":1510,"length1":27,"length2":124},{"diffs":[[0,"on\")"],[-1,"\n\n        "],[0,"\ncon"]],"start1":2343,"start2":2343,"length1":18,"length2":8},{"diffs":[[0," \"\"\n"],[-1,"bot_collected = 0\nbot_distance = 0\n"],[0,"RADI"]],"start1":2509,"start2":2509,"length1":43,"length2":8},{"diffs":[[0,"_GROUP_M"],[-1,"AX"],[1,"IN"],[0," = 0\nrad"]],"start1":2518,"start2":2518,"length1":18,"length2":18},{"diffs":[[0,"UP_M"],[-1,"IN"],[1,"AX"],[0," = 0\n"],[-1,"def inc_radio_group(increment: any):\n    global radio_group\n    radio_group += increment\n    if radio_group > RADIO_GROUP_MAX:\n        radio_group = RADIO_GROUP_MIN\n    elif radio_group < RADIO_GROUP_MIN:\n        radio_group = RADIO_GROUP_MAX\n    send_log(\"INFO\", \"radio_group=\" + (\"\" + str(radio_group)))"],[1,"bot_distance = 0\nbot_collected = 0"],[0,"\nRAD"]],"start1":2558,"start2":2558,"length1":320,"length2":49}]}]},{"timestamp":1746712449469,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"tion\")\n\n"],[1,"        "],[0,"\ncontrol"]],"start1":2100,"start2":2100,"length1":16,"length2":24},{"diffs":[[0,"MIN = 0\n"],[-1,"\n\n"],[0,"def inc_"]],"start1":2365,"start2":2365,"length1":18,"length2":16}]}]},{"timestamp":1746714847989,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"roup)))\n"],[-1,"\n"],[0,"RADIO_GR"]],"start1":2665,"start2":2665,"length1":17,"length2":16}]}]},{"timestamp":1746714851072,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"/mY`z}o*D!//Ey23O)Y*\">controller_name</variable><variable id=\";~Q~F~3G|qk,}FJ6cj(=\">CONTROLLER_UNDEFINED</variable><variable id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</variable><variable id=\"OgN!Hn{T/8V+~FA~h]hY\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"(mMHAVLGg8NSdb$-IMMa\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"Lvg2*,nsg-2UI72SZ`iQ\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"4jk9W}a}_s^^@$_@k:QK\">bot_distance</variable><variable id=\"I1VS.fqKpRGc5rkMSU(,\">bot_collected</variable><variable id=\"f@j(T/e;SK##SayMW.dv\">RADIO_GROUP_MAX</variable><variable id=\"BzJAfN3H.w*i46A1eCya\">radio_group</variable><variable id=\"i[XRII4oupduUKN_kMKC\">RADIO_GROUP_MIN</variable><variable id=\"tQ,KPRipy(`[{ENdqLy2\">bot_status</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MIN = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MIN\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let radio_group = 0\" numlines=\"1\" declaredvars=\"radio_group\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MAX = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MAX\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4jk9W}a}_s^^@$_@k:QK\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"I1VS.fqKpRGc5rkMSU(,\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function inc_radio_group(increment: number = 1) {\" line1=\"    \" line2=\"    radio_group += increment\" line3=\"    if (radio_group &gt; RADIO_GROUP_MAX) {\" line4=\"        radio_group = RADIO_GROUP_MIN\" line5=\"    } else if (radio_group &lt; RADIO_GROUP_MIN) {\" line6=\"        radio_group = RADIO_GROUP_MAX\" line7=\"    }\" line8=\"    \" line9=\"    send_log(&quot;INFO&quot;, &quot;radio_group=&quot; + (&quot;&quot; + (&quot;&quot; + (&quot;&quot; + (&quot;&quot; + radio_group)))))\" line10=\"}\" numlines=\"11\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"f@j(T/e;SK##SayMW.dv\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"BzJAfN3H.w*i46A1eCya\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i[XRII4oupduUKN_kMKC\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"BzJAfN3H.w*i46A1eCya\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"OgN!Hn{T/8V+~FA~h]hY\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(mMHAVLGg8NSdb$-IMMa\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Lvg2*,nsg-2UI72SZ`iQ\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OgN!Hn{T/8V+~FA~h]hY\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";~Q~F~3G|qk,}FJ6cj(=\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/mY`z}o*D!//Ey23O)Y*\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";~Q~F~3G|qk,}FJ6cj(=\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"tQ,KPRipy(`[{ENdqLy2\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"!)LqVR:0rRb@Szyu?uO|\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(+1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_button_event\" x=\"1161\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(-1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_forever\" x=\"1435\" y=\"20\"></block><block type=\"function_definition\" x=\"1640\" y=\"20\"><mutation name=\"tournament_stop\" functionid=\"wx[stIiYk:*3=ju]8j5r\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1966\" y=\"20\"><mutation name=\"tournament_start\" functionid=\"~X5lBWa?sT9.3XsU_)HO\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"913\"><mutation name=\"send_heart_beat\" functionid=\"!)LqVR:0rRb@Szyu?uO|\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"Dm1;8FTt2EKQ[vh^A$=1\"><arg name=\"msg\" id=\"mubzleiafz1eylfbqnll\" type=\"string\"></arg></mutation><value name=\"mubzleiafz1eylfbqnll\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"`H]do[Qqe;j)AyCOf]-E\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"765\" y=\"913\"><mutation name=\"do_safety\" functionid=\"HY~SBO;lv^W0?D=X#gWP\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"1098\" y=\"913\"><mutation name=\"send_log\" functionid=\"*=IM[j3jMx}#65pmaqA;\"><arg name=\"level\" id=\"pown0td5mthaq8kqmkm2\" type=\"string\"></arg><arg name=\"message\" id=\"8tv9wxc0p1hc3j3q98g7\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"pown0td5mthaq8kqmkm2\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"8tv9wxc0p1hc3j3q98g7\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"Dm1;8FTt2EKQ[vh^A$=1\"><arg name=\"msg\" id=\"mubzleiafz1eylfbqnll\" type=\"string\"></arg></mutation><value name=\"mubzleiafz1eylfbqnll\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{log\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"`H]do[Qqe;j)AyCOf]-E\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1431\" y=\"913\"><mutation name=\"emit_message\" functionid=\"Dm1;8FTt2EKQ[vh^A$=1\"><arg name=\"msg\" id=\"mubzleiafz1eylfbqnll\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"mubzleiafz1eylfbqnll\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OgN!Hn{T/8V+~FA~h]hY\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(mMHAVLGg8NSdb$-IMMa\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Lvg2*,nsg-2UI72SZ`iQ\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1764\" y=\"913\"><mutation name=\"send_status\" functionid=\"1y7JEoF7Z@11f3$}B0Kr\"><arg name=\"status\" id=\"tys4ecw3wxxb0u40iuki\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"tys4ecw3wxxb0u40iuki\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"Dm1;8FTt2EKQ[vh^A$=1\"><arg name=\"msg\" id=\"mubzleiafz1eylfbqnll\" type=\"string\"></arg></mutation><value name=\"mubzleiafz1eylfbqnll\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{status\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"`H]do[Qqe;j)AyCOf]-E\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"592\" y=\"1283\"><mutation name=\"get_emitter_string\" functionid=\"`H]do[Qqe;j)AyCOf]-E\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1388\"><mutation name=\"register_controller\" functionid=\"ofD.qSYw]Nn+;1a)pPZ2\"><arg name=\"name\" id=\"iuktwd5kdkwiirulobrc\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"iuktwd5kdkwiirulobrc\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/mY`z}o*D!//Ey23O)Y*\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";~Q~F~3G|qk,}FJ6cj(=\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"/mY`z}o*D!//Ey23O)Y*\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"text_join\" inline=\"false\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"1109\" y=\"1608\"><mutation items=\"11\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\" disabled-reasons=\"MANUALLY_DISABLED\"></block></value><value name=\"ADD2\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\" disabled-reasons=\"MANUALLY_DISABLED\"></block></value><value name=\"ADD4\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">,\"collected\":</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VAR\" id=\"I1VS.fqKpRGc5rkMSU(,\">bot_collected</field></block></value><value name=\"ADD6\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VAR\" id=\"4jk9W}a}_s^^@$_@k:QK\">bot_distance</field></block></value><value name=\"ADD8\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VAR\" id=\"tQ,KPRipy(`[{ENdqLy2\">bot_status</field></block></value><value name=\"ADD10\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">\"}</field></shadow></value"],[1,"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</variable><variable id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</variable><variable id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</variable><variable id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"yb+cKL5?O4Lz6^~Y_t/]\">bot_collected</variable><variable id=\"H(#n|6sfnOuH#X,yGPKY\">bot_distance</variable><variable id=\"nEwitsFGHU,4:Pp:rfrO\">RADIO_GROUP_MAX</variable><variable id=\"o230X:f^8f9z`tSpe4LD\">radio_group</variable><variable id=\"MMpP.uCncJy?9h(L:nM*\">RADIO_GROUP_MIN</variable><variable id=\"lF6XR,~*:/!3EMH-J-em\">bot_status</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yb+cKL5?O4Lz6^~Y_t/]\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"H(#n|6sfnOuH#X,yGPKY\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MAX = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MAX\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let radio_group = 0\" numlines=\"1\" declaredvars=\"radio_group\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MIN = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MIN\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function inc_radio_group(increment: any) {\" line1=\"    \" line2=\"    radio_group += increment\" line3=\"    if (radio_group &gt; RADIO_GROUP_MAX) {\" line4=\"        radio_group = RADIO_GROUP_MIN\" line5=\"    } else if (radio_group &lt; RADIO_GROUP_MIN) {\" line6=\"        radio_group = RADIO_GROUP_MAX\" line7=\"    }\" line8=\"    \" line9=\"    send_log(&quot;INFO&quot;, &quot;radio_group=&quot; + (&quot;&quot; + radio_group))\" line10=\"}\" numlines=\"11\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nEwitsFGHU,4:Pp:rfrO\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"o230X:f^8f9z`tSpe4LD\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MMpP.uCncJy?9h(L:nM*\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o230X:f^8f9z`tSpe4LD\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"lF6XR,~*:/!3EMH-J-em\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"jM3@.^PkbMY7MpkuBhRs\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(+1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_button_event\" x=\"1161\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(-1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_forever\" x=\"1435\" y=\"20\"></block><block type=\"function_definition\" x=\"1640\" y=\"20\"><mutation name=\"send_log\" functionid=\"H!):!t}u!{^4({#!bl^P\"><arg name=\"level\" id=\"cw0q57odxxe1sagc7p7t\" type=\"string\"></arg><arg name=\"message\" id=\"4jvlmtzz42kv0batocsi\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"cw0q57odxxe1sagc7p7t\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"4jvlmtzz42kv0batocsi\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"10\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"log\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2223\" y=\"20\"><mutation name=\"do_start\" functionid=\"e+0-w:pPXQdPM:+K?!|p\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"2493\" y=\"20\"><mutation name=\"do_stop\" functionid=\"9$WW+lG2WHL5+QE$w`OH\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1313\"><mutation name=\"do_safety\" functionid=\"Jbt7IPD*p(s`H3ko;~qL\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"298\" y=\"1313\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"z4g234m7hmcbr7l3sb8l\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message2</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1067\" y=\"1313\"><mutation name=\"send_status\" functionid=\"Ywosw8fD.+(JT#yqJ}_c\"><arg name=\"status\" id=\"mmd0k3t3tj16trqpiimt\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"mmd0k3t3tj16trqpiimt\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"status\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1650\" y=\"1313\"><mutation name=\"register_controller\" functionid=\"PwAXmEQR%~Rjk}}Rq$rp\"><arg name=\"name\" id=\"z0ifkj4tp4dyndt5o5il2f\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"z0ifkj4tp4dyndt5o5il2f\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"2283\" y=\"1313\"><mutation name=\"get_emitter_string\" functionid=\":lhSOf*:$gz4bv!a)|%@\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1908\"><mutation name=\"send_heart_beat\" functionid=\"jM3@.^PkbMY7MpkuBhRs\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\":lhSOf*:$gz4bv!a)|%@\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement"],[0,"></b"]],"start1":76,"start2":76,"length1":20130,"length2":19289}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"//"],[1,"  Add your code in to handle the STOP request from controller\nfunction do_stop() {\n    //  implement your own code here\n    basic.showIcon(IconNames.No)\n}\n\n// "],[0," interna"]],"start1":0,"start2":0,"length1":10,"length2":169},{"diffs":[[0,"r_string"],[-1," "],[0,"() {\n   "]],"start1":220,"start2":220,"length1":17,"length2":16},{"diffs":[[0,"\"at_ms\\\":\" +"],[1," (\"\" + (\"\" +"],[0," control.mil"]],"start1":288,"start2":288,"length1":24,"length2":36},{"diffs":[[0,"millis()"],[1,"))"],[0," + \"}\"\n}"]],"start1":321,"start2":321,"length1":16,"length2":18},{"diffs":[[0,"+ \"}\"\n}\n"],[1,"\n"],[0,"function"]],"start1":332,"start2":332,"length1":16,"length2":17},{"diffs":[[0,"d_status"],[-1," "],[0,"(status:"]],"start1":353,"start2":353,"length1":17,"length2":16},{"diffs":[[0,"ssage(\"{"],[1,"\\\""],[0,"status\\\""]],"start1":391,"start2":391,"length1":16,"length2":18},{"diffs":[[0,"s\\\":"],[-1,"\" + get_emitter_string() + \"}\")\n}\n// Send hear tbeat\nfunction send_heart_beat () {\n    emit_message(\"{hearbeat\\\":\" + get_emitter_string("],[1,"{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"local_ms\\\":\" + (\"\" + (\"\" + control.millis())"],[0,") + \"}"],[1,"}"],[0,"\")\n}\n"],[1,"\n"],[0,"//"],[1," "],[0," Add"]],"start1":406,"start2":406,"length1":157,"length2":112},{"diffs":[[0,"ion "],[-1,"tournament"],[1,"do"],[0,"_start"],[-1," "],[0,"() {"]],"start1":581,"start2":581,"length1":25,"length2":16},{"diffs":[[0,"start() {\n    //"],[1," "],[0," implement your "]],"start1":588,"start2":588,"length1":32,"length2":33},{"diffs":[[0,"ames.Yes)\n}\n"],[1,"\n"],[0,"//"],[1,"  Send hear tbeat\nfunction send_heart_beat() {\n    emit_message(\"{hearbeat\\\":\" + get_emitter_string() + \"}\")\n}\n\n// "],[0," Button A in"]],"start1":659,"start2":659,"length1":26,"length2":142},{"diffs":[[0,"ton.A, function "],[1,"on_button_pressed_a"],[0,"() {\n    inc_rad"]],"start1":858,"start2":858,"length1":32,"length2":51},{"diffs":[[0,"1)\n})\n//"],[1," "],[0," Add you"]],"start1":919,"start2":919,"length1":16,"length2":17},{"diffs":[[0,"o_safety"],[-1," "],[0,"() {\n   "]],"start1":1002,"start2":1002,"length1":17,"length2":16},{"diffs":[[0,")\n}\n"],[-1,"function get_bot_infos () {\n\t\n}"],[0,"\n//"],[1," "],[0," For"]],"start1":1049,"start2":1049,"length1":42,"length2":12},{"diffs":[[0,"send_log"],[-1," "],[0,"(level: "]],"start1":1130,"start2":1130,"length1":17,"length2":16},{"diffs":[[0,"e(\"{"],[1,"\\\""],[0,"log\\\":"],[-1,"\" + get_emitter_string("],[1,"{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"local_ms\\\":\" + (\"\" + (\"\" + control.millis())"],[0,") + "]],"start1":1188,"start2":1188,"length1":37,"length2":104},{"diffs":[[0,"\\\"}\""],[1," + \"}\""],[0,")\n}\n"],[1,"\n"],[0,"//"],[1," "],[0," But"]],"start1":1352,"start2":1352,"length1":14,"length2":22},{"diffs":[[0,"ton.B, function "],[1,"on_button_pressed_b"],[0,"() {\n    inc_rad"]],"start1":1439,"start2":1439,"length1":32,"length2":51},{"diffs":[[0,"1)\n})\n//"],[1," "],[0," Registe"]],"start1":1500,"start2":1500,"length1":16,"length2":17},{"diffs":[[0,"ntroller"],[-1," "],[0,"(name: s"]],"start1":1582,"start2":1582,"length1":17,"length2":16},{"diffs":[[0,"name: string) {\n"],[1,"    \n"],[0,"    if (controll"]],"start1":1591,"start2":1591,"length1":32,"length2":37},{"diffs":[[0,"    "],[-1,"\t"],[1,"    "],[0,"\n    }\n"],[1,"    \n"],[0,"}\n"],[1,"\n"],[0,"//"],[1," "],[0," Emi"]],"start1":1707,"start2":1707,"length1":20,"length2":30},{"diffs":[[0,"sage"],[-1," "],[0,"(m"],[-1,"sg"],[1,"essage2"],[0,": st"]],"start1":1797,"start2":1797,"length1":13,"length2":17},{"diffs":[[0,"dio.sendString(m"],[-1,"sg"],[1,"essage2"],[0,")\n    } else if "]],"start1":1892,"start2":1892,"length1":34,"length2":39},{"diffs":[[0,"sic.showString(m"],[-1,"sg"],[1,"essage2"],[0,")\n    } else if "]],"start1":1993,"start2":1993,"length1":34,"length2":39},{"diffs":[[0,"ng(m"],[-1,"sg"],[1,"essage2"],[0,")\n  "]],"start1":2110,"start2":2110,"length1":10,"length2":15},{"diffs":[[0,"  }\n"],[-1,"}\n// Add your code in to handle the STOP request from controller\nfunction tournament_stop () {\n    // implement your own code here\n    basic.showIcon(IconNames.No)\n}"],[1,"    \n}\n"],[0,"\nlet"]],"start1":2203,"start2":2203,"length1":173,"length2":15},{"diffs":[[0,"let "],[-1,"RADIO_GROUP_MIN = 0\nlet radio_group = 0\nlet RADIO_GROUP_MAX = 0\nlet bot_distance = 0\nlet bot_collected"],[1,"bot_collected = 0\nlet bot_distance = 0\nlet RADIO_GROUP_MAX = 0\nlet radio_group = 0\nlet RADIO_GROUP_MIN"],[0," = 0"]],"start1":2404,"start2":2404,"length1":110,"length2":110},{"diffs":[[0,"nt: "],[-1,"number = 1"],[1,"any"],[0,") {\n"]],"start1":2547,"start2":2547,"length1":18,"length2":11},{"diffs":[[0," + (\"\" +"],[-1," (\"\" + (\"\" +"],[0," radio_g"]],"start1":2809,"start2":2809,"length1":28,"length2":16},{"diffs":[[0,"p)))"],[-1,"))"],[0,"\n}\n"],[1,"\n"],[0,"RADI"]],"start1":2828,"start2":2828,"length1":13,"length2":12},{"diffs":[[0,"P_MIN\n//"],[1," "],[0," The rad"]],"start1":2881,"start2":2881,"length1":16,"length2":17},{"diffs":[[0,"rial\"\n//"],[1," "],[0," Do not "]],"start1":3069,"start2":3069,"length1":16,"length2":17},{"diffs":[[0,"ined\"\n//"],[1," "],[0," Name of"]],"start1":3203,"start2":3203,"length1":16,"length2":17},{"diffs":[[0,"ion "],[1,"on_forever"],[0,"() {\n"],[-1,"\t"],[1,"    "],[0,"\n})\n//"],[1," "],[0," Hea"]],"start1":3364,"start2":3364,"length1":20,"length2":34},{"diffs":[[0,"unction "],[1,"on_in_background"],[0,"() {\n   "]],"start1":3433,"start2":3433,"length1":16,"length2":32}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"blocks"],[1,"py"],[0,"prj\"\n}\n"]],"start1":275,"start2":275,"length1":21,"length2":17}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"ation\")\n"],[1,"\n\n"],[0,"controll"]],"start1":2099,"start2":2099,"length1":16,"length2":18},{"diffs":[[0,"MIN = 0\n"],[1,"\n\n"],[0,"def inc_"]],"start1":2357,"start2":2357,"length1":16,"length2":18},{"diffs":[[0,"nt: "],[-1,"int=1"],[1,"any"],[0,"):\n "]],"start1":2394,"start2":2394,"length1":13,"length2":11},{"diffs":[[0,"(\"INFO\","],[-1,"\n       "],[0," \"radio_"]],"start1":2622,"start2":2622,"length1":24,"length2":16},{"diffs":[[0," + (\"\" +"],[-1," (\"\" + (\"\" +"],[0," str(rad"]],"start1":2645,"start2":2645,"length1":28,"length2":16},{"diffs":[[0,"group)))"],[-1,"))"],[1,"\n"],[0,"\nRADIO_G"]],"start1":2664,"start2":2664,"length1":18,"length2":17}]}]},{"timestamp":1746715450163,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,")e14s2*H4H5Koz|Xnl(I\">bot_collected</variable><variable id=\"{4R8sNdtF}KjgyEbrWi,\">bot_distance</variable><variable id=\"%2teNjVuz(C]0mXW]nA-\">bot_status</variable><variable id=\"P~zE@[8yab6,mm-Gq~|B\">controller_name</variable><variable id=\"U7$E+{$-%Cuw}~uhpan_\">CONTROLLER_UNDEFINED</variable><variable id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</variable><variable id=\"^84ns4afaOJXIKzKKSnw\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"S,Y:|jI5?YVZd.52^Ci3\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"0IM2Fk%u`!H1/--W}x`r\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</variable><variable id=\"+,j+aA}{yH#unstvm,VZ\">RADIO_GROUP_MAX</variable><variable id=\"X{NUSU.#M8}QD^xi9/.q\">RADIO_GROUP_MIN</variable></variables><block type=\"device_button_event\" x=\"1066\" y=\"-238\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"EKs4^R#k#~Nga_1jA]^n\"><arg name=\"increment\" id=\"av1pmrofnmcg0qrcwwpe\" type=\"number\"></arg></mutation><value name=\"av1pmrofnmcg0qrcwwpe\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"function_definition\" x=\"1869\" y=\"-223\"><mutation name=\"tournament_start\" functionid=\"Oy]](.E9Sm^%ZGL]|Fbj\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><value name=\"3tar2vnrdbvlr7x49qvd\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6kndgs1pbu9swybwhpo54\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: start </field></shadow></value></block></next></block></statement></block><block type=\"control_in_background\" x=\"521\" y=\"-82\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"XCYP1_aZ(9kEjZ/?i-.{\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"1064\" y=\"-82\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"EKs4^R#k#~Nga_1jA]^n\"><arg name=\"increment\" id=\"av1pmrofnmcg0qrcwwpe\" type=\"number\"></arg></mutation><value name=\"av1pmrofnmcg0qrcwwpe\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"1338\" y=\"-82\"></block><block type=\"function_definition\" x=\"1543\" y=\"-82\"><mutation name=\"tournament_stop\" functionid=\"H*e=qp)HV[o)TV6k%(BN\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><value name=\"3tar2vnrdbvlr7x49qvd\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6kndgs1pbu9swybwhpo54\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: start </field></shadow></value></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"53\" y=\"7\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"{4R8sNdtF}KjgyEbrWi,\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")e14s2*H4H5Koz|Xnl(I\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"+,j+aA}{yH#unstvm,VZ\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X{NUSU.#M8}QD^xi9/.q\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^84ns4afaOJXIKzKKSnw\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S,Y:|jI5?YVZd.52^Ci3\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"0IM2Fk%u`!H1/--W}x`r\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^84ns4afaOJXIKzKKSnw\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U7$E+{$-%Cuw}~uhpan_\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"P~zE@[8yab6,mm-Gq~|B\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"U7$E+{$-%Cuw}~uhpan_\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%2teNjVuz(C]0mXW]nA-\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1108\" y=\"122\"><mutation name=\"on_received_message\" functionid=\"Fya.,93}Aer~pPS6d1;g\"><arg name=\"messsage\" id=\"4?]ai_LVAM6fttF3Q|_3\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"4?]ai_LVAM6fttF3Q|_3\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value></block><block type=\"function_definition\" x=\"352\" y=\"207\"><mutation name=\"increment_radio_group\" functionid=\"EKs4^R#k#~Nga_1jA]^n\"><arg name=\"increment\" id=\"av1pmrofnmcg0qrcwwpe\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"av1pmrofnmcg0qrcwwpe\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"+,j+aA}{yH#unstvm,VZ\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X{NUSU.#M8}QD^xi9/.q\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X{NUSU.#M8}QD^xi9/.q\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"+,j+aA}{yH#unstvm,VZ\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><value name=\"3tar2vnrdbvlr7x49qvd\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6kndgs1pbu9swybwhpo54\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"serial_on_data_received\" x=\"1746\" y=\"214\"><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"Fya.,93}Aer~pPS6d1;g\"><arg name=\"messsage\" id=\"4?]ai_LVAM6fttF3Q|_3\" type=\"string\"></arg></mutation><value name=\"4?]ai_LVAM6fttF3Q|_3\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></block></statement></block><block type=\"radio_on_number_drag\" x=\"1746\" y=\"328\"><value name=\"HANDLER_DRAG_PARAM_receivedNumber\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedNumber</field></block></value></block><block type=\"function_definition\" x=\"-77\" y=\"811\"><mutation name=\"send_heart_beat\" functionid=\"XCYP1_aZ(9kEjZ/?i-.{\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"__gzwZFSY(AP^[pd*v(J\"><arg name=\"msg\" id=\"ju2k8s67ylqs0yvnqdat\" type=\"string\"></arg></mutation><value name=\"ju2k8s67ylqs0yvnqdat\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"]lA7rx/*7Jm%(VJ!4S{k\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"668\" y=\"811\"><mutation name=\"do_safety\" functionid=\"Vy#Q[ORQyVB4:(b$FDed\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><value name=\"3tar2vnrdbvlr7x49qvd\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6kndgs1pbu9swybwhpo54\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: safety </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"1001\" y=\"811\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"3tar2vnrdbvlr7x49qvd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"6kndgs1pbu9swybwhpo54\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"__gzwZFSY(AP^[pd*v(J\"><arg name=\"msg\" id=\"ju2k8s67ylqs0yvnqdat\" type=\"string\"></arg></mutation><value name=\"ju2k8s67ylqs0yvnqdat\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{log\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"]lA7rx/*7Jm%(VJ!4S{k\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1334\" y=\"811\"><mutation name=\"emit_message\" functionid=\"__gzwZFSY(AP^[pd*v(J\"><arg name=\"msg\" id=\"ju2k8s67ylqs0yvnqdat\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"ju2k8s67ylqs0yvnqdat\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^84ns4afaOJXIKzKKSnw\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S,Y:|jI5?YVZd.52^Ci3\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0IM2Fk%u`!H1/--W}x`r\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1667\" y=\"811\"><mutation name=\"send_status\" functionid=\"L?iN=#rpCu8R.J8XVY%v\"><arg name=\"status\" id=\"lnzlg9f4iosd3tqdti3tf\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"lnzlg9f4iosd3tqdti3tf\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"__gzwZFSY(AP^[pd*v(J\"><arg name=\"msg\" id=\"ju2k8s67ylqs0yvnqdat\" type=\"string\"></arg></mutation><value name=\"ju2k8s67ylqs0yvnqdat\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{status\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"]lA7rx/*7Jm%(VJ!4S{k\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"627\" y=\"968\"><mutation name=\"get_bot_infos\" functionid=\"JBUHBFf$]Em|R(c|G*@m\"></mutation><field name=\"function_name\">get_bot_infos</field><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")e14s2*H4H5Koz|Xnl(I\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{4R8sNdtF}KjgyEbrWi,\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%2teNjVuz(C]0mXW]nA-\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"583\" y=\"1186\"><mutation name=\"get_emitter_string\" functionid=\"]lA7rx/*7Jm%(VJ!4S{k\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"-77\" y=\"1286\"><mutation name=\"register_controller\" functionid=\"jT/=S])UGz4A,.1s2]Hf\"><arg name=\"name\" id=\"g6tzwhmj6ss02hfk4xje\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"g6tzwhmj6ss02hfk4xje\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"P~zE@[8yab6,mm-Gq~|B\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"U7$E+{$-%Cuw}~uhpan_\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"P~zE@[8yab6,mm-Gq~|B\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement"],[1,"/mY`z}o*D!//Ey23O)Y*\">controller_name</variable><variable id=\";~Q~F~3G|qk,}FJ6cj(=\">CONTROLLER_UNDEFINED</variable><variable id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</variable><variable id=\"OgN!Hn{T/8V+~FA~h]hY\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"(mMHAVLGg8NSdb$-IMMa\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"Lvg2*,nsg-2UI72SZ`iQ\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"4jk9W}a}_s^^@$_@k:QK\">bot_distance</variable><variable id=\"I1VS.fqKpRGc5rkMSU(,\">bot_collected</variable><variable id=\"f@j(T/e;SK##SayMW.dv\">RADIO_GROUP_MAX</variable><variable id=\"BzJAfN3H.w*i46A1eCya\">radio_group</variable><variable id=\"i[XRII4oupduUKN_kMKC\">RADIO_GROUP_MIN</variable><variable id=\"tQ,KPRipy(`[{ENdqLy2\">bot_status</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MIN = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MIN\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let radio_group = 0\" numlines=\"1\" declaredvars=\"radio_group\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MAX = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MAX\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4jk9W}a}_s^^@$_@k:QK\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"I1VS.fqKpRGc5rkMSU(,\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function inc_radio_group(increment: number = 1) {\" line1=\"    \" line2=\"    radio_group += increment\" line3=\"    if (radio_group &gt; RADIO_GROUP_MAX) {\" line4=\"        radio_group = RADIO_GROUP_MIN\" line5=\"    } else if (radio_group &lt; RADIO_GROUP_MIN) {\" line6=\"        radio_group = RADIO_GROUP_MAX\" line7=\"    }\" line8=\"    \" line9=\"    send_log(&quot;INFO&quot;, &quot;radio_group=&quot; + (&quot;&quot; + (&quot;&quot; + (&quot;&quot; + (&quot;&quot; + radio_group)))))\" line10=\"}\" numlines=\"11\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"f@j(T/e;SK##SayMW.dv\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"BzJAfN3H.w*i46A1eCya\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i[XRII4oupduUKN_kMKC\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"BzJAfN3H.w*i46A1eCya\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"OgN!Hn{T/8V+~FA~h]hY\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(mMHAVLGg8NSdb$-IMMa\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Lvg2*,nsg-2UI72SZ`iQ\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OgN!Hn{T/8V+~FA~h]hY\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";~Q~F~3G|qk,}FJ6cj(=\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/mY`z}o*D!//Ey23O)Y*\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";~Q~F~3G|qk,}FJ6cj(=\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"tQ,KPRipy(`[{ENdqLy2\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"!)LqVR:0rRb@Szyu?uO|\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(+1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_button_event\" x=\"1161\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(-1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_forever\" x=\"1435\" y=\"20\"></block><block type=\"function_definition\" x=\"1640\" y=\"20\"><mutation name=\"tournament_stop\" functionid=\"wx[stIiYk:*3=ju]8j5r\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1966\" y=\"20\"><mutation name=\"tournament_start\" functionid=\"~X5lBWa?sT9.3XsU_)HO\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"913\"><mutation name=\"send_heart_beat\" functionid=\"!)LqVR:0rRb@Szyu?uO|\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"Dm1;8FTt2EKQ[vh^A$=1\"><arg name=\"msg\" id=\"mubzleiafz1eylfbqnll\" type=\"string\"></arg></mutation><value name=\"mubzleiafz1eylfbqnll\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"`H]do[Qqe;j)AyCOf]-E\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"765\" y=\"913\"><mutation name=\"do_safety\" functionid=\"HY~SBO;lv^W0?D=X#gWP\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"1098\" y=\"913\"><mutation name=\"send_log\" functionid=\"*=IM[j3jMx}#65pmaqA;\"><arg name=\"level\" id=\"pown0td5mthaq8kqmkm2\" type=\"string\"></arg><arg name=\"message\" id=\"8tv9wxc0p1hc3j3q98g7\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"pown0td5mthaq8kqmkm2\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"8tv9wxc0p1hc3j3q98g7\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"Dm1;8FTt2EKQ[vh^A$=1\"><arg name=\"msg\" id=\"mubzleiafz1eylfbqnll\" type=\"string\"></arg></mutation><value name=\"mubzleiafz1eylfbqnll\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{log\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"`H]do[Qqe;j)AyCOf]-E\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1431\" y=\"913\"><mutation name=\"emit_message\" functionid=\"Dm1;8FTt2EKQ[vh^A$=1\"><arg name=\"msg\" id=\"mubzleiafz1eylfbqnll\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"mubzleiafz1eylfbqnll\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"OgN!Hn{T/8V+~FA~h]hY\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(mMHAVLGg8NSdb$-IMMa\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ugA+5=26UIjBV)-}gFKa\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Lvg2*,nsg-2UI72SZ`iQ\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1764\" y=\"913\"><mutation name=\"send_status\" functionid=\"1y7JEoF7Z@11f3$}B0Kr\"><arg name=\"status\" id=\"tys4ecw3wxxb0u40iuki\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"tys4ecw3wxxb0u40iuki\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"Dm1;8FTt2EKQ[vh^A$=1\"><arg name=\"msg\" id=\"mubzleiafz1eylfbqnll\" type=\"string\"></arg></mutation><value name=\"mubzleiafz1eylfbqnll\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{status\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"`H]do[Qqe;j)AyCOf]-E\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"592\" y=\"1283\"><mutation name=\"get_emitter_string\" functionid=\"`H]do[Qqe;j)AyCOf]-E\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1388\"><mutation name=\"register_controller\" functionid=\"ofD.qSYw]Nn+;1a)pPZ2\"><arg name=\"name\" id=\"iuktwd5kdkwiirulobrc\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"iuktwd5kdkwiirulobrc\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/mY`z}o*D!//Ey23O)Y*\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";~Q~F~3G|qk,}FJ6cj(=\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"/mY`z}o*D!//Ey23O)Y*\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"text_join\" inline=\"false\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"1109\" y=\"1608\"><mutation items=\"11\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\" disabled-reasons=\"MANUALLY_DISABLED\"></block></value><value name=\"ADD2\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\" disabled-reasons=\"MANUALLY_DISABLED\"></block></value><value name=\"ADD4\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">,\"collected\":</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VAR\" id=\"I1VS.fqKpRGc5rkMSU(,\">bot_collected</field></block></value><value name=\"ADD6\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VAR\" id=\"4jk9W}a}_s^^@$_@k:QK\">bot_distance</field></block></value><value name=\"ADD8\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VAR\" id=\"tQ,KPRipy(`[{ENdqLy2\">bot_status</field></block></value><value name=\"ADD10\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">\"}</field></shadow></value"],[0,"></b"]],"start1":76,"start2":76,"length1":25779,"length2":20130}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ms\\\":\" +"],[-1," (\"\" +"],[0," control"]],"start1":134,"start2":134,"length1":22,"length2":16},{"diffs":[[0,"millis()"],[-1,")"],[0," + \"}\"\n}"]],"start1":151,"start2":151,"length1":17,"length2":16},{"diffs":[[0,")\n}\n"],[-1,"radio.onReceivedNumber(function (receivedNumber) {\n\t\n})\n"],[0,"// S"]],"start1":266,"start2":266,"length1":64,"length2":8},{"diffs":[[0,"es)\n"],[-1,"    send_log(\"INFO\", \"ackmowledge: start \")\n"],[0,"}\n//"]],"start1":544,"start2":544,"length1":52,"length2":8},{"diffs":[[0,"ion () {\n    inc"],[-1,"rement"],[0,"_radio_group(1)\n"]],"start1":633,"start2":633,"length1":38,"length2":32},{"diffs":[[0,"inc_radio_group("],[1,"+"],[0,"1)\n})\n// Add you"]],"start1":646,"start2":646,"length1":32,"length2":33},{"diffs":[[0,"se)\n"],[-1,"    send_log(\"INFO\", \"ackmowledge: safety \")\n}\nfunction get_bot_infos () {\n    return \"{ \\\"collected\\\":\" + (\"\" + bot_collected) + \", \\\"distance\\\" :\" + (\"\" + bot_distance) + \",\\\"status\\\":\\\"\" + bot_status + \"\\\"}\""],[1,"}\nfunction get_bot_infos () {\n\t"],[0,"\n}\n/"]],"start1":791,"start2":791,"length1":218,"length2":39},{"diffs":[[0,"() {\n    inc"],[-1,"rement"],[0,"_radio_group"]],"start1":1155,"start2":1155,"length1":30,"length2":24},{"diffs":[[0,"o_group("],[1,"-"],[0,"1)\n})\n//"]],"start1":1172,"start2":1172,"length1":16,"length2":17},{"diffs":[[0,"}\n}\n"],[-1,"function on_received_message (messsage: string) {\n\t\n}\nserial.onDataReceived(serial.delimiters(Delimiters.NewLine), function () {\n    on_received_message(\"abc\")\n})\nfunction increment_radio_group (increment: number) {\n    radio_group += increment\n    if (radio_group > RADIO_GROUP_MAX) {\n        radio_group = RADIO_GROUP_MIN\n    } else if (radio_group < RADIO_GROUP_MIN) {\n        radio_group = RADIO_GROUP_MAX\n    }\n    send_log(\"INFO\", \"updated radio_group to\" + (\"\" + radio_group))\n}\n"],[0,"// A"]],"start1":1852,"start2":1852,"length1":494,"length2":8},{"diffs":[[0,"No)\n"],[-1,"    send_log(\"INFO\", \"ackmowledge: start \")\n}\nlet bot_status = \"\""],[1,"}"],[0,"\nlet"]],"start1":2014,"start2":2014,"length1":73,"length2":9},{"diffs":[[0,"OUP_MAX = 0\n"],[1,"let bot_distance = 0\n"],[0,"let bot_coll"]],"start1":2265,"start2":2265,"length1":24,"length2":45},{"diffs":[[0,"= 0\n"],[-1,"let bot_distance = 0\nbot_distance = 0\nbot_collected = 0"],[1,"function inc_radio_group(increment: number = 1) {\n    \n    radio_group += increment\n    if (radio_group > RADIO_GROUP_MAX) {\n        radio_group = RADIO_GROUP_MIN\n    } else if (radio_group < RADIO_GROUP_MIN) {\n        radio_group = RADIO_GROUP_MAX\n    }\n    \n    send_log(\"INFO\", \"radio_group=\" + (\"\" + (\"\" + (\"\" + (\"\" + radio_group)))))\n}"],[0,"\nRAD"]],"start1":2316,"start2":2316,"length1":63,"length2":348},{"diffs":[[0,"DEFINED\n"],[1,"let "],[0,"bot_stat"]],"start1":3130,"start2":3130,"length1":16,"length2":20}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[1,"# Add your code in to handle the STOP request from controller\ndef do_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\n"],[0,"# intern"]],"start1":0,"start2":0,"length1":8,"length2":154},{"diffs":[[0,"ssage(\"{"],[1,"\\\""],[0,"status\\\""]],"start1":358,"start2":358,"length1":16,"length2":18},{"diffs":[[0,"s\\\":"],[-1,"\" + get_emitter_string() + \"}\")\n# Send hear tbeat\ndef send_heart_beat():\n    emit_message(\"{hearbeat\\\":\" + get_emitter_string("],[1,"{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + (\"\" + str(control.millis())"],[0,") + \"}"],[1,"}"],[0,"\")\n#"]],"start1":373,"start2":373,"length1":140,"length2":102},{"diffs":[[0,"ler\ndef "],[-1,"tournament"],[1,"do"],[0,"_start()"]],"start1":533,"start2":533,"length1":26,"length2":18},{"diffs":[[0,"es.YES)\n"],[1,"# Send hear tbeat\ndef send_heart_beat():\n    emit_message(\"{hearbeat\\\":\" + get_emitter_string() + \"}\")\n"],[0,"# Button"]],"start1":615,"start2":615,"length1":16,"length2":119},{"diffs":[[0,"a():\n   "],[1," "],[0,"inc"],[-1,"rement_dar"],[1,"_rad"],[0,"io_group"]],"start1":794,"start2":794,"length1":29,"length2":24},{"diffs":[[0,"o_group("],[1,"+"],[0,"1)\ninput"]],"start1":811,"start2":811,"length1":16,"length2":17},{"diffs":[[0,"SE)\n"],[-1,"def get_bot_infos():\n    return \"{ \\\"collected\\\":\" + (\"\" + str(bot_collected)) + \", \\\"distance\\\" :\" + (\"\" + str(bot_distance)) + \",\\\"status\\\":\\\"\" + bot_status + \"\\\"}\"\n"],[0,"# Fo"]],"start1":994,"start2":994,"length1":175,"length2":8},{"diffs":[[0,"e(\"{"],[1,"\\\""],[0,"log\\\":"],[-1,"\" + get_emitter_string("],[1,"{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + (\"\" + str(control.millis())"],[0,") + "]],"start1":1118,"start2":1118,"length1":37,"length2":103},{"diffs":[[0," + \"\\\"}\""],[1," + \"}\""],[0,")\n# Butt"]],"start1":1277,"start2":1277,"length1":16,"length2":22},{"diffs":[[0,"b():\n    inc"],[-1,"rement_dar"],[1,"_rad"],[0,"io_group(-1)"]],"start1":1361,"start2":1361,"length1":34,"length2":28},{"diffs":[[0,"essage(m"],[-1,"sg"],[1,"essage2"],[0,": str):\n"]],"start1":1723,"start2":1723,"length1":18,"length2":23},{"diffs":[[0,"io.send_string(m"],[-1,"sg"],[1,"essage2"],[0,")\n    elif messa"]],"start1":1814,"start2":1814,"length1":34,"length2":39},{"diffs":[[0,"ic.show_string(m"],[-1,"sg"],[1,"essage2"],[0,")\n    elif messa"]],"start1":1908,"start2":1908,"length1":34,"length2":39},{"diffs":[[0,"ng(m"],[-1,"sg"],[1,"essage2"],[0,")\n  "]],"start1":2018,"start2":2018,"length1":10,"length2":15},{"diffs":[[0,"n\")\n"],[-1,"def increment_dar"],[1,"controller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nmessage_destination = \"\"\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO = \"\"\nbot_collected = 0\nbot_distance = 0\nRADIO_GROUP_MAX = 0\nradio_group = 0\nRADIO_GROUP_MIN = 0\ndef inc_rad"],[0,"io_g"]],"start1":2103,"start2":2103,"length1":25,"length2":275},{"diffs":[[0,"nt: "],[-1,"number"],[1,"int=1"],[0,"):\n "]],"start1":2390,"start2":2390,"length1":14,"length2":13},{"diffs":[[0,"up=\""],[1," "],[0,"+ "],[-1,"str(radio_group))\n# Add your code in to handle the STOP request from controller\ndef tournament_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\nbot_status = \"\"\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nmessage_destination = \"\"\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO = \"\"\nbot_collected = 0\nbot_distance = 0\nRADIO_GROUP_MAX = 0\nradio_group = 0\nRADIO_GROUP_MIN = 0\nbot_distance = 0\nbot_collected = 0\n"],[1,"(\"\" + (\"\" + (\"\" + str(radio_group)))))"],[0,"\nRAD"]],"start1":2647,"start2":2647,"length1":489,"length2":49}]}]},{"timestamp":1746716043795,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"%NJV@fu*vC!n/e!5K0_5\">controller_name</variable><variable id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</variable><variable id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</variable><variable id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</variable><variable id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</variable><variable id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</variable><variable id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</variable><variable id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</variable><variable id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</variable><variable id=\"OLsWWU/zq0Ni6%mLA*jq\">MSG_KEY_HEARTBEAT</variable><variable id=\"j*0[0xluOA}%2PzXI9`q\">MSG_KEY_ACKNOWLEDGE</variable><variable id=\"BoG}mOz98Ed]Xa?SmWlX\">MSG_KEY_LOG</variable><variable id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</variable></variables><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"NeVajF2ceUW;=7^o?=Oz\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><value name=\"4z66fix02f2lv94gogle\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"pxt-on-start\" x=\"57\" y=\"73\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"OLsWWU/zq0Ni6%mLA*jq\">MSG_KEY_HEARTBEAT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">heartbeat</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"j*0[0xluOA}%2PzXI9`q\">MSG_KEY_ACKNOWLEDGE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"BoG}mOz98Ed]Xa?SmWlX\">MSG_KEY_LOG</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">status</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1220\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><value name=\"4z66fix02f2lv94gogle\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"1553\" y=\"20\"></block><block type=\"radio_on_string_drag\" x=\"1758\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><value name=\"d409sr1vkpo6zu51umbcl\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value></block></statement></block><block type=\"serial_on_data_received\" x=\"2171\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Ypu can use message over serial  to test your code</comment><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><value name=\"d409sr1vkpo6zu51umbcl\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"serial_read_line\"></block></value></block></statement></block><block type=\"function_definition\" x=\"2600\" y=\"20\"><mutation name=\"tournament_start\" functionid=\"=I=Qpy_Xa5Zf%UMe{GR$\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: start </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"475\" y=\"346\"><mutation name=\"send_acknowledge\" functionid=\"-axg}]mf@K-;ntJg.Rkg\"><arg name=\"message\" id=\"cf1=W{NT((9`/s{ZP9yl\" type=\"string\"></arg></mutation><field name=\"function_name\">send_acknowledge</field><value name=\"cf1=W{NT((9`/s{ZP9yl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value></block><block type=\"function_call\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"609\" y=\"612\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VALUE\">messsage</field></block></value></block></value></block><block type=\"function_definition\" x=\"20\" y=\"913\"><mutation name=\"tournament_stop\" functionid=\"x@aBk99-c07/?)0=sfI?\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: stop</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"461\" y=\"913\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"d409sr1vkpo6zu51umbcl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">messsage</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1230\" y=\"913\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"4z66fix02f2lv94gogle\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2171\" y=\"913\"><mutation name=\"send_heart_beat\" functionid=\"NeVajF2ceUW;=7^o?=Oz\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2924\" y=\"913\"><mutation name=\"do_safety\" functionid=\"ADzLL@)2cdcdiV!JnsaM\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: safety </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1428\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"psfielc31uool2gm38ktcp\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{log\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"507\" y=\"1428\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"og6lrsaamvernj4fog43\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1276\" y=\"1428\"><mutation name=\"send_status\" functionid=\"b_xg,/+xXsfPFNkQY(Ql\"><arg name=\"status\" id=\"ohi9zvtb5qmwyjy0sk4bh\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"ohi9zvtb5qmwyjy0sk4bh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2005\" y=\"1428\"><mutation name=\"get_bot_info_string\" functionid=\"[I8zgKfky5l-hGjNP}`3\"></mutation><field name=\"function_name\">get_bot_info_string</field><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2567\" y=\"1428\"><mutation name=\"register_controller\" functionid=\"@QZPMg522lurTIodMOQo\"><arg name=\"name\" id=\"f9mk7d62qk0yug3cmz3i\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"f9mk7d62qk0yug3cmz3i\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value><next><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"20\" y=\"2023\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value"],[1,")e14s2*H4H5Koz|Xnl(I\">bot_collected</variable><variable id=\"{4R8sNdtF}KjgyEbrWi,\">bot_distance</variable><variable id=\"%2teNjVuz(C]0mXW]nA-\">bot_status</variable><variable id=\"P~zE@[8yab6,mm-Gq~|B\">controller_name</variable><variable id=\"U7$E+{$-%Cuw}~uhpan_\">CONTROLLER_UNDEFINED</variable><variable id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</variable><variable id=\"^84ns4afaOJXIKzKKSnw\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"S,Y:|jI5?YVZd.52^Ci3\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"0IM2Fk%u`!H1/--W}x`r\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</variable><variable id=\"+,j+aA}{yH#unstvm,VZ\">RADIO_GROUP_MAX</variable><variable id=\"X{NUSU.#M8}QD^xi9/.q\">RADIO_GROUP_MIN</variable></variables><block type=\"device_button_event\" x=\"1066\" y=\"-238\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"EKs4^R#k#~Nga_1jA]^n\"><arg name=\"increment\" id=\"av1pmrofnmcg0qrcwwpe\" type=\"number\"></arg></mutation><value name=\"av1pmrofnmcg0qrcwwpe\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"function_definition\" x=\"1869\" y=\"-223\"><mutation name=\"tournament_start\" functionid=\"Oy]](.E9Sm^%ZGL]|Fbj\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><value name=\"3tar2vnrdbvlr7x49qvd\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6kndgs1pbu9swybwhpo54\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: start </field></shadow></value></block></next></block></statement></block><block type=\"control_in_background\" x=\"521\" y=\"-82\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"XCYP1_aZ(9kEjZ/?i-.{\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"1064\" y=\"-82\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"EKs4^R#k#~Nga_1jA]^n\"><arg name=\"increment\" id=\"av1pmrofnmcg0qrcwwpe\" type=\"number\"></arg></mutation><value name=\"av1pmrofnmcg0qrcwwpe\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"1338\" y=\"-82\"></block><block type=\"function_definition\" x=\"1543\" y=\"-82\"><mutation name=\"tournament_stop\" functionid=\"H*e=qp)HV[o)TV6k%(BN\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><value name=\"3tar2vnrdbvlr7x49qvd\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6kndgs1pbu9swybwhpo54\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: start </field></shadow></value></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"53\" y=\"7\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"{4R8sNdtF}KjgyEbrWi,\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")e14s2*H4H5Koz|Xnl(I\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"+,j+aA}{yH#unstvm,VZ\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X{NUSU.#M8}QD^xi9/.q\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^84ns4afaOJXIKzKKSnw\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S,Y:|jI5?YVZd.52^Ci3\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"0IM2Fk%u`!H1/--W}x`r\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^84ns4afaOJXIKzKKSnw\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U7$E+{$-%Cuw}~uhpan_\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"P~zE@[8yab6,mm-Gq~|B\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"U7$E+{$-%Cuw}~uhpan_\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%2teNjVuz(C]0mXW]nA-\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1108\" y=\"122\"><mutation name=\"on_received_message\" functionid=\"Fya.,93}Aer~pPS6d1;g\"><arg name=\"messsage\" id=\"4?]ai_LVAM6fttF3Q|_3\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"4?]ai_LVAM6fttF3Q|_3\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value></block><block type=\"function_definition\" x=\"352\" y=\"207\"><mutation name=\"increment_radio_group\" functionid=\"EKs4^R#k#~Nga_1jA]^n\"><arg name=\"increment\" id=\"av1pmrofnmcg0qrcwwpe\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"av1pmrofnmcg0qrcwwpe\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"+,j+aA}{yH#unstvm,VZ\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X{NUSU.#M8}QD^xi9/.q\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X{NUSU.#M8}QD^xi9/.q\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"+,j+aA}{yH#unstvm,VZ\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><value name=\"3tar2vnrdbvlr7x49qvd\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6kndgs1pbu9swybwhpo54\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^TRwa-IY;0@|lU8{8T5t\">radio_group</field></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"serial_on_data_received\" x=\"1746\" y=\"214\"><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"Fya.,93}Aer~pPS6d1;g\"><arg name=\"messsage\" id=\"4?]ai_LVAM6fttF3Q|_3\" type=\"string\"></arg></mutation><value name=\"4?]ai_LVAM6fttF3Q|_3\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow></value></block></statement></block><block type=\"radio_on_number_drag\" x=\"1746\" y=\"328\"><value name=\"HANDLER_DRAG_PARAM_receivedNumber\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedNumber</field></block></value></block><block type=\"function_definition\" x=\"-77\" y=\"811\"><mutation name=\"send_heart_beat\" functionid=\"XCYP1_aZ(9kEjZ/?i-.{\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"__gzwZFSY(AP^[pd*v(J\"><arg name=\"msg\" id=\"ju2k8s67ylqs0yvnqdat\" type=\"string\"></arg></mutation><value name=\"ju2k8s67ylqs0yvnqdat\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"]lA7rx/*7Jm%(VJ!4S{k\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"668\" y=\"811\"><mutation name=\"do_safety\" functionid=\"Vy#Q[ORQyVB4:(b$FDed\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><value name=\"3tar2vnrdbvlr7x49qvd\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6kndgs1pbu9swybwhpo54\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: safety </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"1001\" y=\"811\"><mutation name=\"send_log\" functionid=\"k/LCdyf#JDluCZ5BmZhY\"><arg name=\"level\" id=\"3tar2vnrdbvlr7x49qvd\" type=\"string\"></arg><arg name=\"message\" id=\"6kndgs1pbu9swybwhpo54\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"3tar2vnrdbvlr7x49qvd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"6kndgs1pbu9swybwhpo54\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"__gzwZFSY(AP^[pd*v(J\"><arg name=\"msg\" id=\"ju2k8s67ylqs0yvnqdat\" type=\"string\"></arg></mutation><value name=\"ju2k8s67ylqs0yvnqdat\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{log\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"]lA7rx/*7Jm%(VJ!4S{k\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1334\" y=\"811\"><mutation name=\"emit_message\" functionid=\"__gzwZFSY(AP^[pd*v(J\"><arg name=\"msg\" id=\"ju2k8s67ylqs0yvnqdat\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"ju2k8s67ylqs0yvnqdat\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^84ns4afaOJXIKzKKSnw\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S,Y:|jI5?YVZd.52^Ci3\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"48Q+?s_m5jwK9iX~C_*}\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0IM2Fk%u`!H1/--W}x`r\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1667\" y=\"811\"><mutation name=\"send_status\" functionid=\"L?iN=#rpCu8R.J8XVY%v\"><arg name=\"status\" id=\"lnzlg9f4iosd3tqdti3tf\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"lnzlg9f4iosd3tqdti3tf\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"__gzwZFSY(AP^[pd*v(J\"><arg name=\"msg\" id=\"ju2k8s67ylqs0yvnqdat\" type=\"string\"></arg></mutation><value name=\"ju2k8s67ylqs0yvnqdat\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{status\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"]lA7rx/*7Jm%(VJ!4S{k\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"627\" y=\"968\"><mutation name=\"get_bot_infos\" functionid=\"JBUHBFf$]Em|R(c|G*@m\"></mutation><field name=\"function_name\">get_bot_infos</field><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")e14s2*H4H5Koz|Xnl(I\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{4R8sNdtF}KjgyEbrWi,\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%2teNjVuz(C]0mXW]nA-\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"583\" y=\"1186\"><mutation name=\"get_emitter_string\" functionid=\"]lA7rx/*7Jm%(VJ!4S{k\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"-77\" y=\"1286\"><mutation name=\"register_controller\" functionid=\"jT/=S])UGz4A,.1s2]Hf\"><arg name=\"name\" id=\"g6tzwhmj6ss02hfk4xje\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"g6tzwhmj6ss02hfk4xje\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"P~zE@[8yab6,mm-Gq~|B\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"U7$E+{$-%Cuw}~uhpan_\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"P~zE@[8yab6,mm-Gq~|B\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement"],[0,"></b"]],"start1":76,"start2":76,"length1":31291,"length2":25759}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"function send_acknowledge (message: string) {\n\t\n}\n"],[0,"// i"]],"start1":0,"start2":0,"length1":54,"length2":4},{"diffs":[[0,"e(\"{"],[-1,"\\\"\" + MSG_KEY_STATUS + \""],[1,"status"],[0,"\\\":\""]],"start1":230,"start2":230,"length1":32,"length2":14},{"diffs":[[0," \"}\")\n}\n"],[1,"radio.onReceivedNumber(function (receivedNumber) {\n\t\n})\n"],[0,"// Send "]],"start1":269,"start2":269,"length1":16,"length2":72},{"diffs":[[0,"ssage(\"{"],[-1,"\\\""],[0,"hearbeat"]],"start1":393,"start2":393,"length1":18,"length2":16},{"diffs":[[0,"ty \")\n}\n"],[1,"function get_bot_infos () {\n    return \"{ \\\"collected\\\":\" + (\"\" + bot_collected) + \", \\\"distance\\\" :\" + (\"\" + bot_distance) + \",\\\"status\\\":\\\"\" + bot_status + \"\\\"}\"\n}\n"],[0,"// Forma"]],"start1":946,"start2":946,"length1":16,"length2":182},{"diffs":[[0,")\n}\n"],[-1,"radio.onReceivedString(function (receivedString) {\n    on_received_message(receivedString)\n})\n"],[0,"// B"]],"start1":1355,"start2":1355,"length1":102,"length2":8},{"diffs":[[0,"    "],[-1,"    emit_message(\"{hearbeat\\\":\" + get_emitter_string() + \"}\")\n    } else {\n    \t\n    }\n}\nfunction get_bot_info_string () {\n    return \"{ \\\"collected\\\":\" + (\"\" + bot_collected) + \", \\\"distance\\\" :\" + (\"\" + bot_distance) + \",\\\"status\\\":\\\"\" + bot_status + \"\\\"}\""],[1,"} else {\n    \t\n    }"],[0,"\n}\n/"]],"start1":1666,"start2":1666,"length1":266,"length2":28},{"diffs":[[0,") {\n"],[-1,"    send_log(\"DEBUG\", \"acknowledge received message \" + \"\" + messsage)\n}\n// Ypu can use message over serial  to test your code"],[1,"\t\n}"],[0,"\nser"]],"start1":2198,"start2":2198,"length1":134,"length2":11},{"diffs":[[0,"age("],[-1,"serial.readLine()"],[1,"\"abc\""],[0,")\n})"]],"start1":2301,"start2":2301,"length1":25,"length2":13},{"diffs":[[0,"edge: st"],[-1,"op"],[1,"art "],[0,"\")\n}\nlet"]],"start1":2829,"start2":2829,"length1":18,"length2":20},{"diffs":[[0,"= 0\n"],[-1,"let MSG_KEY_STATUS = \"\"\nlet MSG_KEY_HEARTBEAT = \"heartbeat\"\nlet MSG_KEY_ACKNOWLEDGE = \"acknowledge\"\nlet MSG_KEY_LOG = \"acknowledge\"\nMSG_KEY_STATUS = \"status\"\n"],[0,"bot_"]],"start1":3162,"start2":3162,"length1":166,"length2":8}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"ssage(\"{"],[-1,"\\\""],[0,"hearbeat"]],"start1":313,"start2":313,"length1":18,"length2":16},{"diffs":[[0,"ES)\n"],[-1,"    send_log(\"INFO\", \"ackmowledge: start \")\n"],[0,"# Bu"]],"start1":517,"start2":517,"length1":52,"length2":8},{"diffs":[[0,"sed_a():\n   "],[-1," "],[0,"increment_ra"]],"start1":585,"start2":585,"length1":25,"length2":24},{"diffs":[[0,"):\n   increment_"],[-1,"rad"],[1,"dar"],[0,"io_group(1)\ninpu"]],"start1":591,"start2":591,"length1":35,"length2":35},{"diffs":[[0,"SE)\n"],[-1,"    send_log(\"INFO\", \"ackmowledge: safety \")"],[1,"def get_bot_infos():\n    return \"{ \\\"collected\\\":\" + (\"\" + str(bot_collected)) + \", \\\"distance\\\" :\" + (\"\" + str(bot_distance)) + \",\\\"status\\\":\\\"\" + bot_status + \"\\\"}\""],[0,"\n# F"]],"start1":793,"start2":793,"length1":52,"length2":174},{"diffs":[[0,"}\")\n"],[-1,"\ndef on_received_string(receivedString):\n    on_received_message(receivedString)\nradio.on_received_string(on_received_string)\n\n"],[0,"# Bu"]],"start1":1183,"start2":1183,"length1":135,"length2":8},{"diffs":[[0,":\n    increment_"],[-1,"rad"],[1,"dar"],[0,"io_group(1)\ninpu"]],"start1":1258,"start2":1258,"length1":35,"length2":35},{"diffs":[[0,"ent_dario_group("],[1,"-"],[0,"1)\ninput.on_butt"]],"start1":1270,"start2":1270,"length1":32,"length2":33},{"diffs":[[0,"    "],[-1,"    emit_message(\"{hearbeat\\\":\" + get_emitter_string() + \"}\")\n    else:\n        pass\ndef get_bot_info_string():\n    return \"{ \\\"collected\\\":\" + (\"\" + str(bot_collected)) + \", \\\"distance\\\" :\" + (\"\" + str(bot_distance)) + \",\\\"status\\\":\\\"\" + bot_status + \"\\\"}\""],[1,"else:\n        pass"],[0,"\n# E"]],"start1":1542,"start2":1542,"length1":265,"length2":26},{"diffs":[[0,"def "],[-1,"on_received_message(messsage: str):\n    send_log(\"DEBUG\", \"acknowledge received message \" + messsage)\n# Ypu can use message over serial  to test your code\n\ndef on_data_received():\n    on_received_message(serial.read_line())\nserial.on_data_received(serial.delimiters(Delimiters.NEW_LINE), on_data_received)\n\ndef increment_rad"],[1,"increment_dar"],[0,"io_g"]],"start1":1987,"start2":1987,"length1":332,"length2":21},{"diffs":[[0,"FO\","],[-1," \"updated "],[1,"\n        \""],[0,"radi"]],"start1":2255,"start2":2255,"length1":18,"length2":18},{"diffs":[[0,"roup"],[-1," to\" + (\"\" "],[1,"=\""],[0,"+ st"]],"start1":2276,"start2":2276,"length1":19,"length2":10},{"diffs":[[0,"_group))"],[-1,")"],[0,"\n# Add y"]],"start1":2293,"start2":2293,"length1":17,"length2":16},{"diffs":[[0,"NO)\n"],[-1,"    send_log(\"INFO\", \"ackmowledge: stop\")\n"],[0,"bot_"]],"start1":2452,"start2":2452,"length1":50,"length2":8},{"diffs":[[0," \"\"\n"],[-1,"RADIO_GROUP_MIN = 0\nradio_group = 0\nRADIO_GROUP_MAX = 0\nbot_collected = 0\nbot_distance = 0\nMSG_KEY_HEARTBEAT = \"heartbeat\"\nMSG_KEY_ACKNOWLEDGE = \"acknowledge\"\nMSG_KEY_LOG = \"acknowledge\"\nMSG_KEY_STATUS = \"status\""],[1,"bot_collected = 0\nbot_distance = 0\nRADIO_GROUP_MAX = 0\nradio_group = 0\nRADIO_GROUP_MIN = 0"],[0,"\nbot"]],"start1":2633,"start2":2633,"length1":220,"length2":98},{"diffs":[[0,"llected = 0\n"],[1,"\n"],[0,"RADIO_GROUP_"]],"start1":2751,"start2":2751,"length1":24,"length2":25}]}]},{"timestamp":1746716633080,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"und\""],[-1," collapsed=\"true\""],[0," x=\""],[-1,"5"],[0,"61"],[1,"8"],[0,"\" y=\""],[-1,"-53"],[1,"20"],[0,"\"><c"]],"start1":1127,"start2":1127,"length1":40,"length2":22},{"diffs":[[0,"ent\""],[-1," collapsed=\"true\""],[0," x=\"8"],[-1,"30"],[1,"87"],[0,"\" y=\""],[-1,"-53"],[1,"20"],[0,"\"><f"]],"start1":1777,"start2":1777,"length1":40,"length2":22},{"diffs":[[0,"art\""],[-1," collapsed=\"true\""],[0," x=\""],[-1,"0"],[1,"57"],[0,"\" y=\""],[-1,"0"],[1,"73"],[0,"\"><s"]],"start1":2285,"start2":2285,"length1":36,"length2":21},{"diffs":[[0,"ent\""],[-1," collapsed=\"true\""],[0," x=\"1"],[-1,"163"],[1,"220"],[0,"\" y=\""],[-1,"-53"],[1,"20"],[0,"\"><f"]],"start1":6982,"start2":6982,"length1":41,"length2":23},{"diffs":[[0,"x=\"1"],[-1,"496"],[1,"553"],[0,"\" y=\""],[-1,"-53"],[1,"20"],[0,"\"></"]],"start1":7498,"start2":7498,"length1":19,"length2":18},{"diffs":[[0,"rag\""],[-1," collapsed=\"true\""],[0," x=\"17"],[-1,"01"],[1,"58"],[0,"\" y=\""],[-1,"-53"],[1,"20"],[0,"\"><v"]],"start1":7552,"start2":7552,"length1":41,"length2":23},{"diffs":[[0,"ved\""],[-1," collapsed=\"true\""],[0," x=\"21"],[1,"7"],[0,"1"],[-1,"4"],[0,"\" y=\""],[-1,"-53"],[1,"20"],[0,"\"><c"]],"start1":8219,"start2":8219,"length1":41,"length2":23},{"diffs":[[0,"x=\"2"],[-1,"543"],[1,"600"],[0,"\" y=\""],[-1,"-53"],[1,"20"],[0,"\"><m"]],"start1":8870,"start2":8870,"length1":19,"length2":18},{"diffs":[[0,"e</comment><"],[1,"next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: start </field></shadow></value></block></next><"],[0,"/block></sta"]],"start1":9283,"start2":9283,"length1":24,"length2":501},{"diffs":[[0,"x=\"4"],[-1,"18"],[1,"75"],[0,"\" y=\""],[-1,"273"],[1,"346"],[0,"\"><m"]],"start1":9833,"start2":9833,"length1":18,"length2":18},{"diffs":[[0," x=\""],[-1,"552"],[1,"609"],[0,"\" y=\""],[-1,"539"],[1,"612"],[0,"\"><m"]],"start1":10302,"start2":10302,"length1":19,"length2":19},{"diffs":[[0," x=\""],[-1,"-37"],[1,"20"],[0,"\" y=\""],[-1,"840"],[1,"913"],[0,"\"><m"]],"start1":11382,"start2":11382,"length1":19,"length2":18},{"diffs":[[0,"x=\"4"],[-1,"04"],[1,"61"],[0,"\" y=\""],[-1,"840"],[1,"913"],[0,"\"><m"]],"start1":12339,"start2":12339,"length1":18,"length2":18},{"diffs":[[0,"x=\"1"],[-1,"173"],[1,"230"],[0,"\" y=\""],[-1,"840"],[1,"913"],[0,"\"><m"]],"start1":13682,"start2":13682,"length1":19,"length2":19},{"diffs":[[0,"=\"21"],[1,"7"],[0,"1"],[-1,"4"],[0,"\" y=\""],[-1,"840"],[1,"913"],[0,"\"><m"]],"start1":17339,"start2":17339,"length1":18,"length2":18},{"diffs":[[0,"x=\"2"],[-1,"867"],[1,"924"],[0,"\" y=\""],[-1,"840"],[1,"913"],[0,"\"><m"]],"start1":18350,"start2":18350,"length1":19,"length2":19},{"diffs":[[0," x=\""],[-1,"-37"],[1,"20"],[0,"\" y=\"1"],[-1,"355"],[1,"428"],[0,"\"><m"]],"start1":19227,"start2":19227,"length1":20,"length2":19},{"diffs":[[0," x=\""],[-1,"4"],[0,"50"],[1,"7"],[0,"\" y=\"1"],[-1,"355"],[1,"428"],[0,"\"><m"]],"start1":21271,"start2":21271,"length1":20,"length2":20},{"diffs":[[0,"=\"12"],[-1,"19"],[1,"76"],[0,"\" y=\"1"],[-1,"355"],[1,"428"],[0,"\"><m"]],"start1":24289,"start2":24289,"length1":19,"length2":19},{"diffs":[[0,"mutation items=\""],[-1,"7"],[1,"5"],[0,"\"></mutation><va"]],"start1":24985,"start2":24985,"length1":33,"length2":33},{"diffs":[[0,"\">\":"],[-1,"{\"emitter\":"],[0,"</fi"]],"start1":25341,"start2":25341,"length1":19,"length2":8},{"diffs":[[0,"XT\">"],[-1,", \"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}"],[0,"}</f"]],"start1":25631,"start2":25631,"length1":269,"length2":8},{"diffs":[[0," x=\""],[-1,"1948"],[1,"2005"],[0,"\" y=\"1"],[-1,"355"],[1,"428"],[0,"\"><m"]],"start1":25738,"start2":25738,"length1":21,"length2":21},{"diffs":[[0,"=\"25"],[-1,"10"],[1,"67"],[0,"\" y=\"1"],[-1,"355"],[1,"428"],[0,"\"><m"]],"start1":27774,"start2":27774,"length1":19,"length2":19},{"diffs":[[0," x=\""],[-1,"-37"],[1,"20"],[0,"\" y=\""],[-1,"1950"],[1,"2023"],[0,"\"><m"]],"start1":30001,"start2":30001,"length1":20,"length2":19}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"function send_acknowledge (message: string) {\n\t\n}\n"],[0,"//"],[-1," "],[0," interna"]],"start1":0,"start2":0,"length1":11,"length2":60},{"diffs":[[0,"itter_string"],[1," "],[0,"() {\n    ret"]],"start1":107,"start2":107,"length1":24,"length2":25},{"diffs":[[0," + (\"\" +"],[-1," (\"\" +"],[0," control"]],"start1":190,"start2":190,"length1":22,"length2":16},{"diffs":[[0,"illis())"],[-1,")"],[0," + \"}\"\n}"]],"start1":208,"start2":208,"length1":17,"length2":16},{"diffs":[[0,"\"\n}\n"],[-1,"\n//  send acknowledgement of message received\nfunction send_acknowledge(message: string) {\n    \n    emit_message(\"{\\\"\" + MSG_KEY_ACKNOWLEDGE + \"\\\":{\\\"\" + MSG_KEY_EMITTER + \"\\\":\" + get_emitter_string() + \", \\\"payload\\\":\\\"\" + \"\\\"}\")\n}\n\n//  send acknowledgement of message received\nfunction send_status(status: string) {\n    emit_message(\"{\\\"\" + MSG_KEY_STATUS + \"\\\":{\\\"\" + MSG_KEY_EMITTER + \"\\\":\" + get_emitter_string() + \", \\\"status\\\":\\\"\" + status + \"\\\"}"],[1,"function send_status (status: string) {\n    emit_message(\"{\\\"\" + MSG_KEY_STATUS + \"\\\":\" + get_emitter_string() + \""],[0,"}\")\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," Sen"]],"start1":221,"start2":221,"length1":471,"length2":130},{"diffs":[[0,"art_beat"],[1," "],[0,"() {\n   "]],"start1":380,"start2":380,"length1":16,"length2":17},{"diffs":[[0,")\n}\n"],[-1,"\n"],[0,"//"],[-1,"  Ypu can use message over serial  to test your code\nserial.onDataReceived(serial.delimiters(Delimiters.NewLine), function on_data_received() {\n    on_received_message(serial.readLine())\n})\n//  Button B decrements the radio group (0-16)\ninput.onButtonPressed(Button.B, function on_button_pressed_b() {\n    increment_radio_group(1)\n})\n// "],[0," Add"]],"start1":456,"start2":456,"length1":348,"length2":10},{"diffs":[[0,"nt_start"],[1," "],[0,"() {\n   "]],"start1":541,"start2":541,"length1":16,"length2":17},{"diffs":[[0,"tart () {\n    //"],[-1," "],[0," implement your "]],"start1":545,"start2":545,"length1":33,"length2":32},{"diffs":[[0,"es.Yes)\n"],[1,"    send_log(\"INFO\", \"ackmowledge: start \")\n"],[0,"}"],[-1,"\n"],[0,"\n//"],[-1," "],[0," Button "]],"start1":617,"start2":617,"length1":22,"length2":64},{"diffs":[[0,"ion "],[-1,"on_button_pressed_a"],[0,"() {"]],"start1":754,"start2":754,"length1":27,"length2":8},{"diffs":[[0,"1)\n})\n//"],[-1," "],[0," Add you"]],"start1":789,"start2":789,"length1":17,"length2":16},{"diffs":[[0,"o_safety"],[1," "],[0,"() {\n   "]],"start1":871,"start2":871,"length1":16,"length2":17},{"diffs":[[0,"ty \")\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," Format "]],"start1":960,"start2":960,"length1":20,"length2":18},{"diffs":[[0,"send_log"],[1," "],[0,"(level: "]],"start1":1043,"start2":1043,"length1":16,"length2":17},{"diffs":[[0," message"],[-1,"2"],[0,": string"]],"start1":1067,"start2":1067,"length1":17,"length2":16},{"diffs":[[0,"sage"],[-1,"2"],[0," + \""]],"start1":1191,"start2":1191,"length1":9,"length2":8},{"diffs":[[0,"\\\"}\")\n}\n"],[-1,"\n"],[0,"radio.on"]],"start1":1199,"start2":1199,"length1":17,"length2":16},{"diffs":[[0,"ion "],[-1,"on_received_string"],[0,"(rec"]],"start1":1235,"start2":1235,"length1":26,"length2":8},{"diffs":[[0,"edString"],[-1,": string"],[0,") {\n    "]],"start1":1246,"start2":1246,"length1":24,"length2":16},{"diffs":[[0,")\n})\n// "],[1,"Button B decrements the radio group (0-16)\ninput.onButtonPressed(Button.B, function () {\n    increment_radio_group(1)\n})\n//"],[0," Registe"]],"start1":1296,"start2":1296,"length1":16,"length2":139},{"diffs":[[0,"ntroller"],[1," "],[0,"(name: s"]],"start1":1500,"start2":1500,"length1":16,"length2":17},{"diffs":[[0,": string) {\n"],[-1,"    \n"],[0,"    if (cont"]],"start1":1514,"start2":1514,"length1":29,"length2":24},{"diffs":[[0,"    "],[-1,"    "],[1,"\t"],[0,"\n    }\n"],[-1,"    \n}\n"],[1,"}"],[0,"\nfun"]],"start1":1687,"start2":1687,"length1":26,"length2":17},{"diffs":[[0,"o_string"],[1," "],[0,"() {\n   "]],"start1":1721,"start2":1721,"length1":16,"length2":17},{"diffs":[[0,"\\\":\" + (\"\" +"],[-1," (\"\" +"],[0," bot_collect"]],"start1":1760,"start2":1760,"length1":30,"length2":24},{"diffs":[[0,"llected)"],[-1,")"],[0," + \", \\\""]],"start1":1779,"start2":1779,"length1":17,"length2":16},{"diffs":[[0," + (\"\" +"],[-1," (\"\" +"],[0," bot_dis"]],"start1":1808,"start2":1808,"length1":22,"length2":16},{"diffs":[[0,"istance)"],[-1,")"],[0," + \",\\\"s"]],"start1":1822,"start2":1822,"length1":17,"length2":16},{"diffs":[[0,"\"\\\"}\"\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," Emits t"]],"start1":1865,"start2":1865,"length1":20,"length2":18},{"diffs":[[0,"_message"],[1," "],[0,"(msg: st"]],"start1":1935,"start2":1935,"length1":16,"length2":17},{"diffs":[[0,"  }\n"],[-1,"    \n}\n"],[1,"}"],[0,"\nfun"]],"start1":2326,"start2":2326,"length1":15,"length2":9},{"diffs":[[0,"_message"],[1," "],[0,"(messsag"]],"start1":2352,"start2":2352,"length1":16,"length2":17},{"diffs":[[0,"sage)\n}\n"],[1,"// Ypu can use message over serial  to test your code\nserial.onDataReceived(serial.delimiters(Delimiters.NewLine), function () {\n    on_received_message(serial.readLine())\n})"],[0,"\nfunctio"]],"start1":2447,"start2":2447,"length1":16,"length2":190},{"diffs":[[0,"io_group"],[1," "],[0,"(increme"]],"start1":2652,"start2":2652,"length1":16,"length2":17},{"diffs":[[0,"mber) {\n"],[-1,"    \n"],[0,"    radi"]],"start1":2675,"start2":2675,"length1":21,"length2":16},{"diffs":[[0,"X\n    }\n"],[-1,"    \n"],[0,"    send"]],"start1":2875,"start2":2875,"length1":21,"length2":16},{"diffs":[[0," + (\"\" +"],[-1," (\"\" +"],[0," radio_g"]],"start1":2928,"start2":2928,"length1":22,"length2":16},{"diffs":[[0,"up))"],[-1,")"],[0,"\n}\n"],[-1,"\n"],[0,"//"],[-1," "],[0," Add"]],"start1":2946,"start2":2946,"length1":16,"length2":13},{"diffs":[[0,"ent_stop"],[1," "],[0,"() {\n   "]],"start1":3032,"start2":3032,"length1":16,"length2":17},{"diffs":[[0,"{\n    //"],[-1," "],[0," impleme"]],"start1":3044,"start2":3044,"length1":17,"length2":16},{"diffs":[[0,"top\")\n}\n"],[-1,"\n"],[0,"let bot_"]],"start1":3151,"start2":3151,"length1":17,"length2":16},{"diffs":[[0,"us\"\n"],[-1,"let MSG_KEY_EMITTER = \"emitter\"\n"],[0,"bot_"]],"start1":3633,"start2":3633,"length1":40,"length2":8},{"diffs":[[0,"P_MIN\n//"],[-1," "],[0," The rad"]],"start1":3717,"start2":3717,"length1":17,"length2":16},{"diffs":[[0,"rial\"\n//"],[-1," "],[0," Do not "]],"start1":3904,"start2":3904,"length1":17,"length2":16},{"diffs":[[0,"ined\"\n//"],[-1," "],[0," Name of"]],"start1":4037,"start2":4037,"length1":17,"length2":16},{"diffs":[[0,"ion "],[-1,"on_forever"],[0,"() {\n"],[-1,"    "],[1,"\t"],[0,"\n})\n//"],[-1," "],[0," Hea"]],"start1":4193,"start2":4193,"length1":34,"length2":20},{"diffs":[[0,"ion "],[-1,"on_in_background"],[0,"() {"]],"start1":4252,"start2":4252,"length1":24,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"py"],[1,"blocks"],[0,"prj\"\n}\n"]],"start1":275,"start2":275,"length1":17,"length2":21}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"\"}\"\n"],[-1,"\n# send acknowledgement of message received\ndef send_acknowledge(message: str):\n    global MSG_KEY_ACKNOWLEDGE\n    emit_message(\"{\\\"\"+MSG_KEY_ACKNOWLEDGE+\"\\\":{\\\"\"+MSG_KEY_EMITTER+\"\\\":\" + get_emitter_string() + \", \\\"payload\\\":\\\"\"+message\"\\\"}\")\n\n    \n# send acknowledgement of message received\ndef send_status(status: str):\n    emit_message(\"{\\\"\" + MSG_KEY_STATUS + \"\\\":{\\\"\"+MSG_KEY_EMITTER+\"\\\":\" + get_emitter_string() + \", \\\"status\\\":\\\"\" + status + \"\\\"}}\")\n# Send hear tbeat\ndef send_heart_beat():\n    emit_message(\"{\\\"hearbeat\\\":\" + get_emitter_string() + \"}\")\n# Ypu can use message over serial  to test your code\n\ndef on_data_received():\n    on_received_message(serial.read_line())\nserial.on_data_received(serial.delimiters(Delimiters.NEW_LINE), on_data_received)\n\n# Button B decrements the radio group (0-16)\n\ndef on_button_pressed_b():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.B, on_button_pressed_b)\n"],[1,"def send_status(status: str):\n    emit_message(\"{status\\\":\" + get_emitter_string() + \"}\")\n# Send hear tbeat\ndef send_heart_beat():\n    emit_message(\"{\\\"hearbeat\\\":\" + get_emitter_string() + \"}\")"],[0,"\n# A"]],"start1":167,"start2":167,"length1":932,"length2":202},{"diffs":[[0,"es.YES)\n"],[1,"    send_log(\"INFO\", \"ackmowledge: start \")\n"],[0,"# Button"]],"start1":515,"start2":515,"length1":16,"length2":60},{"diffs":[[0," message"],[-1,"2"],[0,": str):\n"]],"start1":978,"start2":978,"length1":17,"length2":16},{"diffs":[[0,"sage"],[-1,"2"],[0," + \""]],"start1":1098,"start2":1098,"length1":9,"length2":8},{"diffs":[[0,"tring)\n\n"],[1,"# Button B decrements the radio group (0-16)\n\ndef on_button_pressed_b():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.B, on_button_pressed_b)\n\n"],[0,"# Regist"]],"start1":1231,"start2":1231,"length1":16,"length2":174},{"diffs":[[0," \" +"],[-1," \"\" +"],[0," mes"]],"start1":2368,"start2":2368,"length1":13,"length2":8},{"diffs":[[0,"sssage)\n"],[1,"# Ypu can use message over serial  to test your code\n\ndef on_data_received():\n    on_received_message(serial.read_line())\nserial.on_data_received(serial.delimiters(Delimiters.NEW_LINE), on_data_received)\n\n"],[0,"def incr"]],"start1":2375,"start2":2375,"length1":16,"length2":221},{"diffs":[[0," stop\")\n"],[-1,"\n\n"],[0,"bot_stat"]],"start1":3101,"start2":3101,"length1":18,"length2":16},{"diffs":[[0,"= 0\n"],[-1,"MSG_KEY_STATUS = \"\"\n"],[0,"MSG_"]],"start1":3377,"start2":3377,"length1":28,"length2":8},{"diffs":[[0,"tus\""],[-1,"\n\nMSG_KEY_EMITTER = \"emitter\""],[0,"\nbot"]],"start1":3498,"start2":3498,"length1":37,"length2":8}]}]},{"timestamp":1746717014667,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0," (0-16)\n"],[1,"\n"],[0,"def on_b"]],"start1":975,"start2":975,"length1":16,"length2":17}]}]},{"timestamp":1746717882105,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"es.YES)\n"],[-1,"    \n"],[0,"# Button"]],"start1":1244,"start2":1244,"length1":21,"length2":16}]}]},{"timestamp":1746717890540,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ion get_emitter_"],[-1,"json_"],[0,"string() {\n    r"]],"start1":48,"start2":48,"length1":37,"length2":32},{"diffs":[[0,"\n}\n\n"],[-1,"function get_json_message(message_key: string, json_payload: string): string {\n    if (json_payload.length > 0"],[1,"//  send acknowledgement of message received\nfunction send_acknowledge(message: string"],[0,") {\n    "],[1,"\n"],[0,"    "],[-1,"return \"{\\\"\" + message_key"],[1,"emit_message(\"{\\\"\" + MSG_KEY_ACKNOWLEDGE"],[0," + \""]],"start1":179,"start2":179,"length1":156,"length2":147},{"diffs":[[0,"\" + get_emitter_"],[-1,"json_"],[0,"string() + \", \\\""]],"start1":358,"start2":358,"length1":37,"length2":32},{"diffs":[[0,"d\\\":"],[-1,"\" + json_payload + \"}\"\n    } else {\n        return \"{\\\"\" + message_key + \"\\\":{\\\"\" + MSG_KEY_EMITTER + \"\\\":\" + get_emitter_json_string() + \"}\"\n    }\n    "],[1,"\\\"\" + \"\\\"}\")"],[0,"\n}\n\n"]],"start1":396,"start2":396,"length1":160,"length2":20},{"diffs":[[0,"on send_"],[-1,"acknowledge(message"],[1,"status(status"],[0,": string"]],"start1":467,"start2":467,"length1":35,"length2":29},{"diffs":[[0,"atus: string) {\n"],[-1,"    \n"],[0,"    emit_message"]],"start1":484,"start2":484,"length1":37,"length2":32},{"diffs":[[0,"age("],[-1,"get_json_message(MSG_KEY_ACKNOWLEDGE, message))\n}\n\n//  send acknowledgement of message received\nfunction send_status(status: "],[1,"\"{\\\"\" + MSG_KEY_STATUS + \"\\\":{\\\"\" + MSG_KEY_EMITTER + \"\\\":\" + get_emitter_"],[0,"string"],[1,"("],[0,") "],[-1,"{\n    \n    emit_message(get_json_message(MSG_KEY_STATUS, status)"],[1,"+ \", \\\"status\\\":\\\"\" + status + \"\\\"}}\""],[0,")\n}\n"]],"start1":513,"start2":513,"length1":205,"length2":128},{"diffs":[[0,"rt_beat() {\n"],[-1,"    \n"],[0,"    emit_mes"]],"start1":679,"start2":679,"length1":29,"length2":24},{"diffs":[[0,"age("],[-1,"get_json_message(MSG_KEY_HEARTBEAT, \"\"))\n}\n\n//  Format log message with microbit name and time stamp in prefix\nfunction send_log(level: string, message2: string) {\n    emit_message(\"{log"],[1,"\"{\\\"hearbeat"],[0,"\\\":\""]],"start1":704,"start2":704,"length1":194,"length2":20},{"diffs":[[0,"\" + get_emitter_"],[-1,"json_"],[0,"string() + \", \\\""]],"start1":723,"start2":723,"length1":37,"length2":32},{"diffs":[[0,") + "],[-1,"\", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message2 + \"\\"],[0,"\"}\")"]],"start1":746,"start2":746,"length1":70,"length2":8},{"diffs":[[0,"}\n\n//  Y"],[-1,"o"],[1,"p"],[0,"u can us"]],"start1":755,"start2":755,"length1":17,"length2":17},{"diffs":[[0,"\n})\n"],[-1,"//  Button A increments the radio group (0-16)\ninput.onButtonPressed(Button.A, function on_button_pressed_a() {\n    increment_radio_group(1)\n})\n"],[0,"//  "]],"start1":1090,"start2":1090,"length1":152,"length2":8},{"diffs":[[0,"mes.Yes)\n}\n\n"],[1,"//  Button A increments the radio group (0-16)\ninput.onButtonPressed(Button.A, function on_button_pressed_a() {\n    increment_radio_group(1)\n})\n"],[0,"//  Add your"]],"start1":1251,"start2":1251,"length1":24,"length2":168},{"diffs":[[0,"y \")\n}\n\n"],[1,"//  Format log message with microbit name and time stamp in prefix\nfunction send_log(level: string, message2: string) {\n    emit_message(\"{log\\\":\" + get_emitter_string() + \", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message2 + \"\\\"}\")\n}\n\n"],[0,"radio.on"]],"start1":1573,"start2":1573,"length1":16,"length2":258},{"diffs":[[0,"ter_"],[-1,"json_"],[0,"stri"]],"start1":2177,"start2":2177,"length1":13,"length2":8}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"def get_emitter_"],[-1,"json_"],[0,"string():\n    re"]],"start1":41,"start2":41,"length1":37,"length2":32},{"diffs":[[0,"}\"\n\n"],[-1,"def get_json_message(message_key:str, json_payload:str):\n    if len(json_payload)>0:\n        return \"{\\\"\"+message_key+\"\\\":{\\\"\"+MSG_KEY_EMITTER+\"\\\":\" + get_emitter_json_string() + \", \\\"payload\\\":\"+json_payload+\"}\"\n    else:\n        return \"{\\\"\"+message_key+\"\\\":{\\\"\"+MSG_KEY_EMITTER+\"\\\":\" + get_emitter_json_string() + \"}\"\n\n"],[0,"# se"]],"start1":168,"start2":168,"length1":330,"length2":8},{"diffs":[[0,"message("],[-1,"get_json_message("],[1,"\"{\\\"\"+"],[0,"MSG_KEY_"]],"start1":291,"start2":291,"length1":33,"length2":22},{"diffs":[[0,"EDGE"],[-1,", message ))\n    \n# send acknowledgement of message received\ndef send_status(status: str):\n    global MSG_KEY_STATUS\n    emit_message(get_json_message(MSG_KEY_STATUS, status ))\n\n# Send hear tbeat\ndef send_heart_beat():\n    global MSG_KEY_HEARTBEAT\n    emit_message(get_json_message(MSG_KEY_HEARTBEAT, \"\" ))\n\n# Format log message with microbit name and time stamp in prefix\ndef send_log(level: str, message2: str"],[1,"+\"\\\":{\\\"\"+MSG_KEY_EMITTER+\"\\\":\" + get_emitter_string() + \", \\\"payload\\\":\\\"\"+message\"\\\"}\")\n\n    \n# send acknowledgement of message received\ndef send_status(status: str):\n    emit_message(\"{\\\"\" + MSG_KEY_STATUS + \"\\\":{\\\"\"+MSG_KEY_EMITTER+\"\\\":\" + get_emitter_string() + \", \\\"status\\\":\\\"\" + status + \"\\\"}}\")\n# Send hear tbeat\ndef send_heart_beat("],[0,"):\n "]],"start1":320,"start2":320,"length1":419,"length2":350},{"diffs":[[0,"ssage(\"{"],[-1,"log"],[1,"\\\"hearbeat"],[0,"\\\":\" + g"]],"start1":680,"start2":680,"length1":19,"length2":26},{"diffs":[[0,"\" + get_emitter_"],[-1,"json_"],[0,"string() + \", \\\""]],"start1":701,"start2":701,"length1":37,"length2":32},{"diffs":[[0,") + "],[-1,"\", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message2 + \"\\"],[0,"\"}\")\n"],[-1,"\n\n"],[0,"# Y"],[-1,"o"],[1,"p"],[0,"u ca"]],"start1":724,"start2":724,"length1":81,"length2":17},{"diffs":[[0,"ur code\n"],[1,"\n"],[0,"def on_d"]],"start1":778,"start2":778,"length1":16,"length2":17},{"diffs":[[0,"_b)\n"],[-1,"# Button A increments the radio group (0-16)\ndef on_button_pressed_a():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n\n# Add your code in to handle the START request from controller\ndef tournament_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\n\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n    send_log(\"INFO\", \"ackmowledge: safety \")\n"],[1,"\n# Add your code in to handle the START request from controller\ndef tournament_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\n    \n# Button A increments the radio group (0-16)\n\ndef on_button_pressed_a():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n    send_log(\"INFO\", \"ackmowledge: safety \")\n# Format log message with microbit name and time stamp in prefix\ndef send_log(level: str, message2: str):\n    emit_message(\"{log\\\":\" + get_emitter_string() + \", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message2 + \"\\\"}\")"],[0,"\n\nde"]],"start1":1090,"start2":1090,"length1":488,"length2":717},{"diffs":[[0,"ter_"],[-1,"json_"],[0,"stri"]],"start1":2173,"start2":2173,"length1":13,"length2":8}]}]},{"timestamp":1746718514374,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"r):\n"],[-1,"    emit_message(get_json_message(MSG_KEY_HEARTBEAT, \"\" ))\n"],[0,"    "]],"start1":1072,"start2":1072,"length1":67,"length2":8}]}]},{"timestamp":1746718523702,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"YwtX-p!!@Inljnn]O0BH\">MSG_KEY_EMITTER</variable><variable id=\"SP0d~H2Ja8frY+l{Iig^\">MSG_KEY_ACKNOWLEDGE</variable><variable id=\"Ia@XEIOadAs5EttKZ+n]\">MSG_KEY_STATUS</variable><variable id=\"X]NIs-DI)fB4=^cuA8wf\">MSG_KEY_HEARTBEAT</variable><variable id=\"mnj?ws~RF2;Op^IFOjuT\">MSG_KEY_LOG</variable><variable id=\":DsffWQ;)6,|cA[mTZyk\">controller_name</variable><variable id=\"2aSl.s-~Q0-^XLugN^OD\">CONTROLLER_UNDEFINED</variable><variable id=\"B*0Zy,^E(aZ4:JL/O3|}\">bot_collected</variable><variable id=\"qi(?G!ym-NM?Z+c-#Fp_\">bot_distance</variable><variable id=\"ZR;3G_e(1^G80:csUGjJ\">bot_status</variable><variable id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</variable><variable id=\"Ao;GL|z?f`8!H*^MUd,3\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"AP(Fn_hQ~Gnjd|I~Z3b4\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"ne7w-,[g,h0jN;dP)EY*\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</variable><variable id=\"7+Cx_HPniM/MWmMB:%uh\">RADIO_GROUP_MAX</variable><variable id=\"_#{WL^+*IzAp=H9G]8oL\">RADIO_GROUP_MIN</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X]NIs-DI)fB4=^cuA8wf\">MSG_KEY_HEARTBEAT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">heartbeat</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"SP0d~H2Ja8frY+l{Iig^\">MSG_KEY_ACKNOWLEDGE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mnj?ws~RF2;Op^IFOjuT\">MSG_KEY_LOG</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Ia@XEIOadAs5EttKZ+n]\">MSG_KEY_STATUS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">status</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"YwtX-p!!@Inljnn]O0BH\">MSG_KEY_EMITTER</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">emitter</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qi(?G!ym-NM?Z+c-#Fp_\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B*0Zy,^E(aZ4:JL/O3|}\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7+Cx_HPniM/MWmMB:%uh\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_#{WL^+*IzAp=H9G]8oL\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Ao;GL|z?f`8!H*^MUd,3\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"AP(Fn_hQ~Gnjd|I~Z3b4\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ne7w-,[g,h0jN;dP)EY*\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ao;GL|z?f`8!H*^MUd,3\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"2aSl.s-~Q0-^XLugN^OD\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":DsffWQ;)6,|cA[mTZyk\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"2aSl.s-~Q0-^XLugN^OD\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZR;3G_e(1^G80:csUGjJ\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"`42q?N(*+PuRP?rTkanD\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\".]VO%pYyGZ/(oXgGIe6U\"><arg name=\"increment\" id=\"5q1dsjy58jntnx8onj1g\" type=\"number\"></arg></mutation><value name=\"5q1dsjy58jntnx8onj1g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_button_event\" x=\"1220\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\".]VO%pYyGZ/(oXgGIe6U\"><arg name=\"increment\" id=\"5q1dsjy58jntnx8onj1g\" type=\"number\"></arg></mutation><value name=\"5q1dsjy58jntnx8onj1g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"1553\" y=\"20\"></block><block type=\"radio_on_string_drag\" x=\"1758\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"5gu85J}j)$7EaX8oT$y4\"><arg name=\"messsage\" id=\"4512xrpv7l9mpjsd5sick\" type=\"string\"></arg></mutation><value name=\"4512xrpv7l9mpjsd5sick\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value></block></statement></block><block type=\"serial_on_data_received\" x=\"2171\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">You can use message over serial  to test your code</comment><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"5gu85J}j)$7EaX8oT$y4\"><arg name=\"messsage\" id=\"4512xrpv7l9mpjsd5sick\" type=\"string\"></arg></mutation><value name=\"4512xrpv7l9mpjsd5sick\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"serial_read_line\"></block></value></block></statement></block><block type=\"function_definition\" x=\"2600\" y=\"20\"><mutation name=\"get_emitter_json_string\" functionid=\"wl4gQa3UZ6.xVo0mm@6e\"></mutation><field name=\"function_name\">get_emitter_json_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"3127\" y=\"20\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><field name=\"function_name\">get_json_message</field><value name=\"4myiiw27oit6n76z64li\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message_key</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">json_payload</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">json_payload</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message_key</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\":{\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YwtX-p!!@Inljnn]O0BH\">MSG_KEY_EMITTER</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\":</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_json_string\" functionid=\"wl4gQa3UZ6.xVo0mm@6e\"></mutation></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">, \"payload\":</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">json_payload</field></block></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message_key</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\":{\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YwtX-p!!@Inljnn]O0BH\">MSG_KEY_EMITTER</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\":</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_json_string\" functionid=\"wl4gQa3UZ6.xVo0mm@6e\"></mutation></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1207\"><mutation name=\"tournament_start\" functionid=\"HuObRkZ*k-7([%0G+m/X\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"354\" y=\"1207\"><mutation name=\"send_acknowledge\" functionid=\"f.6:1EDiByAOC:eQ`%uH\"><arg name=\"message\" id=\"w819qu8l9ysmsb792qu\" type=\"string\"></arg></mutation><field name=\"function_name\">send_acknowledge</field><comment pinned=\"false\" h=\"80\" w=\"160\">send acknowledgement of message received</comment><value name=\"w819qu8l9ysmsb792qu\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><value name=\"4myiiw27oit6n76z64li\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"SP0d~H2Ja8frY+l{Iig^\">MSG_KEY_ACKNOWLEDGE</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1051\" y=\"1207\"><mutation name=\"tournament_stop\" functionid=\"ph?OR^;6XA2|Y*X/bo5#\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><value name=\"t41f1583ckoxr4os24s7\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"tsge4l0s4pjrr032cy2f9\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: stop</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"1492\" y=\"1207\"><mutation name=\"on_received_message\" functionid=\"5gu85J}j)$7EaX8oT$y4\"><arg name=\"messsage\" id=\"4512xrpv7l9mpjsd5sick\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"4512xrpv7l9mpjsd5sick\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><value name=\"t41f1583ckoxr4os24s7\"><shadow type=\"text\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"tsge4l0s4pjrr032cy2f9\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">messsage</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2309\" y=\"1207\"><mutation name=\"increment_radio_group\" functionid=\".]VO%pYyGZ/(oXgGIe6U\"><arg name=\"increment\" id=\"5q1dsjy58jntnx8onj1g\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"5q1dsjy58jntnx8onj1g\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7+Cx_HPniM/MWmMB:%uh\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_#{WL^+*IzAp=H9G]8oL\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_#{WL^+*IzAp=H9G]8oL\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7+Cx_HPniM/MWmMB:%uh\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><value name=\"t41f1583ckoxr4os24s7\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"tsge4l0s4pjrr032cy2f9\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field></block></value></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3250\" y=\"1207\"><mutation name=\"send_heart_beat\" functionid=\"`42q?N(*+PuRP?rTkanD\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><value name=\"4myiiw27oit6n76z64li\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X]NIs-DI)fB4=^cuA8wf\">MSG_KEY_HEARTBEAT</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1722\"><mutation name=\"do_safety\" functionid=\"2o$3u|dz`U#cn-_t#0.I\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><value name=\"t41f1583ckoxr4os24s7\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"tsge4l0s4pjrr032cy2f9\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: safety </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"485\" y=\"1722\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"t41f1583ckoxr4os24s7\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"tsge4l0s4pjrr032cy2f9\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><value name=\"4myiiw27oit6n76z64li\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mnj?ws~RF2;Op^IFOjuT\">MSG_KEY_LOG</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"level\":\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1238\" y=\"1722\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"gfu105ealo402uj54p37\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ao;GL|z?f`8!H*^MUd,3\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AP(Fn_hQ~Gnjd|I~Z3b4\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ne7w-,[g,h0jN;dP)EY*\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"2007\" y=\"1722\"><mutation name=\"send_status\" functionid=\"m@#rI|Q/;0A.LbbSA)2@\"><arg name=\"status\" id=\"glkq626teij1bvfdkpgvd\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send status</comment><value name=\"glkq626teij1bvfdkpgvd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><value name=\"4myiiw27oit6n76z64li\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ia@XEIOadAs5EttKZ+n]\">MSG_KEY_STATUS</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">status</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2656\" y=\"1722\"><mutation name=\"get_bot_info_string\" functionid=\"JZ@3z|Rd![yW%DZA-?ve\"></mutation><field name=\"function_name\">get_bot_info_string</field><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B*0Zy,^E(aZ4:JL/O3|}\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qi(?G!ym-NM?Z+c-#Fp_\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZR;3G_e(1^G80:csUGjJ\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"3218\" y=\"1722\"><mutation name=\"register_controller\" functionid=\"fo,sOGtKe?dT{fzU|e^b\"><arg name=\"name\" id=\"qoaav7417jkvhef6zwma\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"qoaav7417jkvhef6zwma\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\":DsffWQ;)6,|cA[mTZyk\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"2aSl.s-~Q0-^XLugN^OD\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\":DsffWQ;)6,|cA[mTZyk\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value><next><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_json_string\" functionid=\"wl4gQa3UZ6.xVo0mm@6e\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></next></block></statement"],[1,"%NJV@fu*vC!n/e!5K0_5\">controller_name</variable><variable id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</variable><variable id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</variable><variable id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</variable><variable id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</variable><variable id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</variable><variable id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</variable><variable id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</variable><variable id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</variable><variable id=\"OLsWWU/zq0Ni6%mLA*jq\">MSG_KEY_HEARTBEAT</variable><variable id=\"j*0[0xluOA}%2PzXI9`q\">MSG_KEY_ACKNOWLEDGE</variable><variable id=\"BoG}mOz98Ed]Xa?SmWlX\">MSG_KEY_LOG</variable><variable id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</variable></variables><block type=\"control_in_background\" collapsed=\"true\" x=\"561\" y=\"-53\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"NeVajF2ceUW;=7^o?=Oz\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" collapsed=\"true\" x=\"830\" y=\"-53\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><value name=\"4z66fix02f2lv94gogle\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"pxt-on-start\" collapsed=\"true\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"OLsWWU/zq0Ni6%mLA*jq\">MSG_KEY_HEARTBEAT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">heartbeat</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"j*0[0xluOA}%2PzXI9`q\">MSG_KEY_ACKNOWLEDGE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"BoG}mOz98Ed]Xa?SmWlX\">MSG_KEY_LOG</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">status</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" collapsed=\"true\" x=\"1163\" y=\"-53\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><value name=\"4z66fix02f2lv94gogle\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"1496\" y=\"-53\"></block><block type=\"radio_on_string_drag\" collapsed=\"true\" x=\"1701\" y=\"-53\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><value name=\"d409sr1vkpo6zu51umbcl\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value></block></statement></block><block type=\"serial_on_data_received\" collapsed=\"true\" x=\"2114\" y=\"-53\"><comment pinned=\"false\" h=\"80\" w=\"160\">Ypu can use message over serial  to test your code</comment><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><value name=\"d409sr1vkpo6zu51umbcl\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"serial_read_line\"></block></value></block></statement></block><block type=\"function_definition\" x=\"2543\" y=\"-53\"><mutation name=\"tournament_start\" functionid=\"=I=Qpy_Xa5Zf%UMe{GR$\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"418\" y=\"273\"><mutation name=\"send_acknowledge\" functionid=\"-axg}]mf@K-;ntJg.Rkg\"><arg name=\"message\" id=\"cf1=W{NT((9`/s{ZP9yl\" type=\"string\"></arg></mutation><field name=\"function_name\">send_acknowledge</field><value name=\"cf1=W{NT((9`/s{ZP9yl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value></block><block type=\"function_call\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"552\" y=\"539\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VALUE\">messsage</field></block></value></block></value></block><block type=\"function_definition\" x=\"-37\" y=\"840\"><mutation name=\"tournament_stop\" functionid=\"x@aBk99-c07/?)0=sfI?\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: stop</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"404\" y=\"840\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"d409sr1vkpo6zu51umbcl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">messsage</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1173\" y=\"840\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"4z66fix02f2lv94gogle\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2114\" y=\"840\"><mutation name=\"send_heart_beat\" functionid=\"NeVajF2ceUW;=7^o?=Oz\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2867\" y=\"840\"><mutation name=\"do_safety\" functionid=\"ADzLL@)2cdcdiV!JnsaM\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: safety </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"-37\" y=\"1355\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"psfielc31uool2gm38ktcp\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{log\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"450\" y=\"1355\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"og6lrsaamvernj4fog43\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1219\" y=\"1355\"><mutation name=\"send_status\" functionid=\"b_xg,/+xXsfPFNkQY(Ql\"><arg name=\"status\" id=\"ohi9zvtb5qmwyjy0sk4bh\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"ohi9zvtb5qmwyjy0sk4bh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\":{\"emitter\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">, \"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1948\" y=\"1355\"><mutation name=\"get_bot_info_string\" functionid=\"[I8zgKfky5l-hGjNP}`3\"></mutation><field name=\"function_name\">get_bot_info_string</field><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2510\" y=\"1355\"><mutation name=\"register_controller\" functionid=\"@QZPMg522lurTIodMOQo\"><arg name=\"name\" id=\"f9mk7d62qk0yug3cmz3i\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"f9mk7d62qk0yug3cmz3i\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value><next><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"-37\" y=\"1950\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value"],[0,"></b"]],"start1":76,"start2":76,"length1":35434,"length2":31196}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"et_json_"],[-1,"string"],[1,"message"],[0,"(message"]],"start1":198,"start2":198,"length1":22,"length2":23},{"diffs":[[0,"sage: string) {\n"],[1,"    \n"],[0,"    emit_message"]],"start1":649,"start2":649,"length1":32,"length2":37},{"diffs":[[0,"essage(get_json_"],[-1,"string"],[1,"message"],[0,"(MSG_KEY_ACKNOWL"]],"start1":680,"start2":680,"length1":38,"length2":39},{"diffs":[[0,"//  "],[-1,"S"],[1,"s"],[0,"end "],[-1,"status"],[1,"acknowledgement of message received"],[0,"\nfun"]],"start1":738,"start2":738,"length1":19,"length2":48},{"diffs":[[0,"atus: string) {\n"],[1,"    \n"],[0,"    emit_message"]],"start1":806,"start2":806,"length1":32,"length2":37},{"diffs":[[0,"essage(get_json_"],[-1,"string"],[1,"message"],[0,"(MSG_KEY_STATUS,"]],"start1":837,"start2":837,"length1":38,"length2":39},{"diffs":[[0,"rt_beat() {\n"],[1,"    \n"],[0,"    emit_mes"]],"start1":926,"start2":926,"length1":24,"length2":29},{"diffs":[[0,"essage(get_json_"],[-1,"string"],[1,"message"],[0,"(MSG_KEY_HEARTBE"]],"start1":953,"start2":953,"length1":38,"length2":39},{"diffs":[[0,"\n}\n\n//  "],[-1,"Send"],[1,"Format"],[0," log mes"]],"start1":1000,"start2":1000,"length1":20,"length2":22},{"diffs":[[0," message"],[1," with microbit name and time stamp in prefix"],[0,"\nfunctio"]],"start1":1018,"start2":1018,"length1":16,"length2":60},{"diffs":[[0,"ing, message"],[1,"2"],[0,": string) {\n"]],"start1":1099,"start2":1099,"length1":24,"length2":25},{"diffs":[[0,"age("],[-1,"get_json_string(MSG_KEY_LOG, \"{"],[1,"\"{log\\\":\" + get_emitter_json_string() + \", "],[0,"\\\"le"]],"start1":1137,"start2":1137,"length1":39,"length2":51},{"diffs":[[0," message"],[1,"2"],[0," + \"\\\"}\""]],"start1":1229,"start2":1229,"length1":16,"length2":17},{"diffs":[[0,"\"}\")"],[-1,")"],[0,"\n}\n\n//  "],[-1,"Button A in"],[1,"You can use message over serial  to test your code\nserial.onDataReceived(serial.delimiters(Delimiters.NewLine), function on_data_received() {\n    on_received_message(serial.readLine())\n})\n//  Button B de"],[0,"crem"]],"start1":1243,"start2":1243,"length1":28,"length2":219},{"diffs":[[0,"o group "],[1,"(0-16)"],[0,"\ninput.o"]],"start1":1475,"start2":1475,"length1":16,"length2":22},{"diffs":[[0,"(Button."],[-1,"A"],[1,"B"],[0,", functi"]],"start1":1511,"start2":1511,"length1":17,"length2":17},{"diffs":[[0,"pressed_"],[-1,"a"],[1,"b"],[0,"() {\n   "]],"start1":1541,"start2":1541,"length1":17,"length2":17},{"diffs":[[0,"    "],[-1,"\n    \n    basic.showNumber("],[1,"increment_"],[0,"radi"]],"start1":1555,"start2":1555,"length1":35,"length2":18},{"diffs":[[0,"ment_radio_group"],[1,"(1"],[0,")\n})\n//  Button "]],"start1":1564,"start2":1564,"length1":32,"length2":34},{"diffs":[[0,")\n})\n//  Button "],[-1,"B de"],[1,"A in"],[0,"crements the rad"]],"start1":1582,"start2":1582,"length1":36,"length2":36},{"diffs":[[0,"io group"],[1," (0-16)"],[0,"\ninput.o"]],"start1":1618,"start2":1618,"length1":16,"length2":23},{"diffs":[[0,"nPressed(Button."],[-1,"B"],[1,"A"],[0,", function on_bu"]],"start1":1647,"start2":1647,"length1":33,"length2":33},{"diffs":[[0,"_button_pressed_"],[-1,"b"],[1,"a"],[0,"() {\n    increme"]],"start1":1677,"start2":1677,"length1":33,"length2":33},{"diffs":[[0,"oup("],[-1,"-"],[0,"1)\n"],[-1,"    \n    basic.showNumber(radio_group)\n"],[0,"})\n/"]],"start1":1721,"start2":1721,"length1":51,"length2":11},{"diffs":[[0,"he S"],[-1,"AFETY "],[1,"TART"],[0," req"]],"start1":1763,"start2":1763,"length1":14,"length2":12},{"diffs":[[0,"nament_s"],[-1,"afety"],[1,"tart"],[0,"() {\n   "]],"start1":1809,"start2":1809,"length1":21,"length2":20},{"diffs":[[0,"    "],[-1,"\n    send_log(LOG_LEVEL_INFO, \"safety! \""],[1,"//  implement your own code here\n    basic.showIcon(IconNames.Yes"],[0,")\n}\n"]],"start1":1826,"start2":1826,"length1":48,"length2":73},{"diffs":[[0," to handle the S"],[-1,"TART"],[1,"AFETY "],[0," request from co"]],"start1":1920,"start2":1920,"length1":36,"length2":38},{"diffs":[[0,"ion "],[-1,"tournament_start() {\n    "],[1,"do_safety() {\n    basic.showIcon(IconNames.House)"],[0,"\n   "]],"start1":1972,"start2":1972,"length1":33,"length2":57},{"diffs":[[0,"log("],[-1,"LOG_LEVEL_"],[1,"\""],[0,"INFO"],[1,"\""],[0,", \""],[-1,"start! \")\n}\n\n//  implement your own code here"],[1,"ackmowledge: safety \")\n}\n"],[0,"\nrad"]],"start1":2035,"start2":2035,"length1":70,"length2":42},{"diffs":[[0,"\n}\n\n"],[-1,"//  You can use message over serial  to test your code\nserial.onDataReceived(serial.delimiters(Delimiters.NewLine), function on_data_received() {\n    on_received_message(serial.readLine())\n})\n"],[0,"func"]],"start1":3259,"start2":3259,"length1":200,"length2":8},{"diffs":[[0,"p)))\n}\n\n"],[1,"//  Add your code in to handle the STOP request from controller\nfunction tournament_stop() {\n    //  implement your own code here\n    basic.showIcon(IconNames.No)\n    send_log(\"INFO\", \"ackmowledge: stop\")\n}\n\n"],[0,"let bot_"]],"start1":3595,"start2":3595,"length1":16,"length2":224},{"diffs":[[0,"KEY_"],[-1,"EMITTER = \"\"\nlet MSG_KEY_STATUS = \"\"\nlet MSG_KEY_LOG = \"\"\nlet MSG_KEY_ACKNOWLEDGE = \"\"\nlet MSG_KEY_HEARTBEAT = \"\"\n"],[1,"STATUS = \"\"\nlet "],[0,"MSG_"]],"start1":4139,"start2":4139,"length1":122,"length2":24},{"diffs":[[0,"rtbeat\"\n"],[1,"let "],[0,"MSG_KEY_"]],"start1":4183,"start2":4183,"length1":16,"length2":20},{"diffs":[[0,"= \"acknowledge\"\n"],[1,"let "],[0,"MSG_KEY_LOG = \"a"]],"start1":4215,"start2":4215,"length1":32,"length2":36},{"diffs":[[0,"status\"\n"],[1,"let "],[0,"MSG_KEY_"]],"start1":4281,"start2":4281,"length1":16,"length2":20},{"diffs":[[0,"er\"\n"],[-1,"let LOG_LEVEL_INFO = \"info\"\nlet LOG_LEVEL_DEBUG = \"debug\"\nlet LOG_LEVEL_WARNING = \"warning\"\nlet LOG_LEVEL_ERROR = \"error\"\n"],[0,"bot_"]],"start1":4317,"start2":4317,"length1":130,"length2":8}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"et_json_"],[-1,"string"],[1,"message"],[0,"(message"]],"start1":182,"start2":182,"length1":22,"length2":23},{"diffs":[[0,"age_key:"],[-1," "],[0,"str, jso"]],"start1":202,"start2":202,"length1":17,"length2":16},{"diffs":[[0,"payload:"],[-1," "],[0,"str):\n  "]],"start1":220,"start2":220,"length1":17,"length2":16},{"diffs":[[0,"payload)"],[-1," > "],[1,">"],[0,"0:\n     "]],"start1":250,"start2":250,"length1":19,"length2":17},{"diffs":[[0,"    return \"{\\\"\""],[-1," + "],[1,"+"],[0,"message_key + \"\\"]],"start1":266,"start2":266,"length1":35,"length2":33},{"diffs":[[0,"+message_key"],[-1," + "],[1,"+"],[0,"\"\\\":{\\\"\""],[-1," + "],[1,"+"],[0,"MSG_KEY_EMIT"]],"start1":282,"start2":282,"length1":38,"length2":34},{"diffs":[[0,"+MSG_KEY_EMITTER"],[-1," + "],[1,"+"],[0,"\"\\\":\" + get_emit"]],"start1":303,"start2":303,"length1":35,"length2":33},{"diffs":[[0,"load\\\":\""],[-1," + "],[1,"+"],[0,"json_pay"]],"start1":364,"start2":364,"length1":19,"length2":17},{"diffs":[[0,"_payload"],[-1," + "],[1,"+"],[0,"\"}\"\n    "]],"start1":377,"start2":377,"length1":19,"length2":17},{"diffs":[[0,"rn \"{\\\"\""],[-1," + "],[1,"+"],[0,"message_"]],"start1":412,"start2":412,"length1":19,"length2":17},{"diffs":[[0,"_key"],[-1," + "],[1,"+"],[0,"\"\\\":{\\\"\""],[-1," + "],[1,"+"],[0,"MSG_"]],"start1":428,"start2":428,"length1":22,"length2":18},{"diffs":[[0,"_EMITTER"],[-1," + "],[1,"+"],[0,"\"\\\":\" + "]],"start1":449,"start2":449,"length1":19,"length2":17},{"diffs":[[0," + \"}\"\n\n"],[-1,"\n"],[0,"# send a"]],"start1":491,"start2":491,"length1":17,"length2":16},{"diffs":[[0,"(message: str):\n"],[1,"    global MSG_KEY_ACKNOWLEDGE\n"],[0,"    emit_message"]],"start1":562,"start2":562,"length1":32,"length2":63},{"diffs":[[0,"essage(get_json_"],[-1,"string"],[1,"message"],[0,"(MSG_KEY_ACKNOWL"]],"start1":619,"start2":619,"length1":38,"length2":39},{"diffs":[[0,"sage"],[1," "],[0,"))\n"],[1,"    \n"],[0,"# "],[-1,"S"],[1,"s"],[0,"end "],[-1,"status"],[1,"acknowledgement of message received"],[0,"\ndef"]],"start1":667,"start2":667,"length1":24,"length2":59},{"diffs":[[0,"s(status: str):\n"],[1,"    global MSG_KEY_STATUS\n"],[0,"    emit_message"]],"start1":737,"start2":737,"length1":32,"length2":58},{"diffs":[[0,"essage(get_json_"],[-1,"string"],[1,"message"],[0,"(MSG_KEY_STATUS,"]],"start1":789,"start2":789,"length1":38,"length2":39},{"diffs":[[0,", status"],[1," "],[0,"))\n"],[1,"\n"],[0,"# Send h"]],"start1":827,"start2":827,"length1":19,"length2":21},{"diffs":[[0,"art_beat():\n"],[1,"    global MSG_KEY_HEARTBEAT\n"],[0,"    emit_mes"]],"start1":869,"start2":869,"length1":24,"length2":53},{"diffs":[[0,"essage(get_json_"],[-1,"string"],[1,"message"],[0,"(MSG_KEY_HEARTBE"]],"start1":920,"start2":920,"length1":38,"length2":39},{"diffs":[[0,"BEAT, \"\""],[1," "],[0,"))\n\n# "],[-1,"Send"],[1,"Format"],[0," log mes"]],"start1":957,"start2":957,"length1":26,"length2":29},{"diffs":[[0," message"],[1," with microbit name and time stamp in prefix"],[0,"\ndef sen"]],"start1":982,"start2":982,"length1":16,"length2":60},{"diffs":[[0,"str, message"],[1,"2"],[0,": str):\n    "]],"start1":1055,"start2":1055,"length1":24,"length2":25},{"diffs":[[0,"et_json_"],[-1,"string"],[1,"message"],[0,"(MSG_KEY"]],"start1":1094,"start2":1094,"length1":22,"length2":23},{"diffs":[[0,"KEY_"],[-1,"LOG,\n            \"{"],[1,"HEARTBEAT, \"\" ))\n    emit_message(\"{log\\\":\" + get_emitter_json_string() + \", "],[0,"\\\"le"]],"start1":1114,"start2":1114,"length1":27,"length2":85},{"diffs":[[0," message"],[1,"2"],[0," + \"\\\"}\""]],"start1":1240,"start2":1240,"length1":16,"length2":17},{"diffs":[[0,"\"}\")"],[-1,")    \n\n# Button A increments the radio group \ndef on_button_pressed_a():\n    global radio_group\n    global radio_group\n    basic.show_number(radio_group)\n\ninput.on_button_pressed(Button.A, on_button_pressed_a"],[1,"\n\n\n# You can use message over serial  to test your code\ndef on_data_received():\n    on_received_message(serial.read_line())\nserial.on_data_received(serial.delimiters(Delimiters.NEW_LINE), on_data_received"],[0,")\n\n#"]],"start1":1254,"start2":1254,"length1":216,"length2":212},{"diffs":[[0,"io group"],[1," (0-16)"],[0,"\ndef on_"]],"start1":1494,"start2":1494,"length1":16,"length2":23},{"diffs":[[0,"oup("],[-1,"-"],[0,"1)\n"],[-1,"    global radio_group\n    basic.show_number(radio_group)\n\n"],[0,"inpu"]],"start1":1559,"start2":1559,"length1":71,"length2":11},{"diffs":[[0,"_b)\n"],[-1,"\n"],[0,"# "],[-1,"Add your code in to handle the SAFETY  request from controller\ndef tournament_safety():\n    global LOG_LEVEL_INFO\n    send_log(LOG_LEVEL_INFO, \"safety! \")"],[1,"Button A increments the radio group (0-16)\ndef on_button_pressed_a():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n"],[0,"\n# A"]],"start1":1617,"start2":1617,"length1":165,"length2":165},{"diffs":[[0,"():\n"],[-1,"    global LOG_LEVEL_INFO\n    send_log(LOG_LEVEL_INFO, \"start! \")\n"],[0,"    "]],"start1":1862,"start2":1862,"length1":74,"length2":8},{"diffs":[[0,"    "],[-1,"    \n        "],[1,"basic.show_icon(IconNames.YES)\n\n"],[0,"# Ad"]],"start1":1901,"start2":1901,"length1":21,"length2":40},{"diffs":[[0,"he S"],[-1,"TOP"],[1,"AFETY "],[0," req"]],"start1":1967,"start2":1967,"length1":11,"length2":14},{"diffs":[[0,"ler\n"],[-1,"        def tournament_stop():\n            # implement your own code here\n        "],[1,"def do_safety():\n"],[0,"    "]],"start1":1998,"start2":1998,"length1":90,"length2":25},{"diffs":[[0,"mes."],[-1,"NO"],[1,"HOUSE"],[0,")\n"],[-1,"        "],[0,"    "]],"start1":2045,"start2":2045,"length1":20,"length2":15},{"diffs":[[0,"e: s"],[-1,"top"],[1,"afety "],[0,"\")\n\n"],[1,"\n"],[0,"def "]],"start1":2088,"start2":2088,"length1":15,"length2":19},{"diffs":[[0,"tring)\n\n"],[-1,"\n"],[0,"# Regist"]],"start1":2221,"start2":2221,"length1":17,"length2":16},{"diffs":[[0,"ge)\n"],[-1,"\n# You can use message over serial  to test your code\n\ndef on_data_received():\n    on_received_message(serial.read_line())\nserial.on_data_received(serial.delimiters(Delimiters.NEW_LINE), on_data_received)\n\n"],[0,"def "]],"start1":3221,"start2":3221,"length1":214,"length2":8},{"diffs":[[0,"roup)))\n"],[1,"# Add your code in to handle the STOP request from controller\ndef tournament_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\n    send_log(\"INFO\", \"ackmowledge: stop\")\n\n"],[0,"\nbot_sta"]],"start1":3542,"start2":3542,"length1":16,"length2":213},{"diffs":[[0,"KEY_"],[-1,"EMITTER = \"\"\nMSG_KEY_STATUS = \"\"\nMSG_KEY_LOG = \"\"\nMSG_KEY_ACKNOWLEDGE = \"\"\nMSG_KEY_HEARTBEAT"],[1,"STATUS"],[0," = \""]],"start1":4024,"start2":4024,"length1":100,"length2":14},{"diffs":[[0,"status\"\n"],[1,"\n"],[0,"MSG_KEY_"]],"start1":4154,"start2":4154,"length1":16,"length2":17},{"diffs":[[0,"er\"\n"],[-1,"LOG_LEVEL_INFO=\"info\"\nLOG_LEVEL_DEBUG=\"debug\"\nLOG_LEVEL_WARNING=\"warning\"\nLOG_LEVEL_ERROR=\"error\"\n"],[0,"bot_"]],"start1":4187,"start2":4187,"length1":106,"length2":8}]}]},{"timestamp":1746719122150,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"BnB3aCuf6MBW=rf:ooaP\">MSG_KEY_EMITTER</variable><variable id=\"y~2|6w2C{%)xPYZ-{!Fg\">MSG_KEY_ACKNOWLEDGE</variable><variable id=\"X(rB.;?/Tg+G1=di{=mJ\">MSG_KEY_STATUS</variable><variable id=\"h%3J*W*b@{Y6w#@1d^%Z\">MSG_KEY_HEARTBEAT</variable><variable id=\"HCN;#TfqV|M%tQ!QG{]{\">MSG_KEY_LOG</variable><variable id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</variable><variable id=\"E)B3,2OGTa|XILQ*D*AS\">LOG_LEVEL_INFO</variable><variable id=\"dJq(T8nTsqx]rJiwl`Y{\">controller_name</variable><variable id=\"GCzdJ#xMkYyrTfz~lAxM\">CONTROLLER_UNDEFINED</variable><variable id=\"~v!of_vBI;5ns,n)1T$e\">bot_collected</variable><variable id=\"@.lFZw0kERXqs+{sJh|3\">bot_distance</variable><variable id=\"~Kl^Cexofk_og0pN9-y8\">bot_status</variable><variable id=\"OoqCu`sN_G,oiW2.Zh3D\">message_destination</variable><variable id=\"w@ZswX:WGdx4{rKVE[P*\">MESSAGE_DESTINATION_RADIO</variable><variable id=\".}5Xi]ll(T}CED9bC!01\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"%1noz#cm.rAh8p.}mr7w\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"kwOfBZ@z;9moS`-o?w:l\">RADIO_GROUP_MAX</variable><variable id=\"eX@3-35Q!bq9Qw[LCfm(\">RADIO_GROUP_MIN</variable><variable id=\"sdnYnpcJ%=jCr6n@isIO\">LOG_LEVEL_DEBUG</variable><variable id=\"xrJN[^{08[]Y,B@VBwu?\">LOG_LEVEL_WARNING</variable><variable id=\"d}|M1)82tI%0KH,fp[@d\">LOG_LEVEL_ERROR</variable></variables><block type=\"pxt-on-start\" id=\"BC0N|j~j,nb06ca7jBje\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\" id=\"SP=F2B_P{uyl6zAmx#J6\"><field name=\"VAR\" id=\"h%3J*W*b@{Y6w#@1d^%Z\">MSG_KEY_HEARTBEAT</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"q+R^UG-?y_moV7:O+!^p\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"U/,~A92Z`fd([)7o|PH4\"><field name=\"TEXT\">heartbeat</field></block></value><next><block type=\"variables_set\" id=\"C@7Yjb(!V!`|CE)qDdV1\"><field name=\"VAR\" id=\"y~2|6w2C{%)xPYZ-{!Fg\">MSG_KEY_ACKNOWLEDGE</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"wQk@Ykuh7@3n$69.eL{)\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"LCHqRB^#`shBUtC^@kOd\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\" id=\"w)HFMpBRSe+AZxZM=V~B\"><field name=\"VAR\" id=\"HCN;#TfqV|M%tQ!QG{]{\">MSG_KEY_LOG</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"W*|LNqN0N4mya_lVMb6h\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"NMHe9MMZy~x0$t.gKFj0\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\" id=\"=F}}xptdX%y}!kSv(?xR\"><field name=\"VAR\" id=\"X(rB.;?/Tg+G1=di{=mJ\">MSG_KEY_STATUS</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"kM+CPmTIl%75/{j~GV[o\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"Xu(y{IJv1D%W[-k@|]UW\"><field name=\"TEXT\">status</field></block></value><next><block type=\"variables_set\" id=\"yS^77[`})LKn|BaZ@ixX\"><field name=\"VAR\" id=\"BnB3aCuf6MBW=rf:ooaP\">MSG_KEY_EMITTER</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"vwH(~arMQqX^lQ!]2T]f\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"NV~?Jo{B)wx@;*D[ejaW\"><field name=\"TEXT\">emitter</field></block></value><next><block type=\"variables_set\" id=\"tA8?^N_@]f6CgZhWE;l`\"><field name=\"VAR\" id=\"E)B3,2OGTa|XILQ*D*AS\">LOG_LEVEL_INFO</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"2fzcf-8;QT,`Hnc[wx;4\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"#R*Lp2~}5|!mfW5:jxLz\"><field name=\"TEXT\">info</field></block></value><next><block type=\"variables_set\" id=\"5SO!QS6VRVTeg-zNA#:E\"><field name=\"VAR\" id=\"sdnYnpcJ%=jCr6n@isIO\">LOG_LEVEL_DEBUG</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"4l*GyLF3TMk#6_rl+YyR\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"IG{151dduQSqDmW6Xp,Q\"><field name=\"TEXT\">debug</field></block></value><next><block type=\"variables_set\" id=\"F1v^!yIN=#M9bs@B0dn-\"><field name=\"VAR\" id=\"xrJN[^{08[]Y,B@VBwu?\">LOG_LEVEL_WARNING</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"+s]8DPwep+(p.m!OF3Cu\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"*l44gbD+n+rbs^7)=HZ1\"><field name=\"TEXT\">warning</field></block></value><next><block type=\"variables_set\" id=\":)}Pvo*}J=-HZ%~C~tv`\"><field name=\"VAR\" id=\"d}|M1)82tI%0KH,fp[@d\">LOG_LEVEL_ERROR</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"XeT+!BBBx6X`P2*cBsVV\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"R,.wF^)JWs/FwGF)/%{t\"><field name=\"TEXT\">error</field></block></value><next><block type=\"variables_set\" id=\"vX2=@[^gG4h#mE8wrd=L\"><field name=\"VAR\" id=\"@.lFZw0kERXqs+{sJh|3\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"QD21GfHZM5%Tc|hS-ZI=\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"yjKf/jgZUY#6+e=ORpXl\"><field name=\"VAR\" id=\"~v!of_vBI;5ns,n)1T$e\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"xB$p?VPaeg?`S{oP366,\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\" id=\"XXG8]upOvOipE/{E!l7j\"><field name=\"VAR\" id=\"kwOfBZ@z;9moS`-o?w:l\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"[HG{O(.tE;vEpwO|vzK~\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\" id=\"xe70(+N=[Kr7Zj|oW[/F\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"n?Sv9hQ~ZdiYeh2dO{Ns\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"FIo~Uq;4.9B5[o]35g}7\"><field name=\"VAR\" id=\"eX@3-35Q!bq9Qw[LCfm(\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\" id=\"-M?nhktmWxydGWG9eKS2\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\" id=\"2Et*jhWTOfmUWse3AT4s\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\" id=\"blMAS%kk9vK,uM%^ob7n\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field></block></value><next><block type=\"variables_set\" id=\"#Mjr6U/4(I0^_L~2?wOf\"><field name=\"VAR\" id=\"w@ZswX:WGdx4{rKVE[P*\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"cN.Cy6@arA-nEY.9h{-,\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"Z-hqLwM@De}4s`pO-8el\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\" id=\"Q4~|,K=P%7;l?yLWse0T\"><field name=\"VAR\" id=\".}5Xi]ll(T}CED9bC!01\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"fJ9bw1=Kjlof[GgC_?MT\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"D!Y{umM?(L}HOW+*ljxV\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\" id=\"tY2~!9k$(OQD9^s`0(YQ\"><field name=\"VAR\" id=\"%1noz#cm.rAh8p.}mr7w\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\",_yd|Ij^5BeFk^w1vv(s\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"~E.ghZP7e_~g9/Ib|]=2\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\" id=\"lS=1h9L3-rG]o)R{kc1i\"><field name=\"VAR\" id=\"OoqCu`sN_G,oiW2.Zh3D\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\" id=\"JmiF}EA!s4PVOxH$:XX@\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"/@49r#5%{Br3Q]2ZvgD)\"><field name=\"VAR\" id=\"w@ZswX:WGdx4{rKVE[P*\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\" id=\"ln0EKN+I}//:5;W=wuJU\"><field name=\"VAR\" id=\"GCzdJ#xMkYyrTfz~lAxM\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"#{fiK|}Zl_.:(?a]zBTQ\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"JC@AJC?!1hMH*]*/3r2;\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\" id=\"mS(OSR{f]2?n6db8ei9`\"><field name=\"VAR\" id=\"dJq(T8nTsqx]rJiwl`Y{\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\" id=\"q#V$4Sx(S^f^eVj]a:Z#\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"D9Fg[i/BFrP?k2]0_?L7\"><field name=\"VAR\" id=\"GCzdJ#xMkYyrTfz~lAxM\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\" id=\"bU|HM$[I,kO%dV3?wvra\"><field name=\"VAR\" id=\"~Kl^Cexofk_og0pN9-y8\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"_mVu[~KhI|tA.IBG6:l`\"><field name=\"NUM\">0</field></shadow><block type=\"text\" id=\"2zvkR;6[PaUFL?}ckb*Y\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"control_in_background\" id=\"K0yxb_.{2q`X^`M.Y/!0\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\" id=\"EG3=3J~BpvJB_B?PH{y)\"><value name=\"COND\"><shadow type=\"logic_boolean\" id=\"keYKu@bxDX.HT^MeR6d8\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\" id=\"kS;Y7JuqTJV@|%!`/.C`\"><value name=\"micros\"><shadow type=\"math_number_minmax\" id=\":ofW=`!Tkyw4)[2nSltm\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\" id=\":m#pvrz!;~*MV%2d0;f7\"><mutation name=\"send_heart_beat\" functionid=\",:VHtBNL1S[RT`QxxgR5\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" id=\"eKQ=d!0k}b8t0EfHF4%#\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group</comment><statement name=\"HANDLER\"><block type=\"device_show_number\" id=\"A~/hkcETP5cDDp__/)mK\"><value name=\"number\"><block type=\"variables_get\" id=\":Wq,3wtwE7_3mM8}/1.H\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field></block></value></block></statement></block><block type=\"device_button_event\" id=\"f)Mt(_YXT=_Qn9%(/_~S\" x=\"1192\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group</comment><statement name=\"HANDLER\"><block type=\"function_call\" id=\"w^[dA{cC(XZ134Dz%0x8\"><mutation name=\"increment_radio_group\" functionid=\"w@dCN=/+G96pOC~|+Y^l\"><arg name=\"increment\" id=\"90q64jxn8x55yg4elv1zme\" type=\"number\"></arg></mutation><value name=\"90q64jxn8x55yg4elv1zme\"><shadow type=\"math_number\" id=\"cpgZyk1XjMYAti;1IJku\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"device_show_number\" id=\"J9p,Ss+cDq%*_lpe_spq\"><value name=\"number\"><block type=\"variables_get\" id=\"9RauztCuc6Yjz?5[cp5#\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field></block></value></block></next></block></statement></block><block type=\"device_forever\" id=\"MR,Kz,KnWc^{8JT8VEI?\" x=\"1525\" y=\"20\"></block><block type=\"radio_on_string_drag\" id=\"yEhcrUbGZpQG(1081~W]\" x=\"1730\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\" id=\"{Io)4[fBsY%rXs@LHMkt\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"function_call\" id=\"9J|{VN71(tZLbs8op_]M\"><mutation name=\"on_received_message\" functionid=\"-=U?u{o,;ai?I,:9`/k]\"><arg name=\"messsage\" id=\"eo56jodcv7jrmv1cw2nbol\" type=\"string\"></arg></mutation><value name=\"eo56jodcv7jrmv1cw2nbol\"><shadow type=\"text\" id=\"r!sIaKU~on7aI`Lb~.x4\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\" id=\"TS3?G#p$i6^^]J[lG,v5\"><field name=\"VALUE\">receivedString</field></block></value></block></statement></block><block type=\"serial_on_data_received\" id=\"PMoO7[az83*P3Cf[WHy-\" x=\"2143\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">You can use message over serial  to test your code</comment><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\" id=\"-UVqyp04[:UXVh.{Hw[I\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\" id=\"jo3I3YEy9x5_N|MuGws:\"><mutation name=\"on_received_message\" functionid=\"-=U?u{o,;ai?I,:9`/k]\"><arg name=\"messsage\" id=\"eo56jodcv7jrmv1cw2nbol\" type=\"string\"></arg></mutation><value name=\"eo56jodcv7jrmv1cw2nbol\"><shadow type=\"text\" id=\"?(~JJ|D6O/eXQ4{?U08r\"><field name=\"TEXT\">abc</field></shadow><block type=\"serial_read_line\" id=\"k-A`:ELEVF56N@i@ORxe\"></block></value></block></statement></block><block type=\"function_definition\" id=\"-qd,(sr/n*pcI6gbL/xM\" x=\"2572\" y=\"20\"><mutation name=\"get_json_string\" functionid=\"ZI%mr2?3Lmd[Hb/Bpun_\"><arg name=\"message_key\" id=\"wu539zixfjut1cqhd6d2s\" type=\"string\"></arg><arg name=\"json_payload\" id=\"yd8pmhujoic82oc8tvhu\" type=\"string\"></arg></mutation><field name=\"function_name\">get_json_string</field><value name=\"wu539zixfjut1cqhd6d2s\"><block type=\"argument_reporter_string\" id=\"TvqPk@8Z@/)yd()ivQo9\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message_key</field></block></value><value name=\"yd8pmhujoic82oc8tvhu\"><block type=\"argument_reporter_string\" id=\"tu^`0AN_h;0`ch%dGnYg\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">json_payload</field></block></value><statement name=\"STACK\"><block type=\"controls_if\" id=\"G19Xt`@`,::#-c0b.B2f\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"0fD6B-|hgmnWO^4o3|![\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"0{C)z2E?WtyGRxeoAL99\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\" id=\"#,.BVPD9{6eu/A,{9B4k\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\" id=\".BNq)i9,%y7D*w1Sz=?e\"><value name=\"VALUE\"><block type=\"argument_reporter_string\" id=\"Kct)?}|w-8huq-6Etr:9\"><field name=\"VALUE\">json_payload</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"[RMKw7W@3S8M!Q71[OUV\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\" id=\"1{4hRKbePLHG}c.DTq},\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\" id=\"K)^J-}F%O!fMaBf+)KP0\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" id=\"}91#_S@Y$P[Q`sd:/DD~\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"%d28n;#5czaDX`1!2DoO\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"yl8!P:JC#f1]XCvL1@lh\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" id=\"YB!2C6{!`foIf5J{$/56\"><field name=\"VALUE\">message_key</field></block></value><value name=\"ADD2\"><shadow type=\"text\" id=\"9**K+}2rxrMvs3:]z!f6\"><field name=\"TEXT\">\":{\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\" id=\"H?q{(e4#OY5Nd~;;oK-t\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"y1{GjnTZB|YBKlQSC|0^\"><field name=\"VAR\" id=\"BnB3aCuf6MBW=rf:ooaP\">MSG_KEY_EMITTER</field></block></value><value name=\"ADD4\"><shadow type=\"text\" id=\"O[3SZWLVu|FluhSC.+a(\"><field name=\"TEXT\">\":</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\" id=\"h_eo~m}OT4aY67[X,*01\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\" id=\"4[@j@Zd[$1)s]-9XzTv^\"><mutation name=\"get_emitter_json_string\" functionid=\"in5M[~L_JTS]?ByzIsz(\"></mutation></block></value><value name=\"ADD6\"><shadow type=\"text\" id=\"Mz/-(c^FB9yVN0z8eRR_\"><field name=\"TEXT\">, \"payload\":</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\" id=\"-gC7-B.J1;+aVYk=By]?\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" id=\"AICq!s-P1PC|jZgC(N-:\"><field name=\"VALUE\">json_payload</field></block></value><value name=\"ADD8\"><shadow type=\"text\" id=\"LPg]xi+.(BGIHERs5s;0\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"function_return\" id=\"8i0b@gy!3?3H!%wAir#B\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\" id=\"Po3^1PpI$`8s{bL[`*IB\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" id=\"9z*`9_X9@@0%,}+H:8(2\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"6*bJ$7XovB)D/`FB7wcD\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"FQ=8#z~FmI]yUo+w/L1=\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" id=\"(9Ea]{8kHJ+U??fRd}(D\"><field name=\"VALUE\">message_key</field></block></value><value name=\"ADD2\"><shadow type=\"text\" id=\"C^C8*Fn=ZGdkQt`W5-A]\"><field name=\"TEXT\">\":{\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\" id=\"9GxF}uwa0Z42tKbL!fZ@\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"VwYqaHs9r,lsGGD)3+9q\"><field name=\"VAR\" id=\"BnB3aCuf6MBW=rf:ooaP\">MSG_KEY_EMITTER</field></block></value><value name=\"ADD4\"><shadow type=\"text\" id=\"0F)vQGCckr2vD!:SrS2O\"><field name=\"TEXT\">\":</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\" id=\"=K8aElV*oVskdn:cVqI3\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\" id=\"=VMD/rQiq-ec20Ocwv|n\"><mutation name=\"get_emitter_json_string\" functionid=\"in5M[~L_JTS]?ByzIsz(\"></mutation></block></value><value name=\"ADD6\"><shadow type=\"text\" id=\"KI46ys#C:Q9RJUOn7(%P\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" id=\"ew2*@H]{0]r5}+7k!xcR\" x=\"3121\" y=\"20\"><mutation name=\"tournament_safety\" functionid=\"pb0i2`bXXSFQ3F:zH*_L\"></mutation><field name=\"function_name\">tournament_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"function_call\" id=\"{dR%!?m.DIiTLJ9dKjbD\"><mutation name=\"send_log\" functionid=\"l:L027O42eD=d3cvQCTq\"><arg name=\"level\" id=\"abs37itzt2z47mol6bue\" type=\"string\"></arg><arg name=\"message\" id=\"iysouomls9bxooi2axy\" type=\"string\"></arg></mutation><value name=\"abs37itzt2z47mol6bue\"><shadow type=\"text\" id=\"#]+ES0|tN=^ZbaN@NxGx\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"Tz#k~KdZ,pI1Y).!BOb,\"><field name=\"VAR\" id=\"E)B3,2OGTa|XILQ*D*AS\">LOG_LEVEL_INFO</field></block></value><value name=\"iysouomls9bxooi2axy\"><shadow type=\"text\" id=\"-};-?ENT7xSs;,lCI1GS\"><field name=\"TEXT\">safety! </field></shadow></value></block></statement></block><block type=\"function_definition\" id=\"}8{j:bj!x$U-1T`bVE7Z\" x=\"20\" y=\"1207\"><mutation name=\"get_emitter_json_string\" functionid=\"in5M[~L_JTS]?ByzIsz(\"></mutation><field name=\"function_name\">get_emitter_json_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\" id=\"FNU5du#nDgQbf4EJA,Nq\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\" id=\"}AG.d//06p/)UfnRJE^9\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" id=\"3/EF8(U4Vum$s9VXn*qV\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"m;A?(CZEq_aFlc$YR-m]\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"$jG$/fKdC#?_bHP70XNZ\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\" id=\"bEQt^t;~3,qEQZw!3@XK\"></block></value><value name=\"ADD2\"><shadow type=\"text\" id=\"k9DU.(`zY0]s^7qP#F{m\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\" id=\"A?`;Ts!$[7XE,]Kxiki~\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"xpnIbYt(+mBAeLjwJ;.Y\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"n/*H[!}n-+!C#[}4kD=q\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"PLhHA3VSS|]f@yx|o!aD\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"e_VzrRJJlZNP:2N|D5qt\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\" id=\"V.DG3^!a-,bLKTTGF^pU\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\" id=\"2`h=vvvUHy?jH.L*9#%u\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" id=\"Ozsfhk_cy=.`XgVr{wSS\" x=\"547\" y=\"1207\"><mutation name=\"tournament_start\" functionid=\"0,a]Q;aEqBx#=n:+S}?j\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"function_call\" id=\"UeSiIa;`ULuvyS~C=7rj\"><mutation name=\"send_log\" functionid=\"l:L027O42eD=d3cvQCTq\"><arg name=\"level\" id=\"abs37itzt2z47mol6bue\" type=\"string\"></arg><arg name=\"message\" id=\"iysouomls9bxooi2axy\" type=\"string\"></arg></mutation><value name=\"abs37itzt2z47mol6bue\"><shadow type=\"text\" id=\"!0BLS@~h1rQy_ih6!IZj\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\")!B4etv1~QqJ7lLB/-vs\"><field name=\"VAR\" id=\"E)B3,2OGTa|XILQ*D*AS\">LOG_LEVEL_INFO</field></block></value><value name=\"iysouomls9bxooi2axy\"><shadow type=\"text\" id=\"4)r:CGtV(H+KDxHM9nj=\"><field name=\"TEXT\">start! </field></shadow></value></block></statement></block><block type=\"function_definition\" id=\":nA)_N;Z)V,1@[X5{m)P\" x=\"994\" y=\"1207\"><mutation name=\"send_acknowledge\" functionid=\"~g?B.5v$s5$yf$d!?.I1\"><arg name=\"message\" id=\"gtzs760bevdjp85k5adun\" type=\"string\"></arg></mutation><field name=\"function_name\">send_acknowledge</field><comment pinned=\"false\" h=\"80\" w=\"160\">send acknowledgement of message received</comment><value name=\"gtzs760bevdjp85k5adun\"><block type=\"argument_reporter_string\" id=\"r|8`c+$G?nQy%.UuFszq\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\" id=\"}U$M~BVr/xW~[$FV!]9I\"><mutation name=\"emit_message\" functionid=\"-%wFlhlAxO*GW|[-~{O_\"><arg name=\"msg\" id=\"o32h453f4xl1wihit0t85p\" type=\"string\"></arg></mutation><value name=\"o32h453f4xl1wihit0t85p\"><shadow type=\"text\" id=\"EvqZ.w^;yeMsr;L8(m)@\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\" id=\"35n)m,_8:)F_]E:#2.=d\"><mutation name=\"get_json_string\" functionid=\"ZI%mr2?3Lmd[Hb/Bpun_\"><arg name=\"message_key\" id=\"wu539zixfjut1cqhd6d2s\" type=\"string\"></arg><arg name=\"json_payload\" id=\"yd8pmhujoic82oc8tvhu\" type=\"string\"></arg></mutation><value name=\"wu539zixfjut1cqhd6d2s\"><shadow type=\"text\" id=\"BJ(-km|tKEFVw/V6_Ov2\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"hkYRZZ:lf8J*L3sL7,rp\"><field name=\"VAR\" id=\"y~2|6w2C{%)xPYZ-{!Fg\">MSG_KEY_ACKNOWLEDGE</field></block></value><value name=\"yd8pmhujoic82oc8tvhu\"><shadow type=\"text\" id=\"9tDryT,y1LFub].Tm,}3\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\" id=\"c2Q(k|dt$;X7f:W,[5Lt\"><field name=\"VALUE\">message</field></block></value></block></value></block></statement></block><block type=\"function_definition\" id=\"7#IN+/m~(!M,4SRoSF7^\" x=\"1683\" y=\"1207\"><mutation name=\"tournament_stop\" functionid=\":,zP$A:=i8NDw2UYT,X#\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here\nAdd your code in to handle the STOP req\nAdd your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"function_call\" id=\"T%0u?IjPpz|%Y~kz|RX!\"><mutation name=\"send_log\" functionid=\"l:L027O42eD=d3cvQCTq\"><arg name=\"level\" id=\"abs37itzt2z47mol6bue\" type=\"string\"></arg><arg name=\"message\" id=\"iysouomls9bxooi2axy\" type=\"string\"></arg></mutation><value name=\"abs37itzt2z47mol6bue\"><shadow type=\"text\" id=\"bIR7.vF=PZ%H,h$#[?#E\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"zIo[qT-oItw$[u{.{oKB\"><field name=\"VAR\" id=\"E)B3,2OGTa|XILQ*D*AS\">LOG_LEVEL_INFO</field></block></value><value name=\"iysouomls9bxooi2axy\"><shadow type=\"text\" id=\"4M;E(A7[;|RTG.efA)/C\"><field name=\"TEXT\">stop! </field></shadow></value></block></statement></block><block type=\"function_definition\" id=\"%Y!`CNt+_w*ZNU(]U:Dr\" x=\"2122\" y=\"1207\"><mutation name=\"on_received_message\" functionid=\"-=U?u{o,;ai?I,:9`/k]\"><arg name=\"messsage\" id=\"eo56jodcv7jrmv1cw2nbol\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"eo56jodcv7jrmv1cw2nbol\"><block type=\"argument_reporter_string\" id=\"`=Bt`O{iGU(:*ld6Op5R\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value><statement name=\"STACK\"><block type=\"function_call\" id=\"mNK9_lKnlBHrrp4zxA.]\"><mutation name=\"send_log\" functionid=\"l:L027O42eD=d3cvQCTq\"><arg name=\"level\" id=\"abs37itzt2z47mol6bue\" type=\"string\"></arg><arg name=\"message\" id=\"iysouomls9bxooi2axy\" type=\"string\"></arg></mutation><value name=\"abs37itzt2z47mol6bue\"><shadow type=\"text\" id=\"=Itz3?JA8yi0*)IB/R_8\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"iysouomls9bxooi2axy\"><shadow type=\"text\" id=\"SZ|EW=GlQa~I~q_WQi3#\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" id=\"d{URoIiz_6EXM8:o4[ma\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"z/T]VdJ2CoodMlwGXW)n\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"tizvt_Z.~=?4[wL,`}aH\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\" id=\"nn9rT:HLYhJG|5jsNjN6\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" id=\"L0OPIXe=JrP=$E(^I%#]\"><field name=\"VALUE\">messsage</field></block></value></block></value></block></statement></block><block type=\"function_definition\" id=\"4/mc2[5d:O4;HHB(V{6#\" x=\"2939\" y=\"1207\"><mutation name=\"increment_radio_group\" functionid=\"w@dCN=/+G96pOC~|+Y^l\"><arg name=\"increment\" id=\"90q64jxn8x55yg4elv1zme\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"90q64jxn8x55yg4elv1zme\"><block type=\"argument_reporter_number\" id=\"3X2#5z*m@`0E5rROV+{-\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\" id=\"hQ{oM3e9ua*pb~zTQ%k-\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"h$d1jAZ~vWxQNa;#+K98\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\" id=\"!DbuB!hn37Ym0f;wa1+A\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\" id=\"YG,6qrcQRw-{l[$QyeOm\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"B;-{`2cGTcn.ktfO8x/6\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"`mbt(:5Yr$xaiWvhO%D?\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\" id=\"u60yGQ#w-;-.$$sI$}p?\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"}0E?$`;D)o=|P`j|{mH1\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"PhR^{}AD-|7[HS+Rh?v}\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"#=VjWH7k6ig,pAJoKzNP\"><field name=\"VAR\" id=\"kwOfBZ@z;9moS`-o?w:l\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"S_upU?@%?|_BpSgHL-l}\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"h(]U+x1R4Yk@ACi8TJTH\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"|]193YU./$i5oFo)^Ko;\"><field name=\"VAR\" id=\"eX@3-35Q!bq9Qw[LCfm(\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\" id=\"6Vg?2uT7u}67k)t[{(Ju\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"MFdjG2mfV`Q-QOWl7^aB\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\" id=\"N;ZEAnC%C%m#chTL{M/,\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"DRqNo#UYL^R:bvqXihEB\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"WcWhlr~MRywisHsu{(CC\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"NqEaeWU.1%:g#b1dc%kb\"><field name=\"VAR\" id=\"eX@3-35Q!bq9Qw[LCfm(\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\" id=\"Xhoc/[)PZ.xOW{6H4OMW\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"Sy^S)OI[{3jo9[!}P]MH\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"W}}^56gDQ.kQJSFS#+e%\"><field name=\"VAR\" id=\"kwOfBZ@z;9moS`-o?w:l\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\" id=\"=M^;opP*HV3|f@D{4wrY\"><mutation name=\"send_log\" functionid=\"l:L027O42eD=d3cvQCTq\"><arg name=\"level\" id=\"abs37itzt2z47mol6bue\" type=\"string\"></arg><arg name=\"message\" id=\"iysouomls9bxooi2axy\" type=\"string\"></arg></mutation><value name=\"abs37itzt2z47mol6bue\"><shadow type=\"text\" id=\"_O[juDaR3[gtef%Vg({u\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"iysouomls9bxooi2axy\"><shadow type=\"text\" id=\"BN=P.?np]F@|8X^+*B]X\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" id=\"#%T}/z8dgvG|Px7c.+k?\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"iAk(BtGi/u5JS+U-CMEa\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"_jklGx0GHMLA_uqQNk$V\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"WU5Z.et0y|++ilq097WX\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"|Q@TDOfP53qe[D9JpIQk\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"$NRqXMWx?H^_sp[8tl5N\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"Z|?t!%^f=]Y@`z_@hLX@\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"~njsT3TfItAl~%~*vO4~\"><field name=\"VAR\" id=\"TFlYpwj3yHk[lToj]K(W\">radio_group</field></block></value></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" id=\"7U~F`!:n~C*CAFAJoBB=\" x=\"20\" y=\"1722\"><mutation name=\"send_heart_beat\" functionid=\",:VHtBNL1S[RT`QxxgR5\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\" id=\"Ymm9gm1GFQV+)s:*,*@{\"><mutation name=\"emit_message\" functionid=\"-%wFlhlAxO*GW|[-~{O_\"><arg name=\"msg\" id=\"o32h453f4xl1wihit0t85p\" type=\"string\"></arg></mutation><value name=\"o32h453f4xl1wihit0t85p\"><shadow type=\"text\" id=\"Pm;twdp/R=pae_w5E`fz\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\" id=\"S6ae|8CObF__|4lT^py.\"><mutation name=\"get_json_string\" functionid=\"ZI%mr2?3Lmd[Hb/Bpun_\"><arg name=\"message_key\" id=\"wu539zixfjut1cqhd6d2s\" type=\"string\"></arg><arg name=\"json_payload\" id=\"yd8pmhujoic82oc8tvhu\" type=\"string\"></arg></mutation><value name=\"wu539zixfjut1cqhd6d2s\"><shadow type=\"text\" id=\"~B0.l@qRh`;E=$:/=M%#\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"o@HOxVp/TdkFo4AWsd*_\"><field name=\"VAR\" id=\"h%3J*W*b@{Y6w#@1d^%Z\">MSG_KEY_HEARTBEAT</field></block></value><value name=\"yd8pmhujoic82oc8tvhu\"><shadow type=\"text\" id=\"_/e~Y$#P^#OdN:KUw/k{\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" id=\"yKd_44!wmF`6T)BFh|35\" x=\"653\" y=\"1722\"><mutation name=\"send_log\" functionid=\"l:L027O42eD=d3cvQCTq\"><arg name=\"level\" id=\"abs37itzt2z47mol6bue\" type=\"string\"></arg><arg name=\"message\" id=\"iysouomls9bxooi2axy\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send log message</comment><value name=\"abs37itzt2z47mol6bue\"><block type=\"argument_reporter_string\" id=\"CyGVK5~7vxp3iT9o2f4C\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"iysouomls9bxooi2axy\"><block type=\"argument_reporter_string\" id=\"$,*t_m(`T0,Ez$fmGeyE\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\" id=\"HuY)JYAvuu(1NAO814Pp\"><mutation name=\"emit_message\" functionid=\"-%wFlhlAxO*GW|[-~{O_\"><arg name=\"msg\" id=\"o32h453f4xl1wihit0t85p\" type=\"string\"></arg></mutation><value name=\"o32h453f4xl1wihit0t85p\"><shadow type=\"text\" id=\"H8ZA0RM!PtTed`{)h(O+\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\" id=\"^1Y^(}k*Jn.?~Mwrgn0?\"><mutation name=\"get_json_string\" functionid=\"ZI%mr2?3Lmd[Hb/Bpun_\"><arg name=\"message_key\" id=\"wu539zixfjut1cqhd6d2s\" type=\"string\"></arg><arg name=\"json_payload\" id=\"yd8pmhujoic82oc8tvhu\" type=\"string\"></arg></mutation><value name=\"wu539zixfjut1cqhd6d2s\"><shadow type=\"text\" id=\"f/FhDpAPKyCql~{Q4ZjZ\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"[!~b(w(WY54%i1qga:`=\"><field name=\"VAR\" id=\"HCN;#TfqV|M%tQ!QG{]{\">MSG_KEY_LOG</field></block></value><value name=\"yd8pmhujoic82oc8tvhu\"><shadow type=\"text\" id=\"twi2s$(:yj2Q^j+$dBre\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" id=\"eFq7f[;%x[HBCU3i^,_c\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"(CN[e)fqo|/`YONojd|Q\"><field name=\"TEXT\">{\"level\":\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"qmMMGpwSdYE4a(Ns2m4P\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" id=\";gMZvoO72]U^-v!gu+?=\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD2\"><shadow type=\"text\" id=\"JJzQCB^k2sk!oPq3hgYc\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\" id=\"0!y;d.t+k{hi:h1lHsFv\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" id=\"i=p@X`qY.M=]4_T(WDEH\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD4\"><shadow type=\"text\" id=\"S_WxlYAIDNsh)DD*m:_S\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></value></block></statement></block><block type=\"function_definition\" id=\"gHS==*9y+uUNGJBCHyyH\" x=\"1398\" y=\"1722\"><mutation name=\"emit_message\" functionid=\"-%wFlhlAxO*GW|[-~{O_\"><arg name=\"msg\" id=\"o32h453f4xl1wihit0t85p\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"o32h453f4xl1wihit0t85p\"><block type=\"argument_reporter_string\" id=\"5v(AYnp,JCSBxB}Gsyr|\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\" id=\"SYn@]HcjQfh:--Mr/5rp\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"n=qVFT6}v8IMDZf?@Q[~\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"#DV~59s}_xO?dZ-ZURlw\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\" id=\"3PH*x~KO.HlVrXDGnb=m\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"kHvzVG4m-vH~xgF%wOV[\"><field name=\"VAR\" id=\"OoqCu`sN_G,oiW2.Zh3D\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"Z*S6e=6#y`)?f~w~i2L`\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"CcZrPp[12*+sUhM;gT6;\"><field name=\"VAR\" id=\"w@ZswX:WGdx4{rKVE[P*\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\" id=\"SdiKIDq-bl1RzQIT]{?9\"><value name=\"msg\"><block type=\"argument_reporter_string\" id=\"1eGTs@H59nst,fnh$OLO\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\" id=\"cKuH53A*NBP:wd7ZY+is\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"BMCy.,-){44;9lNcnD*E\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\" id=\";^X4C0JuC|q6G4QGT))C\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"JJgR,Et10dGcnFxDcj6P\"><field name=\"VAR\" id=\"OoqCu`sN_G,oiW2.Zh3D\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"U5Yfkm[7S@nj+H!QOfVx\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"37+ACed=Si#Im2vm,Xgj\"><field name=\"VAR\" id=\".}5Xi]ll(T}CED9bC!01\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\" id=\",Qph]=;|/;wTj{H9Y*aw\"><value name=\"text\"><block type=\"argument_reporter_string\" id=\"nF}-Qlv_*y,:Bf5[VxGP\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\" id=\"i-#Km[s?z[!(5?P0v*4W\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"v9R;ov9%|P{=Gc!@N~9{\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\" id=\"%7`)Ff7,9ZI9))_7~c%0\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"EhurhlTwChDd;UO-z4z3\"><field name=\"VAR\" id=\"OoqCu`sN_G,oiW2.Zh3D\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"8d:g3~?*v6wd4S_PTFd`\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"{]WbrvpLc=m*s9M@;.-z\"><field name=\"VAR\" id=\"%1noz#cm.rAh8p.}mr7w\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\" id=\"7Q8ydrI]e:`]PGyF5x/N\"><value name=\"text\"><block type=\"argument_reporter_string\" id=\";q2B[.mB|O2_t5|*Y{V~\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\" id=\"Cbi}TiJs8-i4P@@Dr*{#\"><value name=\"text\"><shadow type=\"text\" id=\"Uh#/{?f2q|[;OF9O@Xqj\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" id=\"h}Lwa?AkPDZ[Fk[gn$:N\" x=\"2167\" y=\"1722\"><mutation name=\"send_status\" functionid=\"}4,oKkO-g8T[X^.1Df)/\"><arg name=\"status\" id=\"v5pqhhhk5kjbn9l6e8ulu\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send status</comment><value name=\"v5pqhhhk5kjbn9l6e8ulu\"><block type=\"argument_reporter_string\" id=\"WFyC[r2rcr}p%Ehoe-zm\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\" id=\"va4KiT5u=xA0_d=)a7bt\"><mutation name=\"emit_message\" functionid=\"-%wFlhlAxO*GW|[-~{O_\"><arg name=\"msg\" id=\"o32h453f4xl1wihit0t85p\" type=\"string\"></arg></mutation><value name=\"o32h453f4xl1wihit0t85p\"><shadow type=\"text\" id=\"-rb{.j|qjislE?Qo0D).\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\" id=\"q*fxS_{=:9[9sUkmaFY~\"><mutation name=\"get_json_string\" functionid=\"ZI%mr2?3Lmd[Hb/Bpun_\"><arg name=\"message_key\" id=\"wu539zixfjut1cqhd6d2s\" type=\"string\"></arg><arg name=\"json_payload\" id=\"yd8pmhujoic82oc8tvhu\" type=\"string\"></arg></mutation><value name=\"wu539zixfjut1cqhd6d2s\"><shadow type=\"text\" id=\"DH{{]Sj3+PtZGpCWWs#)\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\" id=\"J2?}^s#0#r?(ZHJR-afO\"><field name=\"VAR\" id=\"X(rB.;?/Tg+G1=di{=mJ\">MSG_KEY_STATUS</field></block></value><value name=\"yd8pmhujoic82oc8tvhu\"><shadow type=\"text\" id=\"rsr]1gD$V=R,pJc?s]#`\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\" id=\"$~h74OEiy3bl2M%x@p1c\"><field name=\"VALUE\">status</field></block></value></block></value></block></statement></block><block type=\"function_definition\" id=\"Q;;:6b^/c#8^=g^,|~]=\" x=\"2808\" y=\"1722\"><mutation name=\"get_bot_info_string\" functionid=\"eSl-#k|#I;P9;?=nE^Nt\"></mutation><field name=\"function_name\">get_bot_info_string</field><statement name=\"STACK\"><block type=\"function_return\" id=\"gWf8x1xs]Z^FuORf,En2\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\" id=\"-VyITbS$mbMRUy;T$}P@\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" id=\"!O9U_I5#mc5Yp#qfg8*%\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"({b#aQO[N:Z-SAQy2716\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"|3tkm[CeL|2~SO/$#e@b\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"xYs`R-$*8l5e^UVCd5+i\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"N@Lc?1Q_2YD2dl6Qz87_\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"w/t,hJ/[YMl|x4`,jFuD\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"[;G.l?uy[RVe,@UMsQ;m\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"dZ0IZ?`3),*pXpok_W8R\"><field name=\"VAR\" id=\"~v!of_vBI;5ns,n)1T$e\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\" id=\"R_Ns;K?2^0!a#:Y;Yk5U\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\" id=\"/;GQq^d4aQ%n{sPUH%@s\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"jOhIk_(h!^{zi02mB(b3\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"_/}@hv;fgZ:-h%_lGVW9\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" id=\"F1`C](O.p!x~eto=.S#z\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"z2:fcC~a?@Z~dYE)`^[/\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"?7G|G#)Xl~Zy^e4;YtCa\"><field name=\"VAR\" id=\"@.lFZw0kERXqs+{sJh|3\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\" id=\"%dWhO2e_3$Dv|?wu(0E9\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\" id=\"5;ji4k@IaMoD7_EGNu+J\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"9R+J4m;Oi/z98,gOnOG)\"><field name=\"VAR\" id=\"~Kl^Cexofk_og0pN9-y8\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\" id=\"]Ip9Hg|mlYH:)L0gm]W^\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" id=\",-03P[?;|@vsVCwnqA30\" x=\"20\" y=\"2317\"><mutation name=\"register_controller\" functionid=\"e4%:U!AcKirjdJlI}hF[\"><arg name=\"name\" id=\"cbmie6hd1cki4utdz2jo\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"cbmie6hd1cki4utdz2jo\"><block type=\"argument_reporter_string\" id=\"HJSNnM`_`[);r1xu(y@Q\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\" id=\"m//D`@F8pKJ@1sLpR|Mz\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\" id=\"K{:(sS{{sqjoh`e2XHj6\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\" id=\"C4;kNj*AeB!Nk3.|JQ(l\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\" id=\"JdL-DNgTt!x~{1av?eB3\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"_!^~D2Ce/vl[?K8zxUZ?\"><field name=\"VAR\" id=\"dJq(T8nTsqx]rJiwl`Y{\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\" id=\"yNkO{/W2-S$TbBT]L~xN\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\" id=\"D.$$_t^yyp/*-:b#)6w7\"><field name=\"VAR\" id=\"GCzdJ#xMkYyrTfz~lAxM\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"V~i`-C`cCpr-`]B(CBXI\"><field name=\"VAR\" id=\"dJq(T8nTsqx]rJiwl`Y{\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"bZQC^NK=s?bExfn)*DqO\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\" id=\"U.U-M[?s@(%k4Lf}B.0~\"><field name=\"VALUE\">name</field></block></value><next><block type=\"function_call\" id=\"Umm]0XQ6]yB];,{=c6!I\"><mutation name=\"emit_message\" functionid=\"-%wFlhlAxO*GW|[-~{O_\"><arg name=\"msg\" id=\"o32h453f4xl1wihit0t85p\" type=\"string\"></arg></mutation><value name=\"o32h453f4xl1wihit0t85p\"><shadow type=\"text\" id=\",6O6K$^qkIp][Jm(e5k(\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" id=\"O}?[QQjBWX$}Pr9(P^fL\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\" id=\"FU;{k7f*?Ha,[$TW(`pX\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" id=\"lHU,gP|}$)6C1BmDH|4x\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\" id=\"b)/*.F:vePH;{JrI$Z*9\"><mutation name=\"get_emitter_json_string\" functionid=\"in5M[~L_JTS]?ByzIsz(\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\" id=\"WU]YpOKPabJb%u9z9O.9"],[1,"YwtX-p!!@Inljnn]O0BH\">MSG_KEY_EMITTER</variable><variable id=\"SP0d~H2Ja8frY+l{Iig^\">MSG_KEY_ACKNOWLEDGE</variable><variable id=\"Ia@XEIOadAs5EttKZ+n]\">MSG_KEY_STATUS</variable><variable id=\"X]NIs-DI)fB4=^cuA8wf\">MSG_KEY_HEARTBEAT</variable><variable id=\"mnj?ws~RF2;Op^IFOjuT\">MSG_KEY_LOG</variable><variable id=\":DsffWQ;)6,|cA[mTZyk\">controller_name</variable><variable id=\"2aSl.s-~Q0-^XLugN^OD\">CONTROLLER_UNDEFINED</variable><variable id=\"B*0Zy,^E(aZ4:JL/O3|}\">bot_collected</variable><variable id=\"qi(?G!ym-NM?Z+c-#Fp_\">bot_distance</variable><variable id=\"ZR;3G_e(1^G80:csUGjJ\">bot_status</variable><variable id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</variable><variable id=\"Ao;GL|z?f`8!H*^MUd,3\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"AP(Fn_hQ~Gnjd|I~Z3b4\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"ne7w-,[g,h0jN;dP)EY*\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</variable><variable id=\"7+Cx_HPniM/MWmMB:%uh\">RADIO_GROUP_MAX</variable><variable id=\"_#{WL^+*IzAp=H9G]8oL\">RADIO_GROUP_MIN</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"X]NIs-DI)fB4=^cuA8wf\">MSG_KEY_HEARTBEAT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">heartbeat</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"SP0d~H2Ja8frY+l{Iig^\">MSG_KEY_ACKNOWLEDGE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mnj?ws~RF2;Op^IFOjuT\">MSG_KEY_LOG</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Ia@XEIOadAs5EttKZ+n]\">MSG_KEY_STATUS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">status</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"YwtX-p!!@Inljnn]O0BH\">MSG_KEY_EMITTER</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">emitter</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qi(?G!ym-NM?Z+c-#Fp_\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B*0Zy,^E(aZ4:JL/O3|}\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7+Cx_HPniM/MWmMB:%uh\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_#{WL^+*IzAp=H9G]8oL\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Ao;GL|z?f`8!H*^MUd,3\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"AP(Fn_hQ~Gnjd|I~Z3b4\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ne7w-,[g,h0jN;dP)EY*\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ao;GL|z?f`8!H*^MUd,3\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"2aSl.s-~Q0-^XLugN^OD\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\":DsffWQ;)6,|cA[mTZyk\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"2aSl.s-~Q0-^XLugN^OD\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"ZR;3G_e(1^G80:csUGjJ\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"`42q?N(*+PuRP?rTkanD\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\".]VO%pYyGZ/(oXgGIe6U\"><arg name=\"increment\" id=\"5q1dsjy58jntnx8onj1g\" type=\"number\"></arg></mutation><value name=\"5q1dsjy58jntnx8onj1g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_button_event\" x=\"1220\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\".]VO%pYyGZ/(oXgGIe6U\"><arg name=\"increment\" id=\"5q1dsjy58jntnx8onj1g\" type=\"number\"></arg></mutation><value name=\"5q1dsjy58jntnx8onj1g\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"1553\" y=\"20\"></block><block type=\"radio_on_string_drag\" x=\"1758\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"5gu85J}j)$7EaX8oT$y4\"><arg name=\"messsage\" id=\"4512xrpv7l9mpjsd5sick\" type=\"string\"></arg></mutation><value name=\"4512xrpv7l9mpjsd5sick\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value></block></statement></block><block type=\"serial_on_data_received\" x=\"2171\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">You can use message over serial  to test your code</comment><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"5gu85J}j)$7EaX8oT$y4\"><arg name=\"messsage\" id=\"4512xrpv7l9mpjsd5sick\" type=\"string\"></arg></mutation><value name=\"4512xrpv7l9mpjsd5sick\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"serial_read_line\"></block></value></block></statement></block><block type=\"function_definition\" x=\"2600\" y=\"20\"><mutation name=\"get_emitter_json_string\" functionid=\"wl4gQa3UZ6.xVo0mm@6e\"></mutation><field name=\"function_name\">get_emitter_json_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"3127\" y=\"20\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><field name=\"function_name\">get_json_message</field><value name=\"4myiiw27oit6n76z64li\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message_key</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">json_payload</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_length\"><value name=\"VALUE\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">json_payload</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message_key</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\":{\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YwtX-p!!@Inljnn]O0BH\">MSG_KEY_EMITTER</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\":</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_json_string\" functionid=\"wl4gQa3UZ6.xVo0mm@6e\"></mutation></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">, \"payload\":</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">json_payload</field></block></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message_key</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\":{\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YwtX-p!!@Inljnn]O0BH\">MSG_KEY_EMITTER</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\":</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_json_string\" functionid=\"wl4gQa3UZ6.xVo0mm@6e\"></mutation></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1207\"><mutation name=\"tournament_start\" functionid=\"HuObRkZ*k-7([%0G+m/X\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"354\" y=\"1207\"><mutation name=\"send_acknowledge\" functionid=\"f.6:1EDiByAOC:eQ`%uH\"><arg name=\"message\" id=\"w819qu8l9ysmsb792qu\" type=\"string\"></arg></mutation><field name=\"function_name\">send_acknowledge</field><comment pinned=\"false\" h=\"80\" w=\"160\">send acknowledgement of message received</comment><value name=\"w819qu8l9ysmsb792qu\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><value name=\"4myiiw27oit6n76z64li\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"SP0d~H2Ja8frY+l{Iig^\">MSG_KEY_ACKNOWLEDGE</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1051\" y=\"1207\"><mutation name=\"tournament_stop\" functionid=\"ph?OR^;6XA2|Y*X/bo5#\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><value name=\"t41f1583ckoxr4os24s7\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"tsge4l0s4pjrr032cy2f9\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: stop</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"1492\" y=\"1207\"><mutation name=\"on_received_message\" functionid=\"5gu85J}j)$7EaX8oT$y4\"><arg name=\"messsage\" id=\"4512xrpv7l9mpjsd5sick\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"4512xrpv7l9mpjsd5sick\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><value name=\"t41f1583ckoxr4os24s7\"><shadow type=\"text\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"tsge4l0s4pjrr032cy2f9\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">messsage</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2309\" y=\"1207\"><mutation name=\"increment_radio_group\" functionid=\".]VO%pYyGZ/(oXgGIe6U\"><arg name=\"increment\" id=\"5q1dsjy58jntnx8onj1g\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"5q1dsjy58jntnx8onj1g\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7+Cx_HPniM/MWmMB:%uh\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_#{WL^+*IzAp=H9G]8oL\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_#{WL^+*IzAp=H9G]8oL\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7+Cx_HPniM/MWmMB:%uh\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><value name=\"t41f1583ckoxr4os24s7\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"tsge4l0s4pjrr032cy2f9\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q`]qp_V6Fq?5pCo[FDnY\">radio_group</field></block></value></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3250\" y=\"1207\"><mutation name=\"send_heart_beat\" functionid=\"`42q?N(*+PuRP?rTkanD\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><value name=\"4myiiw27oit6n76z64li\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X]NIs-DI)fB4=^cuA8wf\">MSG_KEY_HEARTBEAT</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1722\"><mutation name=\"do_safety\" functionid=\"2o$3u|dz`U#cn-_t#0.I\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><value name=\"t41f1583ckoxr4os24s7\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"tsge4l0s4pjrr032cy2f9\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: safety </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"485\" y=\"1722\"><mutation name=\"send_log\" functionid=\"nZ}z/Sf[FnA7.K]kd%:L\"><arg name=\"level\" id=\"t41f1583ckoxr4os24s7\" type=\"string\"></arg><arg name=\"message\" id=\"tsge4l0s4pjrr032cy2f9\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"t41f1583ckoxr4os24s7\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"tsge4l0s4pjrr032cy2f9\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><value name=\"4myiiw27oit6n76z64li\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mnj?ws~RF2;Op^IFOjuT\">MSG_KEY_LOG</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"level\":\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1238\" y=\"1722\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"gfu105ealo402uj54p37\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ao;GL|z?f`8!H*^MUd,3\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"AP(Fn_hQ~Gnjd|I~Z3b4\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XWu3rM0?KVgYp%ySxon5\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ne7w-,[g,h0jN;dP)EY*\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"2007\" y=\"1722\"><mutation name=\"send_status\" functionid=\"m@#rI|Q/;0A.LbbSA)2@\"><arg name=\"status\" id=\"glkq626teij1bvfdkpgvd\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send status</comment><value name=\"glkq626teij1bvfdkpgvd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"function_call_output\"><mutation name=\"get_json_message\" functionid=\"5#NBA])`wmXGlvkwtOKz\"><arg name=\"message_key\" id=\"4myiiw27oit6n76z64li\" type=\"string\"></arg><arg name=\"json_payload\" id=\"qz4rqm950tjktv48fcx4\" type=\"string\"></arg></mutation><value name=\"4myiiw27oit6n76z64li\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Ia@XEIOadAs5EttKZ+n]\">MSG_KEY_STATUS</field></block></value><value name=\"qz4rqm950tjktv48fcx4\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">status</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2656\" y=\"1722\"><mutation name=\"get_bot_info_string\" functionid=\"JZ@3z|Rd![yW%DZA-?ve\"></mutation><field name=\"function_name\">get_bot_info_string</field><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B*0Zy,^E(aZ4:JL/O3|}\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qi(?G!ym-NM?Z+c-#Fp_\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"ZR;3G_e(1^G80:csUGjJ\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"3218\" y=\"1722\"><mutation name=\"register_controller\" functionid=\"fo,sOGtKe?dT{fzU|e^b\"><arg name=\"name\" id=\"qoaav7417jkvhef6zwma\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"qoaav7417jkvhef6zwma\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\":DsffWQ;)6,|cA[mTZyk\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"2aSl.s-~Q0-^XLugN^OD\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\":DsffWQ;)6,|cA[mTZyk\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value><next><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"kM$AnIq.{Nn~?oY06bwP\"><arg name=\"msg\" id=\"gfu105ealo402uj54p37\" type=\"string\"></arg></mutation><value name=\"gfu105ealo402uj54p37\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_json_string\" functionid=\"wl4gQa3UZ6.xVo0mm@6e\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text"],[0,"\"><f"]],"start1":76,"start2":76,"length1":45188,"length2":35337}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"// "],[-1,"send acknowledgement of message received\nfunction send_acknowledge (message: "],[1," internal function: emitter json string\nfunction get_emitter_json_"],[0,"string"],[1,"("],[0,") {\n    "],[-1,"emit_message(get_json_string(MSG_KEY_ACKNOWLEDGE, message))"],[1,"return \"{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"at_ms\\\":\" + (\"\" + (\"\" + control.millis())) + \"}\""],[0,"\n}\n"],[1,"\n"],[0,"func"]],"start1":0,"start2":0,"length1":160,"length2":192},{"diffs":[[0,"n_string"],[-1," "],[0,"(message"]],"start1":204,"start2":204,"length1":17,"length2":16},{"diffs":[[0,"payload: string)"],[1,": string"],[0," {\n    if (json_"]],"start1":239,"start2":239,"length1":32,"length2":40},{"diffs":[[0,"  }\n"],[-1,"}"],[1,"    \n}\n"],[0,"\n// "],[-1,"S"],[1," s"],[0,"end "],[-1,"status\nfunction send_status (status"],[1,"acknowledgement of message received\nfunction send_acknowledge(message"],[0,": st"]],"start1":562,"start2":562,"length1":53,"length2":94},{"diffs":[[0,"KEY_"],[-1,"STATUS, status"],[1,"ACKNOWLEDGE, message"],[0,"))\n}\n"],[1,"\n"],[0,"// "],[-1,"Add your code in to handle the SAFETY  request from controller\nfunction tournament_safety () {\n    send_log(LOG_LEVEL_INFO, \"safety! \""],[1," Send status\nfunction send_status(status: string) {\n    emit_message(get_json_string(MSG_KEY_STATUS, status)"],[0,")\n}\n"],[1,"\n"],[0,"//"],[1," "],[0," Sen"]],"start1":701,"start2":701,"length1":170,"length2":153},{"diffs":[[0,"art_beat"],[-1," "],[0,"() {\n   "]],"start1":883,"start2":883,"length1":17,"length2":16},{"diffs":[[0,")\n}\n"],[-1,"// Add your code in to handle the START request from controller\nfunction tournament_start () {\n    send_log(LOG_LEVEL_INFO, \"start! \")\n}\n// Button A increments the radio group\ninput.onButtonPressed(Button.A, function () {\n    basic.showNumber(radio_group)\n})"],[0,"\n//"],[1," "],[0," Sen"]],"start1":951,"start2":951,"length1":269,"length2":12},{"diffs":[[0,"send_log"],[-1," "],[0,"(level: "]],"start1":986,"start2":986,"length1":17,"length2":16},{"diffs":[[0,")\n}\n"],[-1,"radio.onReceivedString(function (receivedString) {\n    on_received_message(receivedString"],[1,"\n//  Button A increments the radio group \ninput.onButtonPressed(Button.A, function on_button_pressed_a() {\n    \n    \n    basic.showNumber(radio_group"],[0,")\n})\n//"],[1," "],[0," But"]],"start1":1139,"start2":1139,"length1":104,"length2":165},{"diffs":[[0,"ton.B, function "],[1,"on_button_pressed_b"],[0,"() {\n    increme"]],"start1":1362,"start2":1362,"length1":32,"length2":51},{"diffs":[[0,"oup(-1)\n"],[1,"    \n"],[0,"    basi"]],"start1":1424,"start2":1424,"length1":16,"length2":21},{"diffs":[[0,"p)\n})\n//"],[1,"  Add your code in to handle the SAFETY  request from controller\nfunction tournament_safety() {\n    \n    send_log(LOG_LEVEL_INFO, \"safety! \")\n}\n\n//  Add your code in to handle the START request from controller\nfunction tournament_start() {\n    \n    send_log(LOG_LEVEL_INFO, \"start! \")\n}\n\n//  implement your own code here\nradio.onReceivedString(function on_received_string(receivedString: string) {\n    on_received_message(receivedString)\n})\n// "],[0," Registe"]],"start1":1468,"start2":1468,"length1":16,"length2":460},{"diffs":[[0,"ntroller"],[-1," "],[0,"(name: s"]],"start1":1993,"start2":1993,"length1":17,"length2":16},{"diffs":[[0,"name: string) {\n"],[1,"    \n"],[0,"    if (controll"]],"start1":2002,"start2":2002,"length1":32,"length2":37},{"diffs":[[0,"    "],[-1,"\t"],[1,"    "],[0,"\n    }\n"],[-1,"}"],[1,"    \n}\n"],[0,"\nfun"]],"start1":2189,"start2":2189,"length1":17,"length2":26},{"diffs":[[0,"_info_string"],[-1," "],[0,"() {\n    ret"]],"start1":2228,"start2":2228,"length1":25,"length2":24},{"diffs":[[0,"\\\":\" + (\"\" +"],[1," (\"\" +"],[0," bot_collect"]],"start1":2270,"start2":2270,"length1":24,"length2":30},{"diffs":[[0,"llected)"],[1,")"],[0," + \", \\\""]],"start1":2295,"start2":2295,"length1":16,"length2":17},{"diffs":[[0,"\" :\" + (\"\" +"],[1," (\"\" +"],[0," bot_distanc"]],"start1":2321,"start2":2321,"length1":24,"length2":30},{"diffs":[[0,"istance)"],[1,")"],[0," + \",\\\"s"]],"start1":2345,"start2":2345,"length1":16,"length2":17},{"diffs":[[0,"\"\\\"}\"\n}\n"],[1,"\n"],[0,"//"],[1," "],[0," Emits t"]],"start1":2389,"start2":2389,"length1":18,"length2":20},{"diffs":[[0,"_message"],[-1," "],[0,"(msg: st"]],"start1":2461,"start2":2461,"length1":17,"length2":16},{"diffs":[[0,")\n    }\n"],[-1,"}"],[1,"    \n}\n"],[0,"\nfunctio"]],"start1":2847,"start2":2847,"length1":17,"length2":23},{"diffs":[[0,"_message"],[-1," "],[0,"(messsag"]],"start1":2883,"start2":2883,"length1":17,"length2":16},{"diffs":[[0,")\n}\n"],[1,"\n"],[0,"// "],[-1,"internal function: emitter json string\nfunction get_emitter_json_string () {\n    return \"{\\\"from\\\":\" + control.deviceName() + \"\\\", \\\"at_ms\\\":\" + (\"\" + control.millis()) + \"}\"\n}\n//"],[0," You"]],"start1":2981,"start2":2981,"length1":190,"length2":12},{"diffs":[[0,"Line), function "],[1,"on_data_received"],[0,"() {\n    on_rece"]],"start1":3095,"start2":3095,"length1":32,"length2":48},{"diffs":[[0,"io_group"],[-1," "],[0,"(increme"]],"start1":3200,"start2":3200,"length1":17,"length2":16},{"diffs":[[0,": number) {\n"],[1,"    \n"],[0,"    radio_gr"]],"start1":3218,"start2":3218,"length1":24,"length2":29},{"diffs":[[0,"P_MAX\n    }\n"],[1,"    \n"],[0,"    send_log"]],"start1":3423,"start2":3423,"length1":24,"length2":29},{"diffs":[[0," + (\"\" +"],[1," (\"\" +"],[0," radio_g"]],"start1":3485,"start2":3485,"length1":16,"length2":22},{"diffs":[[0,"up))"],[1,")"],[0,"\n}\n"],[-1,"// implement your own code here\n// Add your code in to handle the STOP req\n// Add your code in to handle the STOP request from controller\nfunction tournament_stop () {\n    send_log(LOG_LEVEL_INFO, \"stop! \")\n}"],[0,"\nlet"]],"start1":3509,"start2":3509,"length1":219,"length2":12},{"diffs":[[0,"= 0\n"],[-1,"let LOG_LEVEL_INFO = \"\"\n"],[0,"let "]],"start1":3834,"start2":3834,"length1":32,"length2":8},{"diffs":[[0,"mitter\"\n"],[1,"let "],[0,"LOG_LEVE"]],"start1":4106,"start2":4106,"length1":16,"length2":20},{"diffs":[[0,"P_MIN\n//"],[1," "],[0," The rad"]],"start1":4316,"start2":4316,"length1":16,"length2":17},{"diffs":[[0,"rial\"\n//"],[1," "],[0," Do not "]],"start1":4504,"start2":4504,"length1":16,"length2":17},{"diffs":[[0,"ined\"\n//"],[1," "],[0," Name of"]],"start1":4638,"start2":4638,"length1":16,"length2":17},{"diffs":[[0,"ion "],[1,"on_forever"],[0,"() {\n"],[-1,"\t"],[1,"    "],[0,"\n})\n//"],[1," "],[0," Hea"]],"start1":4795,"start2":4795,"length1":20,"length2":34},{"diffs":[[0,"unction "],[1,"on_in_background"],[0,"() {\n   "]],"start1":4864,"start2":4864,"length1":16,"length2":32}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":255,"start2":255,"length1":52,"length2":8},{"diffs":[[0,"itor\": \""],[-1,"blocks"],[1,"py"],[0,"prj\"\n}\n"]],"start1":275,"start2":275,"length1":21,"length2":17}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"   #"],[-1," Add your code in to handle the STOP req\n        \n#"],[0," Add"]],"start1":1828,"start2":1828,"length1":59,"length2":8},{"diffs":[[0,"from controller\n"],[1,"        "],[0,"def tournament_s"]],"start1":1877,"start2":1877,"length1":32,"length2":40},{"diffs":[[0,"    "],[-1,"global LOG_LEVEL_INFO\n    send_log(LOG_LEVEL_"],[1,"        # implement your own code here\n            basic.show_icon(IconNames.NO)\n            send_log(\""],[0,"INFO"],[1,"\""],[0,", \""],[-1,"stop! \")    "],[1,"ackmowledge: stop\")"],[0,"\n\nde"]],"start1":1924,"start2":1924,"length1":72,"length2":138}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1746614229602,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"amaker-radio-comm\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1746617940444,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"9+FeIV6LUohl6,Ls.r!p\">controller_name</variable><variable id=\"9B)UI;?AH]X,=MoaZSXn\">CONTROLLER_UNDEFINED</variable></variables><block type=\"device_forever\" x=\"291\" y=\"-36\"></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">25</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9B)UI;?AH]X,=MoaZSXn\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9+FeIV6LUohl6,Ls.r!p\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9B)UI;?AH]X,=MoaZSXn\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"-82\" y=\"174\"><mutation name=\"do_start\" functionid=\".MM%[37hK{=~%N~~d3Xn\"></mutation><field name=\"function_name\">do_start</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></statement></block><block type=\"function_definition\" x=\"253\" y=\"197\"><mutation name=\"acknowledge\" functionid=\"s!{p7S1?7~3r%kYJ?Eb[\"><arg name=\"message\" id=\"7tpejyb16wksfzehuvi4b\" type=\"string\"></arg></mutation><field name=\"function_name\">acknowledge</field><value name=\"7tpejyb16wksfzehuvi4b\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">from</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"-75\" y=\"335\"><mutation name=\"do_stop\" functionid=\"*|y?.3P9pIxDd*2hh8})\"></mutation><field name=\"function_name\">do_stop</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></statement></block><block type=\"function_definition\" x=\"366\" y=\"427\"><mutation name=\"register_controller\" functionid=\"K+@KNVKo|v%EL|?]jw1}\"><arg name=\"name\" id=\"au0xf3k60gbe18yd37ug\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><value name=\"au0xf3k60gbe18yd37ug\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9+FeIV6LUohl6,Ls.r!p\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9B)UI;?AH]X,=MoaZSXn\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"9+FeIV6LUohl6,Ls.r!p\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"-83\" y=\"499\"><mutation name=\"do_safety\" functionid=\"=JF_,r8#D*R.D3?.EW#Z\"></mutation><field name=\"function_name\">do_safety</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"-95\" y=\"633\"><mutation name=\"broadcast_controller_info\" functionid=\"ivU#1(7U_tgQ0^tENO,@\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">is under control of </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9+FeIV6LUohl6,Ls.r!p\">controller_name</field></block></value></block></value></block></value></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"def do_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\n\ndef broadcast_controller_info():\n    # do not change this part :)\n    radio.send_string(\"CONTROLLER INFO: \" + control.device_name() + (\" CONTROLLED BY \" + controller_name))\n\ndef do_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\n\ndef send_message(message: str):\n    radio.send_string('{\"message\":{\"from\":\"\", \"to\":\"+ controller_name+\"  ))\n\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n\ndef register_controller(name: str):\n    global controller_name\n    if controller_name == CONTROLLER_UNDEFINED:\n        controller_name = name\n    else:\n        pass\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nradio.set_group(25)\nCONTROLLER_UNDEFINED = \"?\"\ncontroller_name = CONTROLLER_UNDEFINED\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"amaker-radio-comm\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1746708005433,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"6{s..{UkV%grxW.@~gx|\">controller_name</variable><variable id=\"9q%Y`G$R=42+$tJgWxD^\">CONTROLLER_UNDEFINED</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9q%Y`G$R=42+$tJgWxD^\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6{s..{UkV%grxW.@~gx|\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9q%Y`G$R=42+$tJgWxD^\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"509\" y=\"0\"></block><block type=\"function_definition\" x=\"714\" y=\"0\"><mutation name=\"send_message\" functionid=\"Ko8^ve9$q,1AWUY!{dC*\"><arg name=\"message\" id=\"bylq23unkocc7mt4k6c9\" type=\"string\"></arg></mutation><field name=\"function_name\">send_message</field><value name=\"bylq23unkocc7mt4k6c9\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><shadow type=\"text\"><field name=\"TEXT\">{\"message\":{\"from\":\"\", \"to\":\"+ controller_name</field></shadow></value></block></statement></block><block type=\"function_definition\" x=\"1341\" y=\"0\"><mutation name=\"do_start\" functionid=\"l;|y(RxdP[UsH@,N!]di\"></mutation><field name=\"function_name\">do_start</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"317\"><mutation name=\"do_stop\" functionid=\"v0ZisHhMFG/n4r-=iVCd\"></mutation><field name=\"function_name\">do_stop</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"254\" y=\"317\"><mutation name=\"register_controller\" functionid=\"$[[[R?0/44w4CjEWrOx=\"><arg name=\"name\" id=\"woteo4ossmtzveldqhrnr\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><value name=\"woteo4ossmtzveldqhrnr\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6{s..{UkV%grxW.@~gx|\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"9q%Y`G$R=42+$tJgWxD^\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6{s..{UkV%grxW.@~gx|\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"887\" y=\"317\"><mutation name=\"do_safety\" functionid=\"QE~)wqIK%ec#|?YV[,Fg\"></mutation><field name=\"function_name\">do_safety</field><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"1140\" y=\"317\"><mutation name=\"broadcast_controller_info\" functionid=\"L2(nJh$rX7|8G1OEm*cn\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6{s..{UkV%grxW.@~gx|\">controller_name</field></block></value></block></value></block></value></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"def do_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\ndef broadcast_controller_info():\n    # do not change this part :)\n    radio.send_string(\"CONTROLLER INFO: \" + control.device_name() + (\" CONTROLLED BY \" + controller_name))\ndef do_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\ndef send_message(message: str):\n    radio.send_string(\"{\\\"message\\\":{\\\"from\\\":\\\"\\\", \\\"to\\\":\\\"+ controller_name\")\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\ndef register_controller(name: str):\n    global controller_name\n    if controller_name == CONTROLLER_UNDEFINED:\n        controller_name = name\n    else:\n        pass\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nradio.set_group(0)\nCONTROLLER_UNDEFINED = \"?\"\ncontroller_name = CONTROLLER_UNDEFINED\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"amaker-radio-comm\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1746709836787,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</variable><variable id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</variable><variable id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"6i_F,)D;]Tj9;Q~k.G^j\">MESSAGE_DESTINATION_BTSERIAL</variable><variable id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</variable></variables><block type=\"pxt-on-start\" x=\"56\" y=\"50\"><statement name=\"HANDLER\"><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">?</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6i_F,)D;]Tj9;Q~k.G^j\">MESSAGE_DESTINATION_BTSERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">bluetooth</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"734\" y=\"121\"></block><block type=\"function_definition\" x=\"939\" y=\"121\"><mutation name=\"get_log_string\" functionid=\"B8t-~BW6qT+;Oq3Z$-*h\"><arg name=\"level2\" id=\"cw8d566xuremu29c12ang\" type=\"string\"></arg><arg name=\"message2\" id=\"aq199htfmbc79nl7qek4\" type=\"string\"></arg></mutation><field name=\"function_name\">get_log_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"cw8d566xuremu29c12ang\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level2</field></block></value><value name=\"aq199htfmbc79nl7qek4\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message2</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"9\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">[</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">@</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">ms]</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"> </field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level2</field></block></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\">:</field></shadow></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1720\" y=\"121\"><mutation name=\"do_start\" functionid=\"Fg%sGD/zIh5-,K`DNwd?\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"-124\" y=\"463\"><mutation name=\"do_stop\" functionid=\"KKJ`/0T+|jH$5VYyZuN6\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1711\" y=\"429\"><mutation name=\"broadcast_controller_info\" functionid=\"3:D(=tg%)(Ldg6WXe-2V\"></mutation><field name=\"function_name\">broadcast_controller_info</field><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><comment pinned=\"false\" h=\"80\" w=\"160\">do not change this part :)</comment><value name=\"msg\"><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">CONTROLLER INFO: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"> CONTROLLED BY </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field></block></value></block></value></block></value></block></statement></block><block type=\"control_in_background\" x=\"319\" y=\"505\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\":wTmwHfZ{jH6F^hfiT=H\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"-434\" y=\"772\"><mutation name=\"send_heart_beat\" functionid=\":wTmwHfZ{jH6F^hfiT=H\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"130\" y=\"792\"><mutation name=\"send_status\" functionid=\"doxwy.m8Hs033#r(4L6s\"><arg name=\"status\" id=\"p7bqfztz5kb6mjvdcfrokl\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"p7bqfztz5kb6mjvdcfrokl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1485\" y=\"780\"><mutation name=\"do_safety\" functionid=\":Q_o2T:d$N^G8#GRrmkI\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"919\" y=\"849\"><mutation name=\"register_controller\" functionid=\"Jj:(+:;$l067Wldnozs0\"><arg name=\"name\" id=\"cflyxzzn7qv4t4p9o147\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"cflyxzzn7qv4t4p9o147\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RTodW.P7R8/;6Mus{qwl\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"PUi@uTy@t8A#zzwd`E$c\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"-318\" y=\"1385\"><mutation name=\"emit_message\" functionid=\"*b:FvwcuI%YO9DZn?WS`\"><arg name=\"message\" id=\"d3jtrjojnsk46ui26mde2\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"d3jtrjojnsk46ui26mde2\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field></block></value><value name=\"B\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"le4zZk-(Mlm0^Xz=P%sI\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field></block></value><value name=\"B\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6i_F,)D;]Tj9;Q~k.G^j\">MESSAGE_DESTINATION_BTSERIAL</field></block></value></block></value><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(+k;Baz5`~;9kTa6wrk9\">message_destination</field></block></value><value name=\"B\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Tnw!C]z5F4gc3eC(t}$;\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# Add your code in to handle the STOP request from controller\ndef do_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\ndef send_status(status: str):\n    radio.send_string(\"{\\\"hearbeat\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \"}}\")\ndef broadcast_controller_info():\n    # do not change this part :)\n    radio.send_string(\"CONTROLLER INFO: \" + control.device_name() + (\" CONTROLLED BY \" + controller_name))\n# Add your code in to handle the START request from controller\ndef do_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\n# Send heartbeat over radio\ndef send_heart_beat():\n    radio.send_string(\"{\\\"hearbeat\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \"}}\" + \"\" + \"\")\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n# Register the controller if no one is registered yet\ndef register_controller(name: str):\n    global controller_name\n    if controller_name == CONTROLLER_UNDEFINED:\n        controller_name = name\n    else:\n        pass\ndef emit_message(message: str):\n    pass\n# Format log message with microbit name and time stamp in prefix\ndef get_log_string(level2: str, message2: str):\n    return \"[\" + control.device_name() + \"@\" + (\"\" + str(control.millis())) + \"ms]\" + \" \" + level2 + \":\" + message2\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nradio.set_group(0)\nCONTROLLER_UNDEFINED = \"?\"\n\nMESSAGE_DESTINATION_RADIO = \"radio\"\nMESSAGE_DESTINATION_BTSERIAL = \"bluetooth\"\nMESSAGE_DESTINATION_LEDS = \"led\"\n# Name of controller. This will be updated by code : do not touch\ncontroller_name = CONTROLLER_UNDEFINED\nmessage_destination = MESSAGE_DESTINATION_RADIO\n\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n\n# Heart beat loop\n\ndef on_in_background():\n    while True:\n        control.wait_micros(1000000)\n        send_heart_beat()\ncontrol.in_background(on_in_background)\n","pxt.json":"{\n    \"name\": \"amaker-radio-comm\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1746711636908,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</variable><variable id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</variable><variable id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</variable><variable id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"GW4b6:p]C=B~8Ty.;LCj\">RADIO_GROUP_MAX</variable><variable id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</variable><variable id=\"/2(DKR7L;R}D2Yn3.~$v\">RADIO_GROUP_MIN</variable></variables><block type=\"device_button_event\" x=\"-631\" y=\"-220\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"variables_change\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GW4b6:p]C=B~8Ty.;LCj\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/2(DKR7L;R}D2Yn3.~$v\">RADIO_GROUP_MIN</field></block></value></block></statement></block></next></block></statement></block><block type=\"control_in_background\" x=\"417\" y=\"-71\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"[h2|2@W.][[C66~aK)`k\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_forever\" x=\"686\" y=\"-71\"></block><block type=\"function_definition\" x=\"891\" y=\"-71\"><mutation name=\"send_log\" functionid=\"|Z(ksvEX(NW7Og/yRI?v\"><arg name=\"level\" id=\"wfgoc3u99ozpf42jun1z\" type=\"string\"></arg><arg name=\"message\" id=\"y9prf0kb6ilpu99zm3jd\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"wfgoc3u99ozpf42jun1z\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"y9prf0kb6ilpu99zm3jd\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><value name=\"gfxcfbb0cm12dlfi6l6x\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"10\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"log\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><comment pinned=\"true\" h=\"80\" w=\"160\">You can add custom code after the common settings.</comment><data>{\"commentRefs\":[],\"fieldData\":{\"~commentOffsetX\":\"-40\",\"~commentOffsetY\":\"-128\"}}</data><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"GW4b6:p]C=B~8Ty.;LCj\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/2(DKR7L;R}D2Yn3.~$v\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1418\" y=\"-71\"><mutation name=\"do_start\" functionid=\"Ex?Ogst3c2AC8;w,AE*J\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"1688\" y=\"-71\"><mutation name=\"do_stop\" functionid=\"gN1c!=;rb7r/J5/Ny7.H\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"device_button_event\" x=\"-595\" y=\"176\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"variables_change\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/2(DKR7L;R}D2Yn3.~$v\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"0lXm`ae{S7O?Z*[eh2B*\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GW4b6:p]C=B~8Ty.;LCj\">RADIO_GROUP_MAX</field></block></value></block></statement></block></next></block></statement></block><block type=\"text_join\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"1143\" y=\"236\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\"></field></shadow></value></block></value></block><block type=\"function_definition\" x=\"402\" y=\"588\"><mutation name=\"do_safety\" functionid=\"gP:ycIi)R.]K0yv^_i/9\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"1013\" y=\"588\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><value name=\"gfxcfbb0cm12dlfi6l6x\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"srVbJNP{d4mSgSF2N8$J\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"n~XG^i]H6AGBU^hj=:AH\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";_AQhz_r?|;`rk3s~8(-\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Jx{pS%)u{)e?qyj_6j,j\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"-328\" y=\"665\"><mutation name=\"send_status\" functionid=\"6v|,Kw|hbG=HOI%F$^?/\"><arg name=\"status\" id=\"qmioxdaktjo50wgnku49f\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"qmioxdaktjo50wgnku49f\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><value name=\"gfxcfbb0cm12dlfi6l6x\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"status\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1782\" y=\"588\"><mutation name=\"register_controller\" functionid=\"h)d@J7m5}aU)h$Kk]5N~\"><arg name=\"name\" id=\"umkwurcgaceb9liuqkshh\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"umkwurcgaceb9liuqkshh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"hyr@i$=A?}iL9]@Zi$d6\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"fZtp{H[U-I.8EHn|2#:)\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"543\" y=\"735\"><mutation name=\"send_heart_beat\" functionid=\"[h2|2@W.][[C66~aK)`k\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send heartbeat over radio</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"h6w7X=Sr4V~wKQ-[PBor\"><arg name=\"message\" id=\"gfxcfbb0cm12dlfi6l6x\" type=\"string\"></arg></mutation><value name=\"gfxcfbb0cm12dlfi6l6x\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value></block></value></block></statement></block><block type=\"text_join\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"-75\" y=\"968\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\"></field></shadow></value></block></value></block><block type=\"text_join\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"789\" y=\"1031\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\"></field></shadow></value></block></value></block></xml>","main.ts":"","README.md":"","main.py":"# Add your code in to handle the STOP request from controller\ndef do_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\ndef send_status(status: str):\n    emit_message(\"{\\\"status\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \"}}\")\n# Add your code in to handle the START request from controller\ndef do_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\n# Send heartbeat over radio\ndef send_heart_beat():\n    emit_message(\"{\\\"hearbeat\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \"}}\" + \"\" + \"\")\n# Button A increments the radio group (0-16)\n\ndef on_button_pressed_a():\n    global radio_group\n    radio_group += 1\n    if radio_group > RADIO_GROUP_MAX:\n        radio_group = RADIO_GROUP_MIN\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n# Format log message with microbit name and time stamp in prefix\ndef send_log(level: str, message: str):\n    emit_message(\"{\\\"log\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + str(control.millis()) + \", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message + \"\\\"}\" + \"}\")\n# Button B decrements the radio group (0-16)\n\ndef on_button_pressed_b():\n    global radio_group\n    radio_group += -1\n    if radio_group < RADIO_GROUP_MIN:\n        radio_group = RADIO_GROUP_MAX\ninput.on_button_pressed(Button.B, on_button_pressed_b)\n\n# Register the controller if no one is registered yet\ndef register_controller(name: str):\n    global controller_name\n    if controller_name == CONTROLLER_UNDEFINED:\n        controller_name = name\n    else:\n        pass\ndef emit_message(message2: str):\n    if message_destination == MESSAGE_DESTINATION_RADIO:\n        radio.send_string(message2)\n    elif message_destination == MESSAGE_DESTINATION_LEDS:\n        basic.show_string(message2)\n    elif message_destination == MESSAGE_DESTINATION_SERIAL:\n        serial.write_string(message2)\n    else:\n        basic.show_string(\"WARNING: Invalid message_destination\")\n# You can add custom code after the common settings.\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nmessage_destination = \"\"\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO = \"\"\nRADIO_GROUP_MIN = 0\nradio_group = 0\nRADIO_GROUP_MAX = 0\nRADIO_GROUP_MAX = 16\nradio_group = RADIO_GROUP_MIN\n# The radio group is controlled by button A and B.\nradio.set_group(radio_group)\nMESSAGE_DESTINATION_RADIO = \"radio\"\nMESSAGE_DESTINATION_LEDS = \"led\"\nMESSAGE_DESTINATION_SERIAL = \"serial\"\n# Do not change message destination after start.\nmessage_destination = MESSAGE_DESTINATION_RADIO\nCONTROLLER_UNDEFINED = \"undefined\"\n# Name of controller. This will be updated by code : do not touch\ncontroller_name = CONTROLLER_UNDEFINED\n\nbot_status=\"\"\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n\n# Heart beat loop\n\ndef on_in_background():\n    while True:\n        control.wait_micros(1000000)\n        send_heart_beat()\ncontrol.in_background(on_in_background)\n","pxt.json":"{\n    \"name\": \"amaker-radio-comm\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1746714847989,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</variable><variable id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</variable><variable id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</variable><variable id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"yb+cKL5?O4Lz6^~Y_t/]\">bot_collected</variable><variable id=\"H(#n|6sfnOuH#X,yGPKY\">bot_distance</variable><variable id=\"nEwitsFGHU,4:Pp:rfrO\">RADIO_GROUP_MAX</variable><variable id=\"o230X:f^8f9z`tSpe4LD\">radio_group</variable><variable id=\"MMpP.uCncJy?9h(L:nM*\">RADIO_GROUP_MIN</variable><variable id=\"lF6XR,~*:/!3EMH-J-em\">bot_status</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yb+cKL5?O4Lz6^~Y_t/]\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"H(#n|6sfnOuH#X,yGPKY\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MAX = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MAX\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let radio_group = 0\" numlines=\"1\" declaredvars=\"radio_group\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let RADIO_GROUP_MIN = 0\" numlines=\"1\" declaredvars=\"RADIO_GROUP_MIN\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function inc_radio_group(increment: any) {\" line1=\"    \" line2=\"    radio_group += increment\" line3=\"    if (radio_group &gt; RADIO_GROUP_MAX) {\" line4=\"        radio_group = RADIO_GROUP_MIN\" line5=\"    } else if (radio_group &lt; RADIO_GROUP_MIN) {\" line6=\"        radio_group = RADIO_GROUP_MAX\" line7=\"    }\" line8=\"    \" line9=\"    send_log(&quot;INFO&quot;, &quot;radio_group=&quot; + (&quot;&quot; + radio_group))\" line10=\"}\" numlines=\"11\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"nEwitsFGHU,4:Pp:rfrO\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"o230X:f^8f9z`tSpe4LD\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MMpP.uCncJy?9h(L:nM*\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"o230X:f^8f9z`tSpe4LD\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"lF6XR,~*:/!3EMH-J-em\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"jM3@.^PkbMY7MpkuBhRs\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(+1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_button_event\" x=\"1161\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"inc_radio_group(-1)\" numlines=\"1\"></mutation></block></statement></block><block type=\"device_forever\" x=\"1435\" y=\"20\"></block><block type=\"function_definition\" x=\"1640\" y=\"20\"><mutation name=\"send_log\" functionid=\"H!):!t}u!{^4({#!bl^P\"><arg name=\"level\" id=\"cw0q57odxxe1sagc7p7t\" type=\"string\"></arg><arg name=\"message\" id=\"4jvlmtzz42kv0batocsi\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"cw0q57odxxe1sagc7p7t\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"4jvlmtzz42kv0batocsi\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"10\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"log\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD7\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD8\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value><value name=\"ADD9\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2223\" y=\"20\"><mutation name=\"do_start\" functionid=\"e+0-w:pPXQdPM:+K?!|p\"></mutation><field name=\"function_name\">do_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"2493\" y=\"20\"><mutation name=\"do_stop\" functionid=\"9$WW+lG2WHL5+QE$w`OH\"></mutation><field name=\"function_name\">do_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1313\"><mutation name=\"do_safety\" functionid=\"Jbt7IPD*p(s`H3ko;~qL\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field></block></statement></block><block type=\"function_definition\" x=\"298\" y=\"1313\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"z4g234m7hmcbr7l3sb8l\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message2</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"j}^aW?]Teb_z{:e3!eo*\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Jrj_qxXB|a(WCW|f*wJ.\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m0Kcn(yEcjg`b3rqn=q(\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w0::3Tn^xx.[cE@2h6-O\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">message2</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1067\" y=\"1313\"><mutation name=\"send_status\" functionid=\"Ywosw8fD.+(JT#yqJ}_c\"><arg name=\"status\" id=\"mmd0k3t3tj16trqpiimt\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"mmd0k3t3tj16trqpiimt\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"status\":{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"local_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1650\" y=\"1313\"><mutation name=\"register_controller\" functionid=\"PwAXmEQR%~Rjk}}Rq$rp\"><arg name=\"name\" id=\"z0ifkj4tp4dyndt5o5il2f\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"z0ifkj4tp4dyndt5o5il2f\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"M7*b6SGkb/:ySFG$:WSl\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bk*Bwmx|,t.8c-a%E(l1\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"2283\" y=\"1313\"><mutation name=\"get_emitter_string\" functionid=\":lhSOf*:$gz4bv!a)|%@\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1908\"><mutation name=\"send_heart_beat\" functionid=\"jM3@.^PkbMY7MpkuBhRs\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"nbnozu2d]j3H^SA67eU?\"><arg name=\"message2\" id=\"z4g234m7hmcbr7l3sb8l\" type=\"string\"></arg></mutation><value name=\"z4g234m7hmcbr7l3sb8l\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\":lhSOf*:$gz4bv!a)|%@\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# Add your code in to handle the STOP request from controller\ndef do_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\n# internal function: emitter json string\ndef get_emitter_string():\n    return \"{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"at_ms\\\":\" + (\"\" + str(control.millis())) + \"}\"\ndef send_status(status: str):\n    emit_message(\"{\\\"status\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + (\"\" + str(control.millis())) + \"}}\")\n# Add your code in to handle the START request from controller\ndef do_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\n# Send hear tbeat\ndef send_heart_beat():\n    emit_message(\"{hearbeat\\\":\" + get_emitter_string() + \"}\")\n# Button A increments the radio group (0-16)\n\ndef on_button_pressed_a():\n    inc_radio_group(+1)\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n# Format log message with microbit name and time stamp in prefix\ndef send_log(level: str, message: str):\n    emit_message(\"{\\\"log\\\":{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"local_ms\\\":\" + (\"\" + str(control.millis())) + \", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message + \"\\\"}\" + \"}\")\n# Button B decrements the radio group (0-16)\n\ndef on_button_pressed_b():\n    inc_radio_group(-1)\ninput.on_button_pressed(Button.B, on_button_pressed_b)\n\n# Register the controller if no one is registered yet\ndef register_controller(name: str):\n    global controller_name\n    if controller_name == CONTROLLER_UNDEFINED:\n        controller_name = name\n    else:\n        pass\n# Emits the message to the defined destination.\ndef emit_message(message2: str):\n    if message_destination == MESSAGE_DESTINATION_RADIO:\n        radio.send_string(message2)\n    elif message_destination == MESSAGE_DESTINATION_LEDS:\n        basic.show_string(message2)\n    elif message_destination == MESSAGE_DESTINATION_SERIAL:\n        serial.write_string(message2)\n    else:\n        basic.show_string(\"WARNING: Invalid message_destination\")\n\n        \ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nmessage_destination = \"\"\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO = \"\"\nbot_collected = 0\nbot_distance = 0\nRADIO_GROUP_MAX = 0\nradio_group = 0\nRADIO_GROUP_MIN = 0\ndef inc_radio_group(increment: any):\n    global radio_group\n    radio_group += increment\n    if radio_group > RADIO_GROUP_MAX:\n        radio_group = RADIO_GROUP_MIN\n    elif radio_group < RADIO_GROUP_MIN:\n        radio_group = RADIO_GROUP_MAX\n    send_log(\"INFO\", \"radio_group=\" + (\"\" + str(radio_group)))\nRADIO_GROUP_MAX = 16\nradio_group = RADIO_GROUP_MIN\n# The radio group is controlled by button A and B.\nradio.set_group(radio_group)\nMESSAGE_DESTINATION_RADIO = \"radio\"\nMESSAGE_DESTINATION_LEDS = \"led\"\nMESSAGE_DESTINATION_SERIAL = \"serial\"\n# Do not change message destination after start.\nmessage_destination = MESSAGE_DESTINATION_RADIO\nCONTROLLER_UNDEFINED = \"undefined\"\n# Name of controller. This will be updated by code : do not touch\ncontroller_name = CONTROLLER_UNDEFINED\nbot_status = \"undefined\"\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n\n# Heart beat loop\n\ndef on_in_background():\n    while True:\n        control.wait_micros(1000000)\n        send_heart_beat()\ncontrol.in_background(on_in_background)\n","pxt.json":"{\n    \"name\": \"amaker-radio-comm\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1746716648714,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</variable><variable id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</variable><variable id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</variable><variable id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</variable><variable id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</variable><variable id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</variable><variable id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</variable><variable id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</variable><variable id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</variable><variable id=\"OLsWWU/zq0Ni6%mLA*jq\">MSG_KEY_HEARTBEAT</variable><variable id=\"j*0[0xluOA}%2PzXI9`q\">MSG_KEY_ACKNOWLEDGE</variable><variable id=\"BoG}mOz98Ed]Xa?SmWlX\">MSG_KEY_LOG</variable><variable id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</variable></variables><block type=\"control_in_background\" x=\"618\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"NeVajF2ceUW;=7^o?=Oz\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" x=\"887\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><value name=\"4z66fix02f2lv94gogle\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"pxt-on-start\" x=\"57\" y=\"73\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"OLsWWU/zq0Ni6%mLA*jq\">MSG_KEY_HEARTBEAT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">heartbeat</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"j*0[0xluOA}%2PzXI9`q\">MSG_KEY_ACKNOWLEDGE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"BoG}mOz98Ed]Xa?SmWlX\">MSG_KEY_LOG</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">status</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1220\" y=\"20\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><value name=\"4z66fix02f2lv94gogle\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"1553\" y=\"20\"></block><block type=\"radio_on_string_drag\" x=\"1758\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><value name=\"d409sr1vkpo6zu51umbcl\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value></block></statement></block><block type=\"serial_on_data_received\" x=\"2171\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Ypu can use message over serial  to test your code</comment><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><value name=\"d409sr1vkpo6zu51umbcl\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"serial_read_line\"></block></value></block></statement></block><block type=\"function_definition\" x=\"2600\" y=\"20\"><mutation name=\"tournament_start\" functionid=\"=I=Qpy_Xa5Zf%UMe{GR$\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: start </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"475\" y=\"346\"><mutation name=\"send_acknowledge\" functionid=\"-axg}]mf@K-;ntJg.Rkg\"><arg name=\"message\" id=\"cf1=W{NT((9`/s{ZP9yl\" type=\"string\"></arg></mutation><field name=\"function_name\">send_acknowledge</field><value name=\"cf1=W{NT((9`/s{ZP9yl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value></block><block type=\"function_call\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"609\" y=\"612\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VALUE\">messsage</field></block></value></block></value></block><block type=\"function_definition\" x=\"20\" y=\"913\"><mutation name=\"tournament_stop\" functionid=\"x@aBk99-c07/?)0=sfI?\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: stop</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"461\" y=\"913\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"d409sr1vkpo6zu51umbcl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">messsage</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1230\" y=\"913\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"4z66fix02f2lv94gogle\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2171\" y=\"913\"><mutation name=\"send_heart_beat\" functionid=\"NeVajF2ceUW;=7^o?=Oz\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2924\" y=\"913\"><mutation name=\"do_safety\" functionid=\"ADzLL@)2cdcdiV!JnsaM\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: safety </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1428\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"psfielc31uool2gm38ktcp\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{log\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"507\" y=\"1428\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"og6lrsaamvernj4fog43\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1276\" y=\"1428\"><mutation name=\"send_status\" functionid=\"b_xg,/+xXsfPFNkQY(Ql\"><arg name=\"status\" id=\"ohi9zvtb5qmwyjy0sk4bh\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"ohi9zvtb5qmwyjy0sk4bh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2005\" y=\"1428\"><mutation name=\"get_bot_info_string\" functionid=\"[I8zgKfky5l-hGjNP}`3\"></mutation><field name=\"function_name\">get_bot_info_string</field><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2567\" y=\"1428\"><mutation name=\"register_controller\" functionid=\"@QZPMg522lurTIodMOQo\"><arg name=\"name\" id=\"f9mk7d62qk0yug3cmz3i\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"f9mk7d62qk0yug3cmz3i\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value><next><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"20\" y=\"2023\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# internal function: emitter json string\ndef get_emitter_string():\n    return \"{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"at_ms\\\":\" + (\"\" + str(control.millis())) + \"}\"\ndef send_status(status: str):\n    emit_message(\"{status\\\":\" + get_emitter_string() + \"}\")\n# Send hear tbeat\ndef send_heart_beat():\n    emit_message(\"{\\\"hearbeat\\\":\" + get_emitter_string() + \"}\")\n# Add your code in to handle the START request from controller\ndef tournament_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\n    send_log(\"INFO\", \"ackmowledge: start \")\n# Button A increments the radio group (0-16)\n\ndef on_button_pressed_a():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n    send_log(\"INFO\", \"ackmowledge: safety \")\n# Format log message with microbit name and time stamp in prefix\ndef send_log(level: str, message: str):\n    emit_message(\"{log\\\":\" + get_emitter_string() + \", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message + \"\\\"}\")\n\ndef on_received_string(receivedString):\n    on_received_message(receivedString)\nradio.on_received_string(on_received_string)\n\n# Button B decrements the radio group (0-16)\n\ndef on_button_pressed_b():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.B, on_button_pressed_b)\n\n# Register the controller if no one is registered yet\ndef register_controller(name: str):\n    global controller_name\n    if controller_name == CONTROLLER_UNDEFINED:\n        controller_name = name\n        emit_message(\"{hearbeat\\\":\" + get_emitter_string() + \"}\")\n    else:\n        pass\ndef get_bot_info_string():\n    return \"{ \\\"collected\\\":\" + (\"\" + str(bot_collected)) + \", \\\"distance\\\" :\" + (\"\" + str(bot_distance)) + \",\\\"status\\\":\\\"\" + bot_status + \"\\\"}\"\n# Emits the message to the defined destination.\ndef emit_message(msg: str):\n    if message_destination == MESSAGE_DESTINATION_RADIO:\n        radio.send_string(msg)\n    elif message_destination == MESSAGE_DESTINATION_LEDS:\n        basic.show_string(msg)\n    elif message_destination == MESSAGE_DESTINATION_SERIAL:\n        serial.write_string(msg)\n    else:\n        basic.show_string(\"WARNING: Invalid message_destination\")\ndef on_received_message(messsage: str):\n    send_log(\"DEBUG\", \"acknowledge received message \" + messsage)\n# Ypu can use message over serial  to test your code\n\ndef on_data_received():\n    on_received_message(serial.read_line())\nserial.on_data_received(serial.delimiters(Delimiters.NEW_LINE), on_data_received)\n\ndef increment_radio_group(increment: number):\n    global radio_group\n    radio_group += increment\n    if radio_group > RADIO_GROUP_MAX:\n        radio_group = RADIO_GROUP_MIN\n    elif radio_group < RADIO_GROUP_MIN:\n        radio_group = RADIO_GROUP_MAX\n    send_log(\"INFO\", \"updated radio_group to\" + (\"\" + str(radio_group)))\n# Add your code in to handle the STOP request from controller\ndef tournament_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\n    send_log(\"INFO\", \"ackmowledge: stop\")\nbot_status = \"\"\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nmessage_destination = \"\"\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO = \"\"\nRADIO_GROUP_MIN = 0\nradio_group = 0\nRADIO_GROUP_MAX = 0\nbot_collected = 0\nbot_distance = 0\nMSG_KEY_HEARTBEAT = \"heartbeat\"\nMSG_KEY_ACKNOWLEDGE = \"acknowledge\"\nMSG_KEY_LOG = \"acknowledge\"\nMSG_KEY_STATUS = \"status\"\nbot_distance = 0\nbot_collected = 0\nRADIO_GROUP_MAX = 16\nradio_group = RADIO_GROUP_MIN\n# The radio group is controlled by button A and B.\nradio.set_group(radio_group)\nMESSAGE_DESTINATION_RADIO = \"radio\"\nMESSAGE_DESTINATION_LEDS = \"led\"\nMESSAGE_DESTINATION_SERIAL = \"serial\"\n# Do not change message destination after start.\nmessage_destination = MESSAGE_DESTINATION_RADIO\nCONTROLLER_UNDEFINED = \"undefined\"\n# Name of controller. This will be updated by code : do not touch\ncontroller_name = CONTROLLER_UNDEFINED\nbot_status = \"undefined\"\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n\n# Heart beat loop\n\ndef on_in_background():\n    while True:\n        control.wait_micros(1000000)\n        send_heart_beat()\ncontrol.in_background(on_in_background)\n","pxt.json":"{\n    \"name\": \"amaker-radio-comm\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1746718476852,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</variable><variable id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</variable><variable id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</variable><variable id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</variable><variable id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</variable><variable id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</variable><variable id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</variable><variable id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</variable><variable id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</variable><variable id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</variable><variable id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</variable><variable id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</variable><variable id=\"OLsWWU/zq0Ni6%mLA*jq\">MSG_KEY_HEARTBEAT</variable><variable id=\"j*0[0xluOA}%2PzXI9`q\">MSG_KEY_ACKNOWLEDGE</variable><variable id=\"BoG}mOz98Ed]Xa?SmWlX\">MSG_KEY_LOG</variable><variable id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</variable></variables><block type=\"control_in_background\" collapsed=\"true\" x=\"561\" y=\"-53\"><comment pinned=\"false\" h=\"80\" w=\"160\">Heart beat loop</comment><statement name=\"HANDLER\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"control_wait_us\"><value name=\"micros\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"6000\" precision=\"0\"></mutation><field name=\"SLIDER\">1000000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"send_heart_beat\" functionid=\"NeVajF2ceUW;=7^o?=Oz\"></mutation></block></next></block></statement></block></statement></block><block type=\"device_button_event\" collapsed=\"true\" x=\"830\" y=\"-53\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button A increments the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><value name=\"4z66fix02f2lv94gogle\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"pxt-on-start\" collapsed=\"true\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"OLsWWU/zq0Ni6%mLA*jq\">MSG_KEY_HEARTBEAT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">heartbeat</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"j*0[0xluOA}%2PzXI9`q\">MSG_KEY_ACKNOWLEDGE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"BoG}mOz98Ed]Xa?SmWlX\">MSG_KEY_LOG</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">acknowledge</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">status</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">16</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">The radio group is controlled by button A and B.</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">radio</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">led</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">serial</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field><comment pinned=\"false\" h=\"80\" w=\"160\">Do not change message destination after start.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field><comment pinned=\"false\" h=\"80\" w=\"160\">Name of controller. This will be updated by code : do not touch</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">undefined</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" collapsed=\"true\" x=\"1163\" y=\"-53\"><field name=\"NAME\">Button.B</field><comment pinned=\"false\" h=\"80\" w=\"160\">Button B decrements the radio group (0-16)</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><value name=\"4z66fix02f2lv94gogle\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block><block type=\"device_forever\" x=\"1496\" y=\"-53\"></block><block type=\"radio_on_string_drag\" collapsed=\"true\" x=\"1701\" y=\"-53\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><value name=\"d409sr1vkpo6zu51umbcl\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value></block></statement></block><block type=\"serial_on_data_received\" collapsed=\"true\" x=\"2114\" y=\"-53\"><comment pinned=\"false\" h=\"80\" w=\"160\">Ypu can use message over serial  to test your code</comment><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><value name=\"d409sr1vkpo6zu51umbcl\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"serial_read_line\"></block></value></block></statement></block><block type=\"function_definition\" x=\"2543\" y=\"-53\"><mutation name=\"tournament_start\" functionid=\"=I=Qpy_Xa5Zf%UMe{GR$\"></mutation><field name=\"function_name\">tournament_start</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the START request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment></block></statement></block><block type=\"function_definition\" x=\"418\" y=\"273\"><mutation name=\"send_acknowledge\" functionid=\"-axg}]mf@K-;ntJg.Rkg\"><arg name=\"message\" id=\"cf1=W{NT((9`/s{ZP9yl\" type=\"string\"></arg></mutation><field name=\"function_name\">send_acknowledge</field><value name=\"cf1=W{NT((9`/s{ZP9yl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value></block><block type=\"function_call\" disabled-reasons=\"ORPHANED_BLOCK,MANUALLY_DISABLED\" x=\"552\" y=\"539\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" disabled-reasons=\"MANUALLY_DISABLED\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\" disabled-reasons=\"MANUALLY_DISABLED\"><field name=\"VALUE\">messsage</field></block></value></block></value></block><block type=\"function_definition\" x=\"-37\" y=\"840\"><mutation name=\"tournament_stop\" functionid=\"x@aBk99-c07/?)0=sfI?\"></mutation><field name=\"function_name\">tournament_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the STOP request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">implement your own code here</comment><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: stop</field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"404\" y=\"840\"><mutation name=\"on_received_message\" functionid=\"OZ4zEVR8[!2Ypb_Ud6=C\"><arg name=\"messsage\" id=\"d409sr1vkpo6zu51umbcl\" type=\"string\"></arg></mutation><field name=\"function_name\">on_received_message</field><value name=\"d409sr1vkpo6zu51umbcl\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">messsage</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">DEBUG</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">acknowledge received message </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">messsage</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1173\" y=\"840\"><mutation name=\"increment_radio_group\" functionid=\"{yw1#X$^XL~z[abn~]+N\"><arg name=\"increment\" id=\"4z66fix02f2lv94gogle\" type=\"number\"></arg></mutation><field name=\"function_name\">increment_radio_group</field><value name=\"4z66fix02f2lv94gogle\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">increment</field></block></value><statement name=\"STACK\"><block type=\"variables_change\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">increment</field></block></value><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"bQQd[d{.;R(fCz;4vFF-\">RADIO_GROUP_MIN</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"co)7W/_UIpH=WL^nE%rK\">RADIO_GROUP_MAX</field></block></value></block></statement><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">updated radio_group to</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~M,}x.EaGV=U72W(3k;q\">radio_group</field></block></value></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2114\" y=\"840\"><mutation name=\"send_heart_beat\" functionid=\"NeVajF2ceUW;=7^o?=Oz\"></mutation><field name=\"function_name\">send_heart_beat</field><comment pinned=\"false\" h=\"80\" w=\"160\">Send hear tbeat</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2867\" y=\"840\"><mutation name=\"do_safety\" functionid=\"ADzLL@)2cdcdiV!JnsaM\"></mutation><field name=\"function_name\">do_safety</field><comment pinned=\"false\" h=\"80\" w=\"160\">Add your code in to handle the SAFETY  request from controller</comment><statement name=\"STACK\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.House</field><next><block type=\"function_call\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><value name=\"psfielc31uool2gm38ktcp\"><shadow type=\"text\"><field name=\"TEXT\">INFO</field></shadow></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><shadow type=\"text\"><field name=\"TEXT\">ackmowledge: safety </field></shadow></value></block></next></block></statement></block><block type=\"function_definition\" x=\"-37\" y=\"1355\"><mutation name=\"send_log\" functionid=\"GET4QEs:r{9Tl8V;|}Mb\"><arg name=\"level\" id=\"psfielc31uool2gm38ktcp\" type=\"string\"></arg><arg name=\"message\" id=\"6mr4jfg76wfx86ctbfkd6\" type=\"string\"></arg></mutation><field name=\"function_name\">send_log</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format log message with microbit name and time stamp in prefix</comment><value name=\"psfielc31uool2gm38ktcp\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">level</field></block></value><value name=\"6mr4jfg76wfx86ctbfkd6\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">message</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{log\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"level\":\"</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">level</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">\",\"message\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">message</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"450\" y=\"1355\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><field name=\"function_name\">emit_message</field><comment pinned=\"false\" h=\"80\" w=\"160\">Emits the message to the defined destination.</comment><value name=\"og6lrsaamvernj4fog43\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">msg</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GDiOmNFtXJp=1sX+9iRc\">MESSAGE_DESTINATION_RADIO</field></block></value></block></value><statement name=\"DO0\"><block type=\"radio_datagram_send_string\"><value name=\"msg\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8C6+q6a}K3YUc]QE=I9C\">MESSAGE_DESTINATION_LEDS</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a;S{-LU7,W~IwO?yn2e4\">message_destination</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K#$|O@l5Y[i.EkTR*juc\">MESSAGE_DESTINATION_SERIAL</field></block></value></block></value><statement name=\"DO2\"><block type=\"serial_writestring\"><value name=\"text\"><block type=\"argument_reporter_string\"><field name=\"VALUE\">msg</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">WARNING: Invalid message_destination</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1219\" y=\"1355\"><mutation name=\"send_status\" functionid=\"b_xg,/+xXsfPFNkQY(Ql\"><arg name=\"status\" id=\"ohi9zvtb5qmwyjy0sk4bh\" type=\"string\"></arg></mutation><field name=\"function_name\">send_status</field><value name=\"ohi9zvtb5qmwyjy0sk4bh\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">status</field></block></value><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".$0M4.ohP:Q,$8ecTR7+\">MSG_KEY_STATUS</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\":{\"emitter\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">, \"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"1948\" y=\"1355\"><mutation name=\"get_bot_info_string\" functionid=\"[I8zgKfky5l-hGjNP}`3\"></mutation><field name=\"function_name\">get_bot_info_string</field><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"7\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{ \"collected\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QSHHn!XfWW~6J}b!NO?E\">bot_collected</field></block></value></block></value></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">, \"distance\" :</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"D7:onhHKDE[ws|vO$u%Z\">bot_distance</field></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">,\"status\":\"</field></shadow></value><value name=\"ADD5\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S1RE2|(PtB2!(Fy6l35.\">bot_status</field></block></value><value name=\"ADD6\"><shadow type=\"text\"><field name=\"TEXT\">\"}</field></shadow></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2510\" y=\"1355\"><mutation name=\"register_controller\" functionid=\"@QZPMg522lurTIodMOQo\"><arg name=\"name\" id=\"f9mk7d62qk0yug3cmz3i\" type=\"string\"></arg></mutation><field name=\"function_name\">register_controller</field><comment pinned=\"false\" h=\"80\" w=\"160\">Register the controller if no one is registered yet</comment><value name=\"f9mk7d62qk0yug3cmz3i\"><block type=\"argument_reporter_string\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">name</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8]j}0^~Fs{4_obdmpW@/\">CONTROLLER_UNDEFINED</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"%NJV@fu*vC!n/e!5K0_5\">controller_name</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">name</field></block></value><next><block type=\"function_call\"><mutation name=\"emit_message\" functionid=\"l+`)uxd-AADP6T#mNF~J\"><arg name=\"msg\" id=\"og6lrsaamvernj4fog43\" type=\"string\"></arg></mutation><value name=\"og6lrsaamvernj4fog43\"><shadow type=\"text\"><field name=\"TEXT\">abc</field></shadow><block type=\"text_join\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{hearbeat\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"function_call_output\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"-37\" y=\"1950\"><mutation name=\"get_emitter_string\" functionid=\"?$mc_t3:;v#?]d|*69r3\"></mutation><field name=\"function_name\">get_emitter_string</field><comment pinned=\"false\" h=\"80\" w=\"160\">internal function: emitter json string</comment><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">{\"from\":</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_device_name\"></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">\", \"at_ms\":</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_join\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"control_running_time\"></block></value></block></value></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">}</field></shadow></value></block></value></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# internal function: emitter json string\ndef get_emitter_json_string():\n    return \"{\\\"from\\\":\" + control.device_name() + \"\\\", \\\"at_ms\\\":\" + (\"\" + str(control.millis())) + \"}\"\n\ndef get_json_message(message_key:str, json_payload:str):\n    if len(json_payload)>0:\n        return \"{\\\"\"+message_key+\"\\\":{\\\"\"+MSG_KEY_EMITTER+\"\\\":\" + get_emitter_json_string() + \", \\\"payload\\\":\"+json_payload+\"}\"\n    else:\n        return \"{\\\"\"+message_key+\"\\\":{\\\"\"+MSG_KEY_EMITTER+\"\\\":\" + get_emitter_json_string() + \"}\"\n\n# send acknowledgement of message received\ndef send_acknowledge(message: str):\n    global MSG_KEY_ACKNOWLEDGE\n    emit_message(get_json_message(MSG_KEY_ACKNOWLEDGE, message ))\n\n    \n# send acknowledgement of message received\ndef send_status(status: str):\n    global MSG_KEY_STATUS\n    emit_message(get_json_message(MSG_KEY_STATUS, status ))\n\n# Send hear tbeat\ndef send_heart_beat():\n    global MSG_KEY_HEARTBEAT\n    emit_message(get_json_message(MSG_KEY_HEARTBEAT, \"\" ))\n\n# Format log message with microbit name and time stamp in prefix\ndef send_log(level: str, message2: str):\n    emit_message(\"{log\\\":\" + get_emitter_json_string() + \", \\\"level\\\":\\\"\" + level + \"\\\",\\\"message\\\":\\\"\" + message2 + \"\\\"}\")\n\n\n# You can use message over serial  to test your code\ndef on_data_received():\n    on_received_message(serial.read_line())\nserial.on_data_received(serial.delimiters(Delimiters.NEW_LINE), on_data_received)\n\n# Button B decrements the radio group (0-16)\ndef on_button_pressed_b():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.B, on_button_pressed_b)\n# Button A increments the radio group (0-16)\ndef on_button_pressed_a():\n    increment_radio_group(1)\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n\n# Add your code in to handle the START request from controller\ndef tournament_start():\n    # implement your own code here\n    basic.show_icon(IconNames.YES)\n\n# Add your code in to handle the SAFETY  request from controller\ndef do_safety():\n    basic.show_icon(IconNames.HOUSE)\n    send_log(\"INFO\", \"ackmowledge: safety \")\n\n\ndef on_received_string(receivedString):\n    on_received_message(receivedString)\nradio.on_received_string(on_received_string)\n\n# Register the controller if no one is registered yet\ndef register_controller(name: str):\n    global controller_name\n    if controller_name == CONTROLLER_UNDEFINED:\n        controller_name = name\n        emit_message(\"{hearbeat\\\":\" + get_emitter_json_string() + \"}\")\n    else:\n        pass\ndef get_bot_info_string():\n    return \"{ \\\"collected\\\":\" + (\"\" + str(bot_collected)) + \", \\\"distance\\\" :\" + (\"\" + str(bot_distance)) + \",\\\"status\\\":\\\"\" + bot_status + \"\\\"}\"\n# Emits the message to the defined destination.\ndef emit_message(msg: str):\n    if message_destination == MESSAGE_DESTINATION_RADIO:\n        radio.send_string(msg)\n    elif message_destination == MESSAGE_DESTINATION_LEDS:\n        basic.show_string(msg)\n    elif message_destination == MESSAGE_DESTINATION_SERIAL:\n        serial.write_string(msg)\n    else:\n        basic.show_string(\"WARNING: Invalid message_destination\")\ndef on_received_message(messsage: str):\n    send_log(\"DEBUG\", \"acknowledge received message \" + \"\" + messsage)\ndef increment_radio_group(increment: number):\n    global radio_group\n    radio_group += increment\n    if radio_group > RADIO_GROUP_MAX:\n        radio_group = RADIO_GROUP_MIN\n    elif radio_group < RADIO_GROUP_MIN:\n        radio_group = RADIO_GROUP_MAX\n    send_log(\"INFO\", \"updated radio_group to\" + (\"\" + str(radio_group)))\n# Add your code in to handle the STOP request from controller\ndef tournament_stop():\n    # implement your own code here\n    basic.show_icon(IconNames.NO)\n    send_log(\"INFO\", \"ackmowledge: stop\")\n\n\nbot_status = \"\"\ncontroller_name = \"\"\nCONTROLLER_UNDEFINED = \"\"\nmessage_destination = \"\"\nMESSAGE_DESTINATION_SERIAL = \"\"\nMESSAGE_DESTINATION_LEDS = \"\"\nMESSAGE_DESTINATION_RADIO = \"\"\nRADIO_GROUP_MIN = 0\nradio_group = 0\nRADIO_GROUP_MAX = 0\nbot_collected = 0\nbot_distance = 0\nMSG_KEY_STATUS = \"\"\nMSG_KEY_HEARTBEAT = \"heartbeat\"\nMSG_KEY_ACKNOWLEDGE = \"acknowledge\"\nMSG_KEY_LOG = \"acknowledge\"\nMSG_KEY_STATUS = \"status\"\n\nMSG_KEY_EMITTER = \"emitter\"\nbot_distance = 0\nbot_collected = 0\nRADIO_GROUP_MAX = 16\nradio_group = RADIO_GROUP_MIN\n# The radio group is controlled by button A and B.\nradio.set_group(radio_group)\nMESSAGE_DESTINATION_RADIO = \"radio\"\nMESSAGE_DESTINATION_LEDS = \"led\"\nMESSAGE_DESTINATION_SERIAL = \"serial\"\n# Do not change message destination after start.\nmessage_destination = MESSAGE_DESTINATION_RADIO\nCONTROLLER_UNDEFINED = \"undefined\"\n# Name of controller. This will be updated by code : do not touch\ncontroller_name = CONTROLLER_UNDEFINED\nbot_status = \"undefined\"\n\ndef on_forever():\n    pass\nbasic.forever(on_forever)\n\n# Heart beat loop\n\ndef on_in_background():\n    while True:\n        control.wait_micros(1000000)\n        send_heart_beat()\ncontrol.in_background(on_in_background)\n","pxt.json":"{\n    \"name\": \"amaker-radio-comm\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}}],"shares":[],"lastSaveTime":1746719206031}